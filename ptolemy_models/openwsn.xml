<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="openwsn" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="10.0.devel">
    </property>
    <property name="WirelessDirector" class="ptolemy.domains.wireless.kernel.WirelessDirector">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{140, 110}">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 808}, maximized=true}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{427.0, 333.6015625}">
    </property>
    <property name="globalTime" class="ptolemy.data.expr.Parameter" value="0">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{665, 150}">
        </property>
    </property>
    <entity name="LimitedRangeChannel" class="ptolemy.domains.wireless.lib.LimitedRangeChannel">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, 185.0]">
        </property>
    </entity>
    <entity name="WirelessComposite" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="DEDirector" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[70.0, 35.0]">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{290.0, 315.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 808}, maximized=true}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 700]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{610.0, 347.181640625}">
        </property>
        <property name="PORT_TsSlotDuration" class="ptolemy.data.expr.Parameter" value="245">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, 30.0]">
            </property>
        </property>
        <property name="PORT_maxRxDataPrepare" class="ptolemy.data.expr.Parameter" value="16">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, 90.0]">
            </property>
        </property>
        <property name="PORT_maxRxAckPrepare" class="ptolemy.data.expr.Parameter" value="10">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{230.0, 70.0}">
            </property>
        </property>
        <property name="PORT_maxTxDataPrepare" class="ptolemy.data.expr.Parameter" value="33">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[230.0, 50.0]">
            </property>
        </property>
        <property name="PORT_delayRx" class="ptolemy.data.expr.Parameter" value="0">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[540.0, 75.0]">
            </property>
        </property>
        <property name="PORT_delayTx" class="ptolemy.data.expr.Parameter" value="10">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[540.0, 55.0]">
            </property>
        </property>
        <property name="PORT_maxTxAckPrepare" class="ptolemy.data.expr.Parameter" value="10">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[535.0, 35.0]">
            </property>
        </property>
        <property name="nominalClockFrequency" class="ptolemy.data.expr.Parameter" value="1/32000">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[790.0, 35.0]">
            </property>
        </property>
        <property name="clockValue" class="ptolemy.data.expr.Parameter" value="18036">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[790.0, 55.0]">
            </property>
        </property>
        <port name="in_channel" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="insideChannel" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[75.0, 370.0]">
            </property>
        </port>
        <port name="out_channel" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="insideChannel" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[1145.0, 395.0]">
            </property>
        </port>
        <entity name="tx-rx" class="ptolemy.domains.modal.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[590.0, 385.0]">
            </property>
            <port name="isrIeee154eTimer" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="dataToSend" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="isValidADV" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="isValidPacket" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="isrIeee154eNewSlot" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="ieee154eStartOfFrame" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="ieee154eEndOfFrame" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="cellType" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="dataToSendIsBroadcastOrMulticast" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="outPacket" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="failure" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="isAckReceived" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="dataReceived" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="clock" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="setTimer" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="resetTimer" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 808}, maximized=true}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1446, 917]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.7872513389441687">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{121.92914244186039, 306.55819404069774}">
                </property>
                <property name="TsTxOffset" class="ptolemy.data.expr.Parameter" value="131">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-490.0, -335.0]">
                    </property>
                </property>
                <property name="TsLongGT" class="ptolemy.data.expr.Parameter" value="43">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-490.0, -315.0]">
                    </property>
                </property>
                <property name="TsTxAckDelay" class="ptolemy.data.expr.Parameter" value="151">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-495.0, -295.0]">
                    </property>
                </property>
                <property name="maxRxDataPrepare" class="ptolemy.data.expr.Parameter" value="PORT_maxRxDataPrepare">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-480.0, -195.0]">
                    </property>
                </property>
                <property name="wdAckDuration" class="ptolemy.data.expr.Parameter" value="98">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-180.0, -195.0]">
                    </property>
                </property>
                <property name="TsShortGT" class="ptolemy.data.expr.Parameter" value="16">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-495.0, -275.0]">
                    </property>
                </property>
                <property name="TsSlotDuration" class="ptolemy.data.expr.Parameter" value="PORT_TsSlotDuration">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-490.0, -255.0]">
                    </property>
                </property>
                <property name="maxTxDataPrepare" class="ptolemy.data.expr.Parameter" value="PORT_maxTxDataPrepare">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-485.0, -235.0]">
                    </property>
                </property>
                <property name="maxRxAckPrepare" class="ptolemy.data.expr.Parameter" value="PORT_maxRxAckPrepare">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-485.0, -215.0]">
                    </property>
                </property>
                <property name="wdDataDuration" class="ptolemy.data.expr.Parameter" value="164">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-180.0, -225.0]">
                    </property>
                </property>
                <property name="wdRadioTx" class="ptolemy.data.expr.Parameter" value="33">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-185.0, -250.0]">
                    </property>
                </property>
                <property name="delayRx" class="ptolemy.data.expr.Parameter" value="PORT_delayRx">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-190.0, -280.0]">
                    </property>
                </property>
                <property name="delayTx" class="ptolemy.data.expr.Parameter" value="PORT_delayTx">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-195.0, -305.0]">
                    </property>
                </property>
                <property name="maxTxAckPrepare" class="ptolemy.data.expr.Parameter" value="PORT_maxTxAckPrepare">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-195.0, -330.0]">
                    </property>
                </property>
                <property name="lastCapturedTime" class="ptolemy.data.expr.Parameter" value="1">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[120.0, -325.0]">
                    </property>
                </property>
                <property name="DURATION_tt1" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+TsTxOffset-delayTx-maxTxDataPrepare">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[380.0, -310.0]">
                    </property>
                </property>
                <property name="DURATION_tt2" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+TsTxOffset-delayTx">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[380.0, -290.0]">
                    </property>
                </property>
                <property name="DURATION_tt8" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+wdAckDuration">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, -130.0]">
                    </property>
                </property>
                <property name="DURATION_rt8" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+wdAckDuration">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[935.0, -110.0]">
                    </property>
                </property>
                <property name="DURATION_rt7" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+TsTxAckDelay-delayTx+wdRadioTx">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[935.0, -135.0]">
                    </property>
                </property>
                <property name="DURATION_rt6" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+TsTxAckDelay-delayTx">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[930.0, -160.0]">
                    </property>
                </property>
                <property name="DURATION_rt5" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+TsTxAckDelay-delayTx-maxTxAckPrepare">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[935.0, -185.0]">
                    </property>
                </property>
                <property name="DURATION_rt4" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+wdDataDuration">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[930.0, -220.0]">
                    </property>
                </property>
                <property name="DURATION_rt3" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+TsTxOffset+TsLongGT">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[925.0, -255.0]">
                    </property>
                </property>
                <property name="DURATION_rt2" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+TsTxOffset-TsLongGT-delayRx">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[930.0, -280.0]">
                    </property>
                </property>
                <property name="DURATION_rt1" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+TsTxOffset-TsLongGT-delayRx-maxRxDataPrepare">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[920.0, -305.0]">
                    </property>
                </property>
                <property name="DURATION_tt7" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+TsTxAckDelay+TsShortGT">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, -165.0]">
                    </property>
                </property>
                <property name="DURATION_tt6" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+TsTxAckDelay-TsShortGT-delayRx">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, -185.0]">
                    </property>
                </property>
                <property name="DURATION_tt5" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+TsTxAckDelay-TsShortGT-delayRx-maxRxAckPrepare">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[380.0, -220.0]">
                    </property>
                </property>
                <property name="DURATION_tt4" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+wdDataDuration">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[385.0, -250.0]">
                    </property>
                </property>
                <property name="DURATION_tt3" class="ptolemy.data.expr.Parameter" value="lastCapturedTime+TsTxOffset-delayTx+wdRadioTx">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[380.0, -270.0]">
                    </property>
                </property>
                <property name="isSync" class="ptolemy.data.expr.Parameter" value="false">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-670.0, -335.0]">
                    </property>
                </property>
                <property name="DAGroot" class="ptolemy.data.expr.Parameter" value="false">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-670.0, -295.0]">
                    </property>
                </property>
                <property name="DESYNCTIMEOUT" class="ptolemy.data.expr.Parameter" value="333">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-755.0, -245.0]">
                    </property>
                </property>
                <property name="deSyncTimeout" class="ptolemy.data.expr.Parameter" value="0">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-755.0, -215.0]">
                    </property>
                </property>
                <property name="TXRETRIES" class="ptolemy.data.expr.Parameter" value="3">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-195.0, -360.0]">
                    </property>
                </property>
                <property name="l2_retriesLeft" class="ptolemy.data.expr.Parameter" value="TXRETRIES">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-685.0, -155.0]">
                    </property>
                </property>
                <property name="syncCapturedTime" class="ptolemy.data.expr.Parameter" value="1">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[120.0, -305.0]">
                    </property>
                </property>
                <property name="asn" class="ptolemy.data.expr.Parameter" value="0">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[120.0, -285.0]">
                    </property>
                </property>
                <port name="isrIeee154eTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1005.0, 20.0]">
                    </property>
                </port>
                <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-980.0, 125.0]">
                    </property>
                </port>
                <port name="isValidADV" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-980.0, 270.0]">
                    </property>
                </port>
                <port name="isValidPacket" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-985.0, 210.0]">
                    </property>
                </port>
                <port name="isrIeee154eNewSlot" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-980.0, 345.0]">
                    </property>
                </port>
                <port name="ieee154eStartOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-980.0, 410.0]">
                    </property>
                </port>
                <port name="ieee154eEndOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-975.0, 465.0]">
                    </property>
                </port>
                <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-980.0, 515.0]">
                    </property>
                </port>
                <port name="dataToSendIsBroadcastOrMulticast" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-990.0, 165.0]">
                    </property>
                </port>
                <port name="outPacket" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[960.0, 465.0]">
                    </property>
                </port>
                <port name="failure" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[960.0, 555.0]">
                    </property>
                </port>
                <port name="isAckReceived" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-980.0, 575.0]">
                    </property>
                </port>
                <port name="dataReceived" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-975.0, 650.0]">
                    </property>
                </port>
                <port name="clock" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-980.0, 720.0]">
                    </property>
                </port>
                <port name="setTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[965.0, 630.0]">
                    </property>
                </port>
                <port name="resetTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[965.0, 685.0]">
                    </property>
                </port>
                <entity name="SLEEP" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="decreaseDeSyncTimeout">
                    </property>
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-170.0, 355.0]">
                    </property>
                </entity>
                <entity name="init" class="ptolemy.domains.modal.kernel.State">
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{-440, 265}">
                    </property>
                </entity>
                <entity name="synchronization" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="synchronization">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-265.0, 75.0]">
                    </property>
                </entity>
                <entity name="transmission" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="transmission">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[180.0, 85.0]">
                    </property>
                </entity>
                <entity name="reception" class="ptolemy.domains.modal.kernel.State">
                    <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="reception">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 525.0]">
                    </property>
                </entity>
                <relation name="relation7" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync == true &amp;&amp; deSyncTimeout == 0 &amp;&amp; isrIeee154eNewSlot_isPresent">
                    </property>
                    <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="isSync = false">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.5766261639082972">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5116922695489585">
                    </property>
                    <property name="immediate" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation6" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="annotation" class="ptolemy.data.expr.StringParameter" value="set DURATION_rt1">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync == true &amp;&amp;  isrIeee154eNewSlot_isPresent &amp;&amp; cellType == CELLTYPE_ADV &amp;&amp; ! dataToSend_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_rt1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.7600444919659272">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.5771719384850973">
                    </property>
                    <property name="immediate" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation9" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="annotation" class="ptolemy.data.expr.StringParameter" value="set DURATION_tt1">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync == true &amp;&amp;  isrIeee154eNewSlot_isPresent &amp;&amp; cellType == CELLTYPE_TXRX &amp;&amp; dataToSend_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_tt1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.08918511156969416">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.4249338461226285">
                    </property>
                </relation>
                <relation name="relation8" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="annotation" class="ptolemy.data.expr.StringParameter" value="set DURATION_tt1">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync == true &amp;&amp;  isrIeee154eNewSlot_isPresent &amp;&amp; cellType == CELLTYPE_TX &amp;&amp; dataToSend_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_tt1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.7258740452285117">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.43318693144708503">
                    </property>
                </relation>
                <relation name="relation11" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="annotation" class="ptolemy.data.expr.StringParameter" value="set DURATION_rt1">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync == true &amp;&amp;  isrIeee154eNewSlot_isPresent &amp;&amp; cellType == CELLTYPE_TXRX &amp;&amp; ! dataToSend_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_rt1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="1.2088364762823711">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.5414687807752515">
                    </property>
                </relation>
                <relation name="relation12" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="annotation" class="ptolemy.data.expr.StringParameter" value="set DURATION_rt1">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync == true &amp;&amp;  isrIeee154eNewSlot_isPresent &amp;&amp; cellType == CELLTYPE_RX">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_rt1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.3533884373517565">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.5339838830438532">
                    </property>
                </relation>
                <relation name="relation26" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="annotation" class="ptolemy.data.expr.StringParameter" value="init variables here">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.6644638607033293">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.31492472662446025">
                    </property>
                    <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                </relation>
                <relation name="relation10" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="resetTimer=true">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.2334696450636753">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.248138829147926">
                    </property>
                    <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                        <display name="default"/>
                    </property>
                    <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="termination" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </relation>
                <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.6085487736239026">
                    </property>
                    <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                        <display name="default"/>
                    </property>
                    <property name="history" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.2018352578891194">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="4.242988610725802">
                    </property>
                    <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                        <display name="default"/>
                    </property>
                    <property name="history" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="resetTimer=true">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.651006890952675">
                    </property>
                    <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="termination" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.6637188398397986">
                    </property>
                    <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                        <display name="default"/>
                    </property>
                    <property name="history" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="resetTimer=true">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.3281779979466945">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.6372007332780054">
                    </property>
                    <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="termination" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </relation>
                <relation name="relation13" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="annotation" class="ptolemy.data.expr.StringParameter" value="setTimer = DURATION_tt1">
                    </property>
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync == true &amp;&amp;  isrIeee154eNewSlot_isPresent &amp;&amp; cellType == CELLTYPE_ADV &amp;&amp; dataToSend_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_tt1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.36724219605712843">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.4255102171745906">
                    </property>
                </relation>
                <link port="SLEEP.incomingPort" relation="relation7"/>
                <link port="SLEEP.incomingPort" relation="relation26"/>
                <link port="SLEEP.incomingPort" relation="relation10"/>
                <link port="SLEEP.incomingPort" relation="relation3"/>
                <link port="SLEEP.incomingPort" relation="relation5"/>
                <link port="SLEEP.outgoingPort" relation="relation7"/>
                <link port="SLEEP.outgoingPort" relation="relation6"/>
                <link port="SLEEP.outgoingPort" relation="relation9"/>
                <link port="SLEEP.outgoingPort" relation="relation8"/>
                <link port="SLEEP.outgoingPort" relation="relation11"/>
                <link port="SLEEP.outgoingPort" relation="relation12"/>
                <link port="SLEEP.outgoingPort" relation="relation13"/>
                <link port="init.outgoingPort" relation="relation26"/>
                <link port="synchronization.incomingPort" relation="relation"/>
                <link port="synchronization.outgoingPort" relation="relation10"/>
                <link port="synchronization.outgoingPort" relation="relation"/>
                <link port="transmission.incomingPort" relation="relation8"/>
                <link port="transmission.incomingPort" relation="relation9"/>
                <link port="transmission.incomingPort" relation="relation2"/>
                <link port="transmission.incomingPort" relation="relation13"/>
                <link port="transmission.outgoingPort" relation="relation2"/>
                <link port="transmission.outgoingPort" relation="relation3"/>
                <link port="reception.incomingPort" relation="relation11"/>
                <link port="reception.incomingPort" relation="relation12"/>
                <link port="reception.incomingPort" relation="relation6"/>
                <link port="reception.incomingPort" relation="relation4"/>
                <link port="reception.outgoingPort" relation="relation4"/>
                <link port="reception.outgoingPort" relation="relation5"/>
            </entity>
            <entity name="decreaseDeSyncTimeout" class="ptolemy.domains.modal.modal.Refinement">
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={177, 124, 934, 634}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{228.46720377604166, 520.8394639756945}">
                </property>
                <property name="SR Director" class="ptolemy.domains.sr.kernel.SRDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{230, 310}">
                    </property>
                </property>
                <port name="isrIeee154eTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-125.0, 325.0]">
                    </property>
                </port>
                <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{-100.0, 430.0}">
                    </property>
                </port>
                <port name="isValidADV" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-100.0, 575.0]">
                    </property>
                </port>
                <port name="isValidPacket" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-105.0, 515.0]">
                    </property>
                </port>
                <port name="isrIeee154eNewSlot" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-100.0, 650.0]">
                    </property>
                </port>
                <port name="ieee154eStartOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-100.0, 715.0]">
                    </property>
                </port>
                <port name="ieee154eEndOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 770.0]">
                    </property>
                </port>
                <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                    </property>
                </port>
                <port name="dataToSendIsBroadcastOrMulticast" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                    </property>
                </port>
                <port name="outPacket" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 200.0}">
                    </property>
                </port>
                <port name="failure" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 240.0}">
                    </property>
                </port>
                <port name="isAckReceived" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 280.0}">
                    </property>
                </port>
                <port name="dataReceived" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 320.0}">
                    </property>
                </port>
                <port name="clock" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                    </property>
                </port>
                <port name="setTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 200.0}">
                    </property>
                </port>
                <port name="resetTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 240.0}">
                    </property>
                </port>
                <entity name="IsPresent" class="ptolemy.actor.lib.logic.IsPresent">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 650.0]">
                    </property>
                </entity>
                <entity name="LogicGate" class="ptolemy.actor.lib.logic.LogicGate">
                    <property name="LogicGate_Icon" class="ptolemy.vergil.icon.EditorIcon">
                        <property name="polygon" class="ptolemy.vergil.kernel.attributes.ResizablePolygonAttribute">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[9.0, 0.0]">
                            </property>
                            <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 0.0}">
                            </property>
                            <property name="width" class="ptolemy.data.expr.Parameter" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? 0 : 35">
                            </property>
                            <property name="height" class="ptolemy.data.expr.Parameter" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? 0 : 41">
                            </property>
                            <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                            </property>
                            <property name="vertices" class="ptolemy.data.expr.Parameter" value="{0.0, 0.0, 35.0, 20.0, 0.0, 40.0}">
                            </property>
                            <property name="_renderFirst" class="ptolemy.kernel.util.SingletonAttribute">
                            </property>
                        </property>
                        <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, -20.0]">
                            </property>
                            <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 0.0}">
                            </property>
                            <property name="width" class="ptolemy.data.expr.Parameter" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? 30 : 16">
                            </property>
                            <property name="height" class="ptolemy.data.expr.Parameter" value="40">
                            </property>
                            <property name="centered" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="arc" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-14.0, -20.0]">
                            </property>
                            <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? {0.0, 0.0, 0.0, 1.0} : {0.0, 0.0, 0.0, 0.0}">
                            </property>
                            <property name="width" class="ptolemy.data.expr.Parameter" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? 40 : 0">
                            </property>
                            <property name="height" class="ptolemy.data.expr.Parameter" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? 40 : 0">
                            </property>
                            <property name="centered" class="ptolemy.data.expr.Parameter" value="false">
                                <property name="style" class="ptolemy.actor.gui.style.TextStyle">
                                    <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                    <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                                    </property>
                                </property>
                            </property>
                            <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                            </property>
                            <property name="type" class="ptolemy.data.expr.StringParameter" value="open">
                            </property>
                            <property name="start" class="ptolemy.data.expr.Parameter" value="90.0">
                            </property>
                            <property name="extent" class="ptolemy.data.expr.Parameter" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? -180.0 : -60.0">
                            </property>
                        </property>
                        <property name="arc2" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{9.0, -10.0}">
                            </property>
                            <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? {0.0, 0.0, 0.0, 0.0} : {0.0, 0.0, 0.0, 1.0}">
                            </property>
                            <property name="width" class="ptolemy.data.expr.Parameter" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? 0 : 80">
                            </property>
                            <property name="height" class="ptolemy.data.expr.Parameter" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? 0 : 80">
                            </property>
                            <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                                <property name="style" class="ptolemy.actor.gui.style.TextStyle">
                                    <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                    <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                                    </property>
                                </property>
                            </property>
                            <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                            </property>
                            <property name="type" class="ptolemy.data.expr.StringParameter" value="open">
                            </property>
                            <property name="start" class="ptolemy.data.expr.Parameter" value="90.0">
                            </property>
                            <property name="extent" class="ptolemy.data.expr.Parameter" value="-60.0">
                            </property>
                        </property>
                        <property name="arc3" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[9.0, 10.0]">
                            </property>
                            <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? {0.0, 0.0, 0.0, 0.0} : {0.0, 0.0, 0.0, 1.0}">
                            </property>
                            <property name="width" class="ptolemy.data.expr.Parameter" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? 0 : 80">
                            </property>
                            <property name="height" class="ptolemy.data.expr.Parameter" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? 0 : 80">
                            </property>
                            <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                                <property name="style" class="ptolemy.actor.gui.style.TextStyle">
                                    <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                    <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                                    </property>
                                </property>
                            </property>
                            <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                            </property>
                            <property name="type" class="ptolemy.data.expr.StringParameter" value="open">
                            </property>
                            <property name="start" class="ptolemy.data.expr.Parameter" value="-90.0">
                            </property>
                            <property name="extent" class="ptolemy.data.expr.Parameter" value="60.0">
                            </property>
                        </property>
                        <property name="arc6" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[33.0, 0.0]">
                            </property>
                            <property name="width" class="ptolemy.data.expr.Parameter" value="14">
                            </property>
                            <property name="height" class="ptolemy.data.expr.Parameter" value="14">
                            </property>
                            <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                            </property>
                            <property name="type" class="ptolemy.data.expr.StringParameter" value="chord">
                            </property>
                            <property name="start" class="ptolemy.data.expr.Parameter" value="-180.0">
                            </property>
                            <property name="extent" class="ptolemy.data.expr.Parameter" value="(logic == &quot;nor&quot; || logic == &quot;nand&quot; || logic == &quot;xnor&quot;) ? 360.0 : 0.0">
                            </property>
                        </property>
                        <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, -20.0]">
                            </property>
                            <property name="x" class="ptolemy.data.expr.Parameter" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? 30 : 16">
                            </property>
                            <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                            </property>
                        </property>
                        <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, 20.0]">
                            </property>
                            <property name="x" class="ptolemy.data.expr.Parameter" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? 30 : 16">
                            </property>
                            <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                            </property>
                        </property>
                        <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-24.0, -20.0]">
                            </property>
                            <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                            </property>
                            <property name="y" class="ptolemy.data.expr.Parameter" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? 40 : 0">
                            </property>
                        </property>
                        <property name="arc4" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-20.0, 0.0]">
                            </property>
                            <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                            </property>
                            <property name="height" class="ptolemy.data.expr.Parameter" value="45">
                            </property>
                            <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 1.0}">
                            </property>
                            <property name="type" class="ptolemy.data.expr.StringParameter" value="open">
                            </property>
                            <property name="start" class="ptolemy.data.expr.Parameter" value="-60.0">
                            </property>
                            <property name="extent" class="ptolemy.data.expr.Parameter" value="(logic == &quot;and&quot; || logic == &quot;nand&quot;) ? 0 : 120.0">
                            </property>
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={130, 353, 934, 634}, maximized=false}">
                        </property>
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
                        </property>
                        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                        </property>
                        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{12.5, 9.25}">
                        </property>
                        <property name="arc5" class="ptolemy.vergil.kernel.attributes.ArcAttribute">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-25.0, 0.0]">
                            </property>
                            <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="(logic == &quot;xnor&quot; || logic == &quot;xor&quot;) ? {0.0, 0.0, 0.0, 1.0} : {0.0, 0.0, 0.0, 0.0}">
                            </property>
                            <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                            </property>
                            <property name="height" class="ptolemy.data.expr.Parameter" value="45">
                            </property>
                            <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 1.0, 1.0, 0.0}">
                            </property>
                            <property name="type" class="ptolemy.data.expr.StringParameter" value="open">
                            </property>
                            <property name="start" class="ptolemy.data.expr.Parameter" value="-60.0">
                            </property>
                            <property name="extent" class="ptolemy.data.expr.Parameter" value="(logic == &quot;xnor&quot; || logic == &quot;xor&quot;) ? 120.0 : 0">
                            </property>
                        </property>
                        <property name="ParameterValue" class="ptolemy.vergil.kernel.attributes.AttributeExpressionAttribute">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="logic">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="6">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-18.0, -9.0]">
                            </property>
                            <property name="_renderLast" class="ptolemy.kernel.util.SingletonAttribute">
                            </property>
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[235.0, 550.0]">
                    </property>
                </entity>
                <entity name="Expression" class="ptolemy.actor.lib.Expression">
                    <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="isSync">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{90, 535}">
                    </property>
                </entity>
                <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                    <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="DAGroot">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[85.0, 470.0]">
                    </property>
                </entity>
                <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                    <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="deSyncTimeout - 1">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[285.0, 420.0]">
                    </property>
                </entity>
                <entity name="Expression4" class="ptolemy.actor.lib.Expression">
                    <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="deSyncTimeout &gt;= 0">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[85.0, 405.0]">
                    </property>
                </entity>
                <entity name="When" class="ptolemy.domains.sr.lib.When">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[370.0, 515.0]">
                    </property>
                </entity>
                <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="deSyncTimeout">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[495.0, 515.0]">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="isrIeee154eNewSlot" relation="relation"/>
                <link port="IsPresent.input" relation="relation"/>
                <link port="IsPresent.output" relation="relation2"/>
                <link port="LogicGate.input" relation="relation2"/>
                <link port="LogicGate.input" relation="relation3"/>
                <link port="LogicGate.input" relation="relation4"/>
                <link port="LogicGate.input" relation="relation6"/>
                <link port="LogicGate.output" relation="relation5"/>
                <link port="Expression.output" relation="relation3"/>
                <link port="Expression2.output" relation="relation4"/>
                <link port="Expression3.output" relation="relation7"/>
                <link port="Expression4.output" relation="relation6"/>
                <link port="When.input" relation="relation7"/>
                <link port="When.output" relation="relation8"/>
                <link port="When.control" relation="relation5"/>
                <link port="SetVariable.input" relation="relation8"/>
            </entity>
            <entity name="synchronization" class="ptolemy.domains.modal.modal.ModalRefinement">
                <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                </property>
                <port name="isrIeee154eTimer" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1225.0, 375.0]">
                    </property>
                </port>
                <port name="dataToSend" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 480.0]">
                    </property>
                </port>
                <port name="isValidADV" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 625.0]">
                    </property>
                </port>
                <port name="isValidPacket" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1205.0, 565.0]">
                    </property>
                </port>
                <port name="isrIeee154eNewSlot" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 700.0]">
                    </property>
                </port>
                <port name="ieee154eStartOfFrame" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 765.0]">
                    </property>
                </port>
                <port name="ieee154eEndOfFrame" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1195.0, 820.0]">
                    </property>
                </port>
                <port name="cellType" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 870.0]">
                    </property>
                </port>
                <port name="dataToSendIsBroadcastOrMulticast" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1210.0, 520.0]">
                    </property>
                </port>
                <port name="outPacket" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2050.0, 615.0]">
                    </property>
                </port>
                <port name="failure" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2050.0, 705.0]">
                    </property>
                </port>
                <port name="isAckReceived" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 930.0]">
                    </property>
                </port>
                <port name="dataReceived" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1195.0, 1005.0]">
                    </property>
                </port>
                <port name="clock" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                </port>
                <port name="setTimer" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="output"/>
                </port>
                <port name="resetTimer" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="output"/>
                </port>
                <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                    <property name="_library" class="ptolemy.moml.LibraryAttribute">
                        <configure>
            <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
          </configure>
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 804}, maximized=true}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.5120000000000003">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{96.99999999999989, 429.6015624999999}">
                    </property>
                    <port name="isrIeee154eTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-230.0, 215.0]">
                        </property>
                    </port>
                    <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-230.0, 255.0]">
                        </property>
                    </port>
                    <port name="isValidADV" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-230.0, 295.0]">
                        </property>
                    </port>
                    <port name="isValidPacket" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-230.0, 335.0]">
                        </property>
                    </port>
                    <port name="isrIeee154eNewSlot" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-230.0, 375.0]">
                        </property>
                    </port>
                    <port name="ieee154eStartOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-230.0, 415.0]">
                        </property>
                    </port>
                    <port name="ieee154eEndOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-230.0, 455.0]">
                        </property>
                    </port>
                    <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-230.0, 495.0]">
                        </property>
                    </port>
                    <port name="dataToSendIsBroadcastOrMulticast" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-230.0, 535.0]">
                        </property>
                    </port>
                    <port name="outPacket" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[910.0, 375.0]">
                        </property>
                    </port>
                    <port name="failure" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[950.0, 375.0]">
                        </property>
                    </port>
                    <port name="isAckReceived" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-230.0, 575.0]">
                        </property>
                    </port>
                    <port name="dataReceived" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-230.0, 615.0]">
                        </property>
                    </port>
                    <port name="clock" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                        </property>
                    </port>
                    <port name="setTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[675.0, 580.0]">
                        </property>
                    </port>
                    <port name="resetTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[715.0, 580.0]">
                        </property>
                    </port>
                    <entity name="SYNCLISTEN" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[191.61620325168187, 424.06459632935366]">
                        </property>
                    </entity>
                    <entity name="SYNCRX" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[486.61620325168184, 469.06459632935355]">
                        </property>
                    </entity>
                    <entity name="SYNCPROC" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[556.6162032516817, 194.0645963293537]">
                        </property>
                    </entity>
                    <entity name="SLEEP" class="ptolemy.domains.modal.kernel.State">
                        <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{710, 450}">
                        </property>
                    </entity>
                    <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eStartOfFrame_isPresent &amp;&amp; isSync==false">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.5261388634308382">
                        </property>
                    </relation>
                    <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eEndOfFrame_isPresent &amp;&amp; isSync==false">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="isSync=true; deSyncTimeout = DESYNCTIMEOUT">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4195276568094694">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.7088645645985394">
                        </property>
                    </relation>
                    <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="! isValidPacket || ! isValidADV">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="isSync=false">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.9976958913678846">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.0646340545790962">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <link port="SYNCLISTEN.incomingPort" relation="relation3"/>
                    <link port="SYNCLISTEN.outgoingPort" relation="relation"/>
                    <link port="SYNCRX.incomingPort" relation="relation"/>
                    <link port="SYNCRX.outgoingPort" relation="relation2"/>
                    <link port="SYNCPROC.incomingPort" relation="relation2"/>
                    <link port="SYNCPROC.outgoingPort" relation="relation3"/>
                    <link port="SYNCPROC.outgoingPort" relation="relation4"/>
                    <link port="SLEEP.incomingPort" relation="relation4"/>
                </entity>
                <relation name="isrIeee154eTimerRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="dataToSendRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="isValidADVRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="isValidPacketRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="isrIeee154eNewSlotRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="ieee154eStartOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="ieee154eEndOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="cellTypeRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="dataToSendIsBroadcastOrMulticastRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="outPacketRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="failureRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="isAckReceivedRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="dataReceivedRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="clockRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="setTimerRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="resetTimerRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <link port="isrIeee154eTimer" relation="isrIeee154eTimerRelation"/>
                <link port="dataToSend" relation="dataToSendRelation"/>
                <link port="isValidADV" relation="isValidADVRelation"/>
                <link port="isValidPacket" relation="isValidPacketRelation"/>
                <link port="isrIeee154eNewSlot" relation="isrIeee154eNewSlotRelation"/>
                <link port="ieee154eStartOfFrame" relation="ieee154eStartOfFrameRelation"/>
                <link port="ieee154eEndOfFrame" relation="ieee154eEndOfFrameRelation"/>
                <link port="cellType" relation="cellTypeRelation"/>
                <link port="dataToSendIsBroadcastOrMulticast" relation="dataToSendIsBroadcastOrMulticastRelation"/>
                <link port="outPacket" relation="outPacketRelation"/>
                <link port="failure" relation="failureRelation"/>
                <link port="isAckReceived" relation="isAckReceivedRelation"/>
                <link port="dataReceived" relation="dataReceivedRelation"/>
                <link port="clock" relation="clockRelation"/>
                <link port="setTimer" relation="setTimerRelation"/>
                <link port="resetTimer" relation="resetTimerRelation"/>
                <link port="_Controller.isrIeee154eTimer" relation="isrIeee154eTimerRelation"/>
                <link port="_Controller.dataToSend" relation="dataToSendRelation"/>
                <link port="_Controller.isValidADV" relation="isValidADVRelation"/>
                <link port="_Controller.isValidPacket" relation="isValidPacketRelation"/>
                <link port="_Controller.isrIeee154eNewSlot" relation="isrIeee154eNewSlotRelation"/>
                <link port="_Controller.ieee154eStartOfFrame" relation="ieee154eStartOfFrameRelation"/>
                <link port="_Controller.ieee154eEndOfFrame" relation="ieee154eEndOfFrameRelation"/>
                <link port="_Controller.cellType" relation="cellTypeRelation"/>
                <link port="_Controller.dataToSendIsBroadcastOrMulticast" relation="dataToSendIsBroadcastOrMulticastRelation"/>
                <link port="_Controller.outPacket" relation="outPacketRelation"/>
                <link port="_Controller.failure" relation="failureRelation"/>
                <link port="_Controller.isAckReceived" relation="isAckReceivedRelation"/>
                <link port="_Controller.dataReceived" relation="dataReceivedRelation"/>
                <link port="_Controller.clock" relation="clockRelation"/>
                <link port="_Controller.setTimer" relation="setTimerRelation"/>
                <link port="_Controller.resetTimer" relation="resetTimerRelation"/>
            </entity>
            <entity name="transmission" class="ptolemy.domains.modal.modal.ModalRefinement">
                <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                </property>
                <port name="isrIeee154eTimer" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1225.0, 375.0]">
                    </property>
                </port>
                <port name="dataToSend" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 480.0]">
                    </property>
                </port>
                <port name="isValidADV" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 625.0]">
                    </property>
                </port>
                <port name="isValidPacket" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1205.0, 565.0]">
                    </property>
                </port>
                <port name="isrIeee154eNewSlot" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 700.0]">
                    </property>
                </port>
                <port name="ieee154eStartOfFrame" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 765.0]">
                    </property>
                </port>
                <port name="ieee154eEndOfFrame" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1195.0, 820.0]">
                    </property>
                </port>
                <port name="cellType" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 870.0]">
                    </property>
                </port>
                <port name="dataToSendIsBroadcastOrMulticast" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1210.0, 520.0]">
                    </property>
                </port>
                <port name="outPacket" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2050.0, 615.0]">
                    </property>
                </port>
                <port name="failure" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2050.0, 705.0]">
                    </property>
                </port>
                <port name="isAckReceived" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 930.0]">
                    </property>
                </port>
                <port name="dataReceived" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1195.0, 1005.0]">
                    </property>
                </port>
                <port name="clock" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                </port>
                <port name="setTimer" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="output"/>
                </port>
                <port name="resetTimer" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="output"/>
                </port>
                <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                    <property name="_library" class="ptolemy.moml.LibraryAttribute">
                        <configure>
            <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
          </configure>
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 808}, maximized=true}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 699]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.000000000000001">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{52.2032521802322, 499.2156431686047}">
                    </property>
                    <port name="isrIeee154eTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-880.0, 260.0]">
                        </property>
                    </port>
                    <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-880.0, 300.0]">
                        </property>
                    </port>
                    <port name="isValidADV" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-880.0, 340.0]">
                        </property>
                    </port>
                    <port name="isValidPacket" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-880.0, 380.0]">
                        </property>
                    </port>
                    <port name="isrIeee154eNewSlot" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-880.0, 420.0]">
                        </property>
                    </port>
                    <port name="ieee154eStartOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-880.0, 460.0]">
                        </property>
                    </port>
                    <port name="ieee154eEndOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-880.0, 500.0]">
                        </property>
                    </port>
                    <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-880.0, 540.0]">
                        </property>
                    </port>
                    <port name="dataToSendIsBroadcastOrMulticast" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-880.0, 580.0]">
                        </property>
                    </port>
                    <port name="outPacket" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[1500.0, 745.0]">
                        </property>
                    </port>
                    <port name="failure" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[1500.0, 820.0]">
                        </property>
                    </port>
                    <port name="isAckReceived" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-880.0, 620.0]">
                        </property>
                    </port>
                    <port name="dataReceived" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-880.0, 660.0]">
                        </property>
                    </port>
                    <port name="clock" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-880.0, 710.0]">
                        </property>
                    </port>
                    <port name="setTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[1105.0, 360.0]">
                        </property>
                    </port>
                    <port name="resetTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[1105.0, 415.0]">
                        </property>
                    </port>
                    <entity name="SLEEP" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[155.0, 1035.0]">
                        </property>
                    </entity>
                    <entity name="TXDATAPREPARE" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[200.0, 370.0]">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                    </entity>
                    <entity name="RXACKLISTEN" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[540.0, 550.0]">
                        </property>
                    </entity>
                    <entity name="TXDATA" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-135.0, 520.0]">
                        </property>
                    </entity>
                    <entity name="TXPROC" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[795.0, 1010.0]">
                        </property>
                    </entity>
                    <entity name="RXACK" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[630.0, 755.0]">
                        </property>
                    </entity>
                    <entity name="RXACKREADY" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, 545.0]">
                        </property>
                    </entity>
                    <entity name="TRXDATAREADY" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-50.0, 375.0]">
                        </property>
                    </entity>
                    <entity name="RXACKPREPARE" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[210.0, 560.0]">
                        </property>
                    </entity>
                    <entity name="RXACKOFFSET" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 550.0]">
                        </property>
                    </entity>
                    <entity name="TXDATADELAY" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-350.0, 400.0]">
                        </property>
                    </entity>
                    <entity name="TXDATAOFFSET" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[410.0, 375.0]">
                        </property>
                    </entity>
                    <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="here you set the frequency, load the packet, and turn on the radio (and you should also set the timer DURATION_tt2)">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_tt2">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.23389950709917343">
                        </property>
                    </relation>
                    <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.05333984270878116">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="here you set the timer DURATION_tt3 and tell the radio to start transmitting">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer=DURATION_tt3">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.1493720837884907">
                        </property>
                    </relation>
                    <relation name="relation6" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="when receive a frame, you HAVE TO cancel timer tt3 and set timer DURATION_tt4">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; isrIeee154eStartOfFrame_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer=DURATION_tt4">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.1155932109097518">
                        </property>
                    </relation>
                    <relation name="relation7" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="when the timer tt3 goes off, if nothing else happened">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="! isrIeee154eStartOfFrame_isPresent &amp;&amp; isrIeee154eTimer_isPresent">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.23197481399199177">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.8999319089909297">
                        </property>
                    </relation>
                    <relation name="relation8" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="when timer tt4 goes off and you have't finished to send the packet-&gt; ERROR">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="! isrIeee154eEndOfFrame_isPresent &amp;&amp; isrIeee154eTimer_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="failure = true">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.39339964422554974">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9592230757029134">
                        </property>
                    </relation>
                    <relation name="relation10" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="if it is not synchronized anymore">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent &amp;&amp; isSync == false &amp;&amp; isrIeee154eEndOfFrame_isPresent">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.29448884640842776">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9611133097515627">
                        </property>
                    </relation>
                    <relation name="relation11" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="successfully sent a packet; cancel any timer">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="dataToSendIsBroadcastOrMulticast">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="outPacket = true">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.4865868159765455">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9934666811156396">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation12" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="Turn on radio in rx mode schedule DURATION_tt6">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_tt6">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.07974276923632244">
                        </property>
                    </relation>
                    <relation name="relation13" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.527758348395849">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation14" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="DURATION_tt6 goes off, start listen to the radio; schedule DURATION_tt7">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_tt7">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.21834897915568438">
                        </property>
                    </relation>
                    <relation name="relation15" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="if timer DURATION_tt7 goes off, there is an error... check COMPONENT_RES_TO_IEEE802154E;">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="failure= l2_retriesLeft==0 ? true : false">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.370044230992271">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-3.0423914828121346">
                        </property>
                    </relation>
                    <relation name="relation16" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="cancel timer; schedule DURATION_tt8">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; isrIeee154eStartOfFrame_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer=DURATION_tt8">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4407067286132529">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.08072659843572595">
                        </property>
                    </relation>
                    <relation name="relation17" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="if DURATION_tt8 goes off cancel timers, no ack, abort">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="failure = true">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.5974441473162272">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-3.041400748708697">
                        </property>
                    </relation>
                    <relation name="relation18" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="if receive ack before DURATION_tt8 goes off; turn off the radio, capture time.">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; isrIeee154eEndOfFrame_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="resetTimer = true">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.6480412973195635">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.0131652845409462">
                        </property>
                    </relation>
                    <relation name="relation19" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="error">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="! isAckReceived_isPresent">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.605511343625996">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.0980907150203167">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation20" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="take ownership of the packet (? COMPONENT_IEEE802154E)">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isAckReceived_isPresent &amp;&amp; isValidPacket">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="outPacket = true">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.19588567077366467">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.0991433768514445">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation21" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="take ownership of the packet (? COMPONENT_IEEE802154E)">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isAckReceived_isPresent &amp;&amp; ! isValidPacket">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.1609625065217135">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.105606266680886">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation9" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="here you have set tt5. turn off radio (radio_rfOff)">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent &amp;&amp; isSync==true &amp;&amp; ! dataToSendIsBroadcastOrMulticast">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_tt5">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.24842784360607326">
                        </property>
                    </relation>
                    <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="don't need to wait for ACK">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent &amp;&amp; isSync==true &amp;&amp; dataToSendIsBroadcastOrMulticast">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="resetTimer=true">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.0797820948653678">
                        </property>
                    </relation>
                    <link port="SLEEP.incomingPort" relation="relation7"/>
                    <link port="SLEEP.incomingPort" relation="relation8"/>
                    <link port="SLEEP.incomingPort" relation="relation10"/>
                    <link port="SLEEP.incomingPort" relation="relation11"/>
                    <link port="SLEEP.incomingPort" relation="relation15"/>
                    <link port="SLEEP.incomingPort" relation="relation17"/>
                    <link port="SLEEP.incomingPort" relation="relation19"/>
                    <link port="SLEEP.incomingPort" relation="relation20"/>
                    <link port="SLEEP.incomingPort" relation="relation21"/>
                    <link port="SLEEP.incomingPort" relation="relation"/>
                    <link port="TXDATAPREPARE.incomingPort" relation="relation3"/>
                    <link port="TXDATAPREPARE.outgoingPort" relation="relation4"/>
                    <link port="RXACKLISTEN.incomingPort" relation="relation14"/>
                    <link port="RXACKLISTEN.outgoingPort" relation="relation15"/>
                    <link port="RXACKLISTEN.outgoingPort" relation="relation16"/>
                    <link port="TXDATA.incomingPort" relation="relation6"/>
                    <link port="TXDATA.outgoingPort" relation="relation8"/>
                    <link port="TXDATA.outgoingPort" relation="relation10"/>
                    <link port="TXDATA.outgoingPort" relation="relation9"/>
                    <link port="TXDATA.outgoingPort" relation="relation"/>
                    <link port="TXPROC.incomingPort" relation="relation18"/>
                    <link port="TXPROC.outgoingPort" relation="relation19"/>
                    <link port="TXPROC.outgoingPort" relation="relation20"/>
                    <link port="TXPROC.outgoingPort" relation="relation21"/>
                    <link port="RXACK.incomingPort" relation="relation16"/>
                    <link port="RXACK.outgoingPort" relation="relation17"/>
                    <link port="RXACK.outgoingPort" relation="relation18"/>
                    <link port="RXACKREADY.incomingPort" relation="relation13"/>
                    <link port="RXACKREADY.outgoingPort" relation="relation14"/>
                    <link port="TRXDATAREADY.incomingPort" relation="relation4"/>
                    <link port="TRXDATAREADY.outgoingPort" relation="relation5"/>
                    <link port="RXACKPREPARE.incomingPort" relation="relation12"/>
                    <link port="RXACKPREPARE.outgoingPort" relation="relation13"/>
                    <link port="RXACKOFFSET.incomingPort" relation="relation9"/>
                    <link port="RXACKOFFSET.outgoingPort" relation="relation11"/>
                    <link port="RXACKOFFSET.outgoingPort" relation="relation12"/>
                    <link port="TXDATADELAY.incomingPort" relation="relation5"/>
                    <link port="TXDATADELAY.outgoingPort" relation="relation6"/>
                    <link port="TXDATADELAY.outgoingPort" relation="relation7"/>
                    <link port="TXDATAOFFSET.outgoingPort" relation="relation3"/>
                </entity>
                <relation name="isrIeee154eTimerRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="dataToSendRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="isValidADVRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="isValidPacketRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="isrIeee154eNewSlotRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="ieee154eStartOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="ieee154eEndOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="cellTypeRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="dataToSendIsBroadcastOrMulticastRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="outPacketRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="failureRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="isAckReceivedRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="dataReceivedRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="clockRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="setTimerRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="resetTimerRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <link port="isrIeee154eTimer" relation="isrIeee154eTimerRelation"/>
                <link port="dataToSend" relation="dataToSendRelation"/>
                <link port="isValidADV" relation="isValidADVRelation"/>
                <link port="isValidPacket" relation="isValidPacketRelation"/>
                <link port="isrIeee154eNewSlot" relation="isrIeee154eNewSlotRelation"/>
                <link port="ieee154eStartOfFrame" relation="ieee154eStartOfFrameRelation"/>
                <link port="ieee154eEndOfFrame" relation="ieee154eEndOfFrameRelation"/>
                <link port="cellType" relation="cellTypeRelation"/>
                <link port="dataToSendIsBroadcastOrMulticast" relation="dataToSendIsBroadcastOrMulticastRelation"/>
                <link port="outPacket" relation="outPacketRelation"/>
                <link port="failure" relation="failureRelation"/>
                <link port="isAckReceived" relation="isAckReceivedRelation"/>
                <link port="dataReceived" relation="dataReceivedRelation"/>
                <link port="clock" relation="clockRelation"/>
                <link port="setTimer" relation="setTimerRelation"/>
                <link port="resetTimer" relation="resetTimerRelation"/>
                <link port="_Controller.isrIeee154eTimer" relation="isrIeee154eTimerRelation"/>
                <link port="_Controller.dataToSend" relation="dataToSendRelation"/>
                <link port="_Controller.isValidADV" relation="isValidADVRelation"/>
                <link port="_Controller.isValidPacket" relation="isValidPacketRelation"/>
                <link port="_Controller.isrIeee154eNewSlot" relation="isrIeee154eNewSlotRelation"/>
                <link port="_Controller.ieee154eStartOfFrame" relation="ieee154eStartOfFrameRelation"/>
                <link port="_Controller.ieee154eEndOfFrame" relation="ieee154eEndOfFrameRelation"/>
                <link port="_Controller.cellType" relation="cellTypeRelation"/>
                <link port="_Controller.dataToSendIsBroadcastOrMulticast" relation="dataToSendIsBroadcastOrMulticastRelation"/>
                <link port="_Controller.outPacket" relation="outPacketRelation"/>
                <link port="_Controller.failure" relation="failureRelation"/>
                <link port="_Controller.isAckReceived" relation="isAckReceivedRelation"/>
                <link port="_Controller.dataReceived" relation="dataReceivedRelation"/>
                <link port="_Controller.clock" relation="clockRelation"/>
                <link port="_Controller.setTimer" relation="setTimerRelation"/>
                <link port="_Controller.resetTimer" relation="resetTimerRelation"/>
            </entity>
            <entity name="reception" class="ptolemy.domains.modal.modal.ModalRefinement">
                <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                </property>
                <port name="isrIeee154eTimer" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1225.0, 375.0]">
                    </property>
                </port>
                <port name="dataToSend" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 480.0]">
                    </property>
                </port>
                <port name="isValidADV" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 625.0]">
                    </property>
                </port>
                <port name="isValidPacket" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1205.0, 565.0]">
                    </property>
                </port>
                <port name="isrIeee154eNewSlot" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 700.0]">
                    </property>
                </port>
                <port name="ieee154eStartOfFrame" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 765.0]">
                    </property>
                </port>
                <port name="ieee154eEndOfFrame" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1195.0, 820.0]">
                    </property>
                </port>
                <port name="cellType" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 870.0]">
                    </property>
                </port>
                <port name="dataToSendIsBroadcastOrMulticast" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1210.0, 520.0]">
                    </property>
                </port>
                <port name="outPacket" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2050.0, 615.0]">
                    </property>
                </port>
                <port name="failure" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[2050.0, 705.0]">
                    </property>
                </port>
                <port name="isAckReceived" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1200.0, 930.0]">
                    </property>
                </port>
                <port name="dataReceived" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-1195.0, 1005.0]">
                    </property>
                </port>
                <port name="clock" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="input"/>
                </port>
                <port name="setTimer" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="output"/>
                </port>
                <port name="resetTimer" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                    <property name="output"/>
                </port>
                <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                    <property name="_library" class="ptolemy.moml.LibraryAttribute">
                        <configure>
            <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
          </configure>
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 808}, maximized=true}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 699]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.640000000000001">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{185.31294058866285, 1019.5340429261674}">
                    </property>
                    <port name="isrIeee154eTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-840.0, 310.0]">
                        </property>
                    </port>
                    <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-840.0, 350.0]">
                        </property>
                    </port>
                    <port name="isValidADV" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-840.0, 390.0]">
                        </property>
                    </port>
                    <port name="isValidPacket" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-840.0, 430.0]">
                        </property>
                    </port>
                    <port name="isrIeee154eNewSlot" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-840.0, 470.0]">
                        </property>
                    </port>
                    <port name="ieee154eStartOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-840.0, 510.0]">
                        </property>
                    </port>
                    <port name="ieee154eEndOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-840.0, 550.0]">
                        </property>
                    </port>
                    <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-840.0, 590.0]">
                        </property>
                    </port>
                    <port name="dataToSendIsBroadcastOrMulticast" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-840.0, 630.0]">
                        </property>
                    </port>
                    <port name="outPacket" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[1235.0, 470.0]">
                        </property>
                    </port>
                    <port name="failure" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[1275.0, 470.0]">
                        </property>
                    </port>
                    <port name="isAckReceived" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-840.0, 670.0]">
                        </property>
                    </port>
                    <port name="dataReceived" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-840.0, 710.0]">
                        </property>
                    </port>
                    <port name="clock" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-845.0, 765.0]">
                        </property>
                    </port>
                    <port name="setTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[1225.0, 390.0]">
                        </property>
                    </port>
                    <port name="resetTimer" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[1265.0, 390.0]">
                        </property>
                    </port>
                    <entity name="SLEEP" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[610.0, 490.0]">
                        </property>
                    </entity>
                    <entity name="RXDATAOFFSET" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-460.0, 230.0]">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                    </entity>
                    <entity name="RXDATAPREPARE" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-150.0, 265.0]">
                        </property>
                    </entity>
                    <entity name="RXDATAREADY" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[105.0, 215.0]">
                        </property>
                    </entity>
                    <entity name="RXDATALISTEN" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[175.0, 370.0]">
                        </property>
                    </entity>
                    <entity name="RXDATA" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-175.0, 475.0]">
                        </property>
                    </entity>
                    <entity name="TXACKREADY" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-190.0, 970.0]">
                        </property>
                    </entity>
                    <entity name="TXACKDELAY" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[5.0, 1070.0]">
                        </property>
                    </entity>
                    <entity name="TXACK" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[300.0, 1110.0]">
                        </property>
                    </entity>
                    <entity name="TXACKPREPARE" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-340.0, 800.0]">
                        </property>
                    </entity>
                    <entity name="TXACKOFFSET" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-220.0, 695.0]">
                        </property>
                    </entity>
                    <entity name="RXPROC" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[695.0, 1005.0]">
                        </property>
                    </entity>
                    <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="enable radio in rx mode, set DURATION_rt2">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_rt2">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5836457318511189">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.07577457295034395">
                        </property>
                    </relation>
                    <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.6749560764419865">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2098585301674589">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation6" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="if DURATION_rt2 goes off...start receiveing (radio_rxNow()); schedule DURATION_rt3">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_rt3">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7272362756770313">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.1568575683919073">
                        </property>
                    </relation>
                    <relation name="relation7" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="if DURATION_rt3 goes off, error">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="failure = true">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.5823576796918797">
                        </property>
                    </relation>
                    <relation name="relation8" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="cancel timer rt3 and capture time (also syncCapturedTime); set DURATION_rt4">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; isrIeee154eStartOfFrame_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_rt4">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.6726217772076855">
                        </property>
                    </relation>
                    <relation name="relation9" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="cancel timer rt3 and capture time (also syncCapturedTime), set DURATION_rt4">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; isrIeee154eStartOfFrame_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_rt4">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.30806004578170537">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.3932366703337213">
                        </property>
                    </relation>
                    <relation name="relation10" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="if DURATION_rt4 goes off, log error">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="failure = true">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.0099542410345785">
                        </property>
                    </relation>
                    <relation name="relation11" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="cancel timer; turn off radio">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; isrIeee154eEndOfFrame_isPresent &amp;&amp; ! (dataReceived_isPresent &amp;&amp; isValidPacket)">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="resetTimer = true">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="1.2076878799972008">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.158821968293976">
                        </property>
                    </relation>
                    <relation name="relation12" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="!dataReceived_isPresent || !isValidPacket">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="failure = true">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.7665460852284574">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.6263131829429893">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation13" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="cancel timer, turn off radio; take ownership of the packet... here SET DURATION_rt5">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; isrIeee154eEndOfFrame_isPresent &amp;&amp; dataReceived_isPresent &amp;&amp; isValidPacket &amp;&amp; ackRequested_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_rt5">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.11270648719484543">
                        </property>
                    </relation>
                    <relation name="relation14" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="cancel timer, turn off radio; take ownership of the packet... you are done. do (// synchronize to the received packet iif I'm not a DAGroot and this is my preferred parent) ">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; isrIeee154eEndOfFrame_isPresent &amp;&amp; dataReceived_isPresent &amp;&amp; isValidPacket &amp;&amp; !ackRequested_isPresent">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.061359574317129635">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.08164820554164243">
                        </property>
                    </relation>
                    <relation name="relation15" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="ok, notify packet received">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="dataReceived_isPresent &amp;&amp; isValidPacket &amp;&amp; !ackRequested_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="outPacket = true">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.6242523943207743">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation16" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="timer rt5 goes off... ">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.2612478620100473">
                        </property>
                    </relation>
                    <relation name="relation17" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="if not able to get a free buffer?">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.025842317839259">
                        </property>
                        <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                            <display name="default"/>
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation18" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="if you are able to take a buffer: calculate time correction and add it to the ack, find the frequency, upload packet, enable the radio and set DURATION_rt6">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_rt6">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.9007880723904939">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation19" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="when timer rt6 goes off. set DURATION_rt7, enable radio to transmit (radio_txNow())">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_rt7">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.22769327379884158">
                        </property>
                    </relation>
                    <relation name="relation20" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="if timer rt7 goes off, log error">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="failure = true">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.7639868541068515">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.7863520348368624">
                        </property>
                    </relation>
                    <relation name="relation21" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="cancel timer, capture time; schedule DURATION_rt8">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; isrIeee154eStartOfFrame_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="setTimer = DURATION_rt8">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.17701341369164197">
                        </property>
                    </relation>
                    <relation name="relation22" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="if timer rt8 goes off">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isrIeee154eTimer_isPresent">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.136987962457365">
                        </property>
                    </relation>
                    <relation name="relation23" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="cancel timer, capture time, synchronize with the packet and notify packet received">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; isrIeee154eEndOfFrame_isPresent ">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.03870352998289684">
                        </property>
                    </relation>
                    <relation name="relation24" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.417351292972171">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==false &amp;&amp; isrIeee154eStartOfFrame_isPresent">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.7921373275678212">
                        </property>
                    </relation>
                    <link port="SLEEP.incomingPort" relation="relation7"/>
                    <link port="SLEEP.incomingPort" relation="relation12"/>
                    <link port="SLEEP.incomingPort" relation="relation15"/>
                    <link port="SLEEP.incomingPort" relation="relation17"/>
                    <link port="SLEEP.incomingPort" relation="relation20"/>
                    <link port="SLEEP.incomingPort" relation="relation22"/>
                    <link port="SLEEP.incomingPort" relation="relation24"/>
                    <link port="SLEEP.incomingPort" relation="relation10"/>
                    <link port="SLEEP.incomingPort" relation="relation"/>
                    <link port="RXDATAOFFSET.outgoingPort" relation="relation4"/>
                    <link port="RXDATAPREPARE.incomingPort" relation="relation4"/>
                    <link port="RXDATAPREPARE.outgoingPort" relation="relation5"/>
                    <link port="RXDATAREADY.incomingPort" relation="relation5"/>
                    <link port="RXDATAREADY.outgoingPort" relation="relation6"/>
                    <link port="RXDATAREADY.outgoingPort" relation="relation9"/>
                    <link port="RXDATALISTEN.incomingPort" relation="relation6"/>
                    <link port="RXDATALISTEN.outgoingPort" relation="relation7"/>
                    <link port="RXDATALISTEN.outgoingPort" relation="relation8"/>
                    <link port="RXDATA.incomingPort" relation="relation8"/>
                    <link port="RXDATA.incomingPort" relation="relation9"/>
                    <link port="RXDATA.outgoingPort" relation="relation10"/>
                    <link port="RXDATA.outgoingPort" relation="relation11"/>
                    <link port="RXDATA.outgoingPort" relation="relation13"/>
                    <link port="RXDATA.outgoingPort" relation="relation14"/>
                    <link port="TXACKREADY.incomingPort" relation="relation18"/>
                    <link port="TXACKREADY.outgoingPort" relation="relation19"/>
                    <link port="TXACKDELAY.incomingPort" relation="relation19"/>
                    <link port="TXACKDELAY.outgoingPort" relation="relation20"/>
                    <link port="TXACKDELAY.outgoingPort" relation="relation21"/>
                    <link port="TXACKDELAY.outgoingPort" relation="relation"/>
                    <link port="TXACK.incomingPort" relation="relation21"/>
                    <link port="TXACK.outgoingPort" relation="relation22"/>
                    <link port="TXACK.outgoingPort" relation="relation23"/>
                    <link port="TXACKPREPARE.incomingPort" relation="relation16"/>
                    <link port="TXACKPREPARE.outgoingPort" relation="relation17"/>
                    <link port="TXACKPREPARE.outgoingPort" relation="relation18"/>
                    <link port="TXACKOFFSET.incomingPort" relation="relation11"/>
                    <link port="TXACKOFFSET.incomingPort" relation="relation13"/>
                    <link port="TXACKOFFSET.incomingPort" relation="relation14"/>
                    <link port="TXACKOFFSET.outgoingPort" relation="relation12"/>
                    <link port="TXACKOFFSET.outgoingPort" relation="relation15"/>
                    <link port="TXACKOFFSET.outgoingPort" relation="relation16"/>
                    <link port="RXPROC.incomingPort" relation="relation23"/>
                    <link port="RXPROC.outgoingPort" relation="relation24"/>
                </entity>
                <relation name="isrIeee154eTimerRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="dataToSendRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="isValidADVRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="isValidPacketRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="isrIeee154eNewSlotRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="ieee154eStartOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="ieee154eEndOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="cellTypeRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="dataToSendIsBroadcastOrMulticastRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="outPacketRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="failureRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="isAckReceivedRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="dataReceivedRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="clockRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="setTimerRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="resetTimerRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <link port="isrIeee154eTimer" relation="isrIeee154eTimerRelation"/>
                <link port="dataToSend" relation="dataToSendRelation"/>
                <link port="isValidADV" relation="isValidADVRelation"/>
                <link port="isValidPacket" relation="isValidPacketRelation"/>
                <link port="isrIeee154eNewSlot" relation="isrIeee154eNewSlotRelation"/>
                <link port="ieee154eStartOfFrame" relation="ieee154eStartOfFrameRelation"/>
                <link port="ieee154eEndOfFrame" relation="ieee154eEndOfFrameRelation"/>
                <link port="cellType" relation="cellTypeRelation"/>
                <link port="dataToSendIsBroadcastOrMulticast" relation="dataToSendIsBroadcastOrMulticastRelation"/>
                <link port="outPacket" relation="outPacketRelation"/>
                <link port="failure" relation="failureRelation"/>
                <link port="isAckReceived" relation="isAckReceivedRelation"/>
                <link port="dataReceived" relation="dataReceivedRelation"/>
                <link port="clock" relation="clockRelation"/>
                <link port="setTimer" relation="setTimerRelation"/>
                <link port="resetTimer" relation="resetTimerRelation"/>
                <link port="_Controller.isrIeee154eTimer" relation="isrIeee154eTimerRelation"/>
                <link port="_Controller.dataToSend" relation="dataToSendRelation"/>
                <link port="_Controller.isValidADV" relation="isValidADVRelation"/>
                <link port="_Controller.isValidPacket" relation="isValidPacketRelation"/>
                <link port="_Controller.isrIeee154eNewSlot" relation="isrIeee154eNewSlotRelation"/>
                <link port="_Controller.ieee154eStartOfFrame" relation="ieee154eStartOfFrameRelation"/>
                <link port="_Controller.ieee154eEndOfFrame" relation="ieee154eEndOfFrameRelation"/>
                <link port="_Controller.cellType" relation="cellTypeRelation"/>
                <link port="_Controller.dataToSendIsBroadcastOrMulticast" relation="dataToSendIsBroadcastOrMulticastRelation"/>
                <link port="_Controller.outPacket" relation="outPacketRelation"/>
                <link port="_Controller.failure" relation="failureRelation"/>
                <link port="_Controller.isAckReceived" relation="isAckReceivedRelation"/>
                <link port="_Controller.dataReceived" relation="dataReceivedRelation"/>
                <link port="_Controller.clock" relation="clockRelation"/>
                <link port="_Controller.setTimer" relation="setTimerRelation"/>
                <link port="_Controller.resetTimer" relation="resetTimerRelation"/>
            </entity>
            <relation name="isrIeee154eTimerRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="dataToSendRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="isValidADVRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="isValidPacketRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="isrIeee154eNewSlotRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="ieee154eStartOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="ieee154eEndOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="cellTypeRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="dataToSendIsBroadcastOrMulticastRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="outPacketRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="failureRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="isAckReceivedRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="dataReceivedRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="clockRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="setTimerRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="resetTimerRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <link port="isrIeee154eTimer" relation="isrIeee154eTimerRelation"/>
            <link port="dataToSend" relation="dataToSendRelation"/>
            <link port="isValidADV" relation="isValidADVRelation"/>
            <link port="isValidPacket" relation="isValidPacketRelation"/>
            <link port="isrIeee154eNewSlot" relation="isrIeee154eNewSlotRelation"/>
            <link port="ieee154eStartOfFrame" relation="ieee154eStartOfFrameRelation"/>
            <link port="ieee154eEndOfFrame" relation="ieee154eEndOfFrameRelation"/>
            <link port="cellType" relation="cellTypeRelation"/>
            <link port="dataToSendIsBroadcastOrMulticast" relation="dataToSendIsBroadcastOrMulticastRelation"/>
            <link port="outPacket" relation="outPacketRelation"/>
            <link port="failure" relation="failureRelation"/>
            <link port="isAckReceived" relation="isAckReceivedRelation"/>
            <link port="dataReceived" relation="dataReceivedRelation"/>
            <link port="clock" relation="clockRelation"/>
            <link port="setTimer" relation="setTimerRelation"/>
            <link port="resetTimer" relation="resetTimerRelation"/>
            <link port="_Controller.isrIeee154eTimer" relation="isrIeee154eTimerRelation"/>
            <link port="_Controller.dataToSend" relation="dataToSendRelation"/>
            <link port="_Controller.isValidADV" relation="isValidADVRelation"/>
            <link port="_Controller.isValidPacket" relation="isValidPacketRelation"/>
            <link port="_Controller.isrIeee154eNewSlot" relation="isrIeee154eNewSlotRelation"/>
            <link port="_Controller.ieee154eStartOfFrame" relation="ieee154eStartOfFrameRelation"/>
            <link port="_Controller.ieee154eEndOfFrame" relation="ieee154eEndOfFrameRelation"/>
            <link port="_Controller.cellType" relation="cellTypeRelation"/>
            <link port="_Controller.dataToSendIsBroadcastOrMulticast" relation="dataToSendIsBroadcastOrMulticastRelation"/>
            <link port="_Controller.outPacket" relation="outPacketRelation"/>
            <link port="_Controller.failure" relation="failureRelation"/>
            <link port="_Controller.isAckReceived" relation="isAckReceivedRelation"/>
            <link port="_Controller.dataReceived" relation="dataReceivedRelation"/>
            <link port="_Controller.clock" relation="clockRelation"/>
            <link port="_Controller.setTimer" relation="setTimerRelation"/>
            <link port="_Controller.resetTimer" relation="resetTimerRelation"/>
            <link port="decreaseDeSyncTimeout.isrIeee154eTimer" relation="isrIeee154eTimerRelation"/>
            <link port="decreaseDeSyncTimeout.dataToSend" relation="dataToSendRelation"/>
            <link port="decreaseDeSyncTimeout.isValidADV" relation="isValidADVRelation"/>
            <link port="decreaseDeSyncTimeout.isValidPacket" relation="isValidPacketRelation"/>
            <link port="decreaseDeSyncTimeout.isrIeee154eNewSlot" relation="isrIeee154eNewSlotRelation"/>
            <link port="decreaseDeSyncTimeout.ieee154eStartOfFrame" relation="ieee154eStartOfFrameRelation"/>
            <link port="decreaseDeSyncTimeout.ieee154eEndOfFrame" relation="ieee154eEndOfFrameRelation"/>
            <link port="decreaseDeSyncTimeout.cellType" relation="cellTypeRelation"/>
            <link port="decreaseDeSyncTimeout.dataToSendIsBroadcastOrMulticast" relation="dataToSendIsBroadcastOrMulticastRelation"/>
            <link port="decreaseDeSyncTimeout.outPacket" relation="outPacketRelation"/>
            <link port="decreaseDeSyncTimeout.failure" relation="failureRelation"/>
            <link port="decreaseDeSyncTimeout.isAckReceived" relation="isAckReceivedRelation"/>
            <link port="decreaseDeSyncTimeout.dataReceived" relation="dataReceivedRelation"/>
            <link port="decreaseDeSyncTimeout.clock" relation="clockRelation"/>
            <link port="decreaseDeSyncTimeout.setTimer" relation="setTimerRelation"/>
            <link port="decreaseDeSyncTimeout.resetTimer" relation="resetTimerRelation"/>
            <link port="synchronization.isrIeee154eTimer" relation="isrIeee154eTimerRelation"/>
            <link port="synchronization.dataToSend" relation="dataToSendRelation"/>
            <link port="synchronization.isValidADV" relation="isValidADVRelation"/>
            <link port="synchronization.isValidPacket" relation="isValidPacketRelation"/>
            <link port="synchronization.isrIeee154eNewSlot" relation="isrIeee154eNewSlotRelation"/>
            <link port="synchronization.ieee154eStartOfFrame" relation="ieee154eStartOfFrameRelation"/>
            <link port="synchronization.ieee154eEndOfFrame" relation="ieee154eEndOfFrameRelation"/>
            <link port="synchronization.cellType" relation="cellTypeRelation"/>
            <link port="synchronization.dataToSendIsBroadcastOrMulticast" relation="dataToSendIsBroadcastOrMulticastRelation"/>
            <link port="synchronization.outPacket" relation="outPacketRelation"/>
            <link port="synchronization.failure" relation="failureRelation"/>
            <link port="synchronization.isAckReceived" relation="isAckReceivedRelation"/>
            <link port="synchronization.dataReceived" relation="dataReceivedRelation"/>
            <link port="synchronization.clock" relation="clockRelation"/>
            <link port="synchronization.setTimer" relation="setTimerRelation"/>
            <link port="synchronization.resetTimer" relation="resetTimerRelation"/>
            <link port="transmission.isrIeee154eTimer" relation="isrIeee154eTimerRelation"/>
            <link port="transmission.dataToSend" relation="dataToSendRelation"/>
            <link port="transmission.isValidADV" relation="isValidADVRelation"/>
            <link port="transmission.isValidPacket" relation="isValidPacketRelation"/>
            <link port="transmission.isrIeee154eNewSlot" relation="isrIeee154eNewSlotRelation"/>
            <link port="transmission.ieee154eStartOfFrame" relation="ieee154eStartOfFrameRelation"/>
            <link port="transmission.ieee154eEndOfFrame" relation="ieee154eEndOfFrameRelation"/>
            <link port="transmission.cellType" relation="cellTypeRelation"/>
            <link port="transmission.dataToSendIsBroadcastOrMulticast" relation="dataToSendIsBroadcastOrMulticastRelation"/>
            <link port="transmission.outPacket" relation="outPacketRelation"/>
            <link port="transmission.failure" relation="failureRelation"/>
            <link port="transmission.isAckReceived" relation="isAckReceivedRelation"/>
            <link port="transmission.dataReceived" relation="dataReceivedRelation"/>
            <link port="transmission.clock" relation="clockRelation"/>
            <link port="transmission.setTimer" relation="setTimerRelation"/>
            <link port="transmission.resetTimer" relation="resetTimerRelation"/>
            <link port="reception.isrIeee154eTimer" relation="isrIeee154eTimerRelation"/>
            <link port="reception.dataToSend" relation="dataToSendRelation"/>
            <link port="reception.isValidADV" relation="isValidADVRelation"/>
            <link port="reception.isValidPacket" relation="isValidPacketRelation"/>
            <link port="reception.isrIeee154eNewSlot" relation="isrIeee154eNewSlotRelation"/>
            <link port="reception.ieee154eStartOfFrame" relation="ieee154eStartOfFrameRelation"/>
            <link port="reception.ieee154eEndOfFrame" relation="ieee154eEndOfFrameRelation"/>
            <link port="reception.cellType" relation="cellTypeRelation"/>
            <link port="reception.dataToSendIsBroadcastOrMulticast" relation="dataToSendIsBroadcastOrMulticastRelation"/>
            <link port="reception.outPacket" relation="outPacketRelation"/>
            <link port="reception.failure" relation="failureRelation"/>
            <link port="reception.isAckReceived" relation="isAckReceivedRelation"/>
            <link port="reception.dataReceived" relation="dataReceivedRelation"/>
            <link port="reception.clock" relation="clockRelation"/>
            <link port="reception.setTimer" relation="setTimerRelation"/>
            <link port="reception.resetTimer" relation="resetTimerRelation"/>
        </entity>
        <entity name="Schedule" class="ptolemy.domains.modal.modal.ModalModel">
            <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[165.0, 240.0]">
            </property>
            <port name="CellType" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="slotStart" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="slotClock" class="ptolemy.domains.modal.modal.ModalPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                <property name="_library" class="ptolemy.moml.LibraryAttribute">
                    <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 810}, maximized=true}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 690]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6375788768903622">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{33.004709800495675, 178.74104622690976}">
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="This state machine defines how the schedule looks like.&#10;For more information, see https://openwsn.atlassian.net/wiki/display/OW/Schedules &#10;&#10;For now, the schedule according to OpenWSN implementation is hard-coded&#10;#define NUMADVSLOTS          1&#10;#define NUMSHAREDTXRX      5&#10;#define NUMSERIALRX            3&#10;">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[275.0, 0.0]">
                    </property>
                </property>
                <property name="NUMADVSLOTS" class="ptolemy.data.expr.Parameter" value="1">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-80.0, 40.0]">
                    </property>
                </property>
                <property name="NUMSERIALRX" class="ptolemy.data.expr.Parameter" value="3">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-80.0, 80.0]">
                    </property>
                </property>
                <property name="NUMSHAREDTXRX" class="ptolemy.data.expr.Parameter" value="5">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-80.0, 60.0]">
                    </property>
                </property>
                <property name="runningSlotOffset" class="ptolemy.data.expr.Parameter" value="0">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-80.0, 100.0]">
                    </property>
                </property>
                <port name="CellType" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[850.0, 330.0]">
                    </property>
                </port>
                <port name="slotStart" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-245.0, 30.0]">
                    </property>
                </port>
                <port name="slotClock" class="ptolemy.domains.modal.modal.RefinementPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[-245.0, 75.0]">
                    </property>
                </port>
                <entity name="OFF" class="ptolemy.domains.modal.kernel.State">
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[0.0, 340.0]">
                    </property>
                </entity>
                <entity name="TX" class="ptolemy.domains.modal.kernel.State">
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[420.0, 360.0]">
                    </property>
                </entity>
                <entity name="RX" class="ptolemy.domains.modal.kernel.State">
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 360.0]">
                    </property>
                </entity>
                <entity name="TXRX" class="ptolemy.domains.modal.kernel.State">
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[345.0, 235.0]">
                    </property>
                </entity>
                <entity name="MORESERIALRX" class="ptolemy.domains.modal.kernel.State">
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[650.0, 360.0]">
                    </property>
                </entity>
                <entity name="ADV" class="ptolemy.domains.modal.kernel.State">
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[260.0, 355.0]">
                    </property>
                </entity>
                <entity name="SERIALRX" class="ptolemy.domains.modal.kernel.State">
                    <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 240.0]">
                    </property>
                </entity>
                <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="slotStart_isPresent">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="CellType = ADV">
                    </property>
                    <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="runningSlotOffset = 0">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.5380882587756356">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.19465804527635996">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="slotClock_isPresent &amp;&amp; runningSlotOffset &gt;= NUMADVSLOTS">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="CellType = TXRX">
                    </property>
                    <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="runningSlotOffset = 0">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.5187971510042028">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="slotClock_isPresent &amp;&amp; runningSlotOffset &lt; NUMADVSLOTS">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="CellType = ADV">
                    </property>
                    <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="runningSlotOffset = runningSlotOffset + 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.617166315715099">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2856546984748828">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="slotClock_isPresent &amp;&amp; runningSlotOffset &lt; NUMSHAREDTXRX">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="CellType = TXRX">
                    </property>
                    <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="runningSlotOffset = runningSlotOffset + 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.6712859825303923">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.8867098863772243">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="slotClock_isPresent &amp;&amp; runningSlotOffset &gt;= NUMSHAREDTXRX">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="CellType = SERIALRX">
                    </property>
                    <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="runningSlotOffset = 0">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.914466540017975">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-3.1166443781432456">
                    </property>
                </relation>
                <relation name="relation6" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="slotClock_isPresent &amp;&amp; runningSlotOffset &lt; NUMSERIALRX">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="CellType = SERIALRX">
                    </property>
                    <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="runningSlotOffset = runningSlotOffset + 1">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.407205254208245">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="-4.338519038323118">
                    </property>
                </relation>
                <relation name="relation7" class="ptolemy.domains.modal.kernel.Transition">
                    <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="slotClock_isPresent &amp;&amp; runningSlotOffset &gt;= NUMSERIALRX">
                    </property>
                    <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="CellType = OFF">
                    </property>
                    <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="runningSlotOffset = 0">
                    </property>
                    <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.03112105522206128">
                    </property>
                    <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.5006320525772905">
                    </property>
                </relation>
                <link port="OFF.incomingPort" relation="relation7"/>
                <link port="OFF.outgoingPort" relation="relation"/>
                <link port="TXRX.incomingPort" relation="relation2"/>
                <link port="TXRX.incomingPort" relation="relation4"/>
                <link port="TXRX.outgoingPort" relation="relation4"/>
                <link port="TXRX.outgoingPort" relation="relation5"/>
                <link port="ADV.incomingPort" relation="relation"/>
                <link port="ADV.incomingPort" relation="relation3"/>
                <link port="ADV.outgoingPort" relation="relation2"/>
                <link port="ADV.outgoingPort" relation="relation3"/>
                <link port="SERIALRX.incomingPort" relation="relation5"/>
                <link port="SERIALRX.incomingPort" relation="relation6"/>
                <link port="SERIALRX.outgoingPort" relation="relation6"/>
                <link port="SERIALRX.outgoingPort" relation="relation7"/>
            </entity>
            <relation name="CellTypeRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="slotStartRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <relation name="slotClockRelation" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                </property>
            </relation>
            <link port="CellType" relation="CellTypeRelation"/>
            <link port="slotStart" relation="slotStartRelation"/>
            <link port="slotClock" relation="slotClockRelation"/>
            <link port="_Controller.CellType" relation="CellTypeRelation"/>
            <link port="_Controller.slotStart" relation="slotStartRelation"/>
            <link port="_Controller.slotClock" relation="slotClockRelation"/>
        </entity>
        <entity name="Clock" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{90.0, 565.0}">
            </property>
            <property name="drift" class="ptolemy.data.expr.Parameter" value="10^(-5)">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{645, 220}">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={253, 133, 934, 634}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{907.0, 429.6015625}">
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Variable clockValue is used to allow correcting clock values during synchronization">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[770.0, 215.0]">
                </property>
            </property>
            <port name="clock" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[1165.0, 450.0]">
                </property>
            </port>
            <entity name="DiscreteClock" class="ptolemy.actor.lib.DiscreteClock">
                <doc>Create periodic timed events.</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[880.0, 335.0]">
                </property>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="drift">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[620.0, 405.0]">
                </property>
            </entity>
            <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[750.0, 365.0]">
                </property>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="nominalClockFrequency">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[635.0, 340.0]">
                </property>
            </entity>
            <entity name="Expression" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="clockValue + 1">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[1010.0, 360.0]">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                </port>
            </entity>
            <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="clockValue">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[965.0, 450.0]">
                </property>
            </entity>
            <entity name="Const3" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                </property>
                <property name="firingCountLimit" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{705, 595}">
                </property>
            </entity>
            <entity name="SetVariable2" class="ptolemy.actor.lib.SetVariable">
                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="clockValue">
                </property>
                <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[835.0, 595.0]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="clock" relation="relation6"/>
            <link port="DiscreteClock.output" relation="relation4"/>
            <link port="DiscreteClock.period" relation="relation"/>
            <link port="Const.output" relation="relation3"/>
            <link port="AddSubtract.plus" relation="relation2"/>
            <link port="AddSubtract.plus" relation="relation3"/>
            <link port="AddSubtract.output" relation="relation"/>
            <link port="Const2.output" relation="relation2"/>
            <link port="Expression.output" relation="relation5"/>
            <link port="Expression.input" relation="relation4"/>
            <link port="SetVariable.input" relation="relation5"/>
            <link port="SetVariable.output" relation="relation6"/>
            <link port="Const3.output" relation="relation7"/>
            <link port="SetVariable2.input" relation="relation7"/>
        </entity>
        <entity name="Timer" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[765.0, 205.0]">
            </property>
            <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={253, 133, 934, 634}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{347.0, 429.6015625}">
            </property>
            <property name="SR Director" class="ptolemy.domains.sr.kernel.SRDirector">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{105, 230}">
                </property>
            </property>
            <port name="clock" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{45.0, 330.0}">
                </property>
            </port>
            <port name="setTimer" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 475.0]">
                </property>
            </port>
            <port name="timer" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[635.0, 390.0]">
                </property>
            </port>
            <port name="reset" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 580.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="Counter" class="ptolemy.actor.lib.Counter">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 330.0]">
                </property>
            </entity>
            <entity name="Equals" class="ptolemy.actor.lib.logic.Equals">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[400.0, 335.0]">
                </property>
            </entity>
            <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="settedTimer">
                </property>
                <property name="delayed" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[185.0, 475.0]">
                </property>
            </entity>
            <entity name="IsPresent" class="ptolemy.actor.lib.logic.IsPresent">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[175.0, 395.0]">
                </property>
            </entity>
            <entity name="SetVariable2" class="ptolemy.actor.lib.SetVariable">
                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="settedTimer">
                </property>
                <property name="delayed" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[540.0, 610.0]">
                </property>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[290.0, 610.0]">
                </property>
            </entity>
            <entity name="When" class="ptolemy.domains.sr.lib.When">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[410.0, 610.0]">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="Init" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <property name="firingCountLimit" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[325.0, 210.0]">
                </property>
            </entity>
            <entity name="SetVariable3" class="ptolemy.actor.lib.SetVariable">
                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="settedTimer">
                </property>
                <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[445.0, 210.0]">
                </property>
            </entity>
            <entity name="TrueGate" class="ptolemy.actor.lib.logic.TrueGate">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[550.0, 390.0]">
                </property>
            </entity>
            <entity name="Merge" class="ptolemy.domains.continuous.lib.ContinuousMerge">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[360.0, 535.0]">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[105.0, 420.0]">
                </vertex>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[485.0, 390.0]">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="clock" relation="relation4"/>
            <link port="setTimer" relation="relation5"/>
            <link port="timer" relation="relation2"/>
            <link port="reset" relation="relation11"/>
            <link port="Counter.increment" relation="relation4"/>
            <link port="Counter.output" relation="relation"/>
            <link port="Counter.reset" relation="relation6"/>
            <link port="Equals.input" relation="relation"/>
            <link port="Equals.input" relation="relation3"/>
            <link port="Equals.output" relation="relation8"/>
            <link port="SetVariable.input" relation="relation5"/>
            <link port="SetVariable.output" relation="relation3"/>
            <link port="IsPresent.input" relation="relation5"/>
            <link port="IsPresent.output" relation="relation6"/>
            <link port="SetVariable2.input" relation="relation9"/>
            <link port="Const.output" relation="relation7"/>
            <link port="When.input" relation="relation7"/>
            <link port="When.output" relation="relation9"/>
            <link port="When.control" relation="relation12"/>
            <link port="Init.output" relation="relation10"/>
            <link port="SetVariable3.input" relation="relation10"/>
            <link port="TrueGate.input" relation="relation8"/>
            <link port="TrueGate.output" relation="relation2"/>
            <link port="Merge.input" relation="relation8"/>
            <link port="Merge.input" relation="relation11"/>
            <link port="Merge.output" relation="relation12"/>
        </entity>
        <entity name="packetProcessor" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[220.0, 400.0]">
            </property>
            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{110, 240}">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="This actor model the reception of a packet from the radio point of view.&#10;Once a packet is received, the actor wait a certain time before to deliver it to the mac layer.&#10;Moreover, here we can check if the packet is valid or what type it is">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[420.0, 190.0]">
                </property>
            </property>
            <property name="ADV_wait" class="ptolemy.data.expr.Parameter" value="5">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[255.0, 270.0]">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 808}, maximized=true}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1446, 918]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{710.0, 624.580078125}">
            </property>
            <port name="packet" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{10.0, 400.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="validPacket" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[775.0, 350.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="ieee154e_startOfFrame" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[775.0, 300.0]">
                </property>
            </port>
            <port name="ieee154e_endOfFrame" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[785.0, 580.0]">
                </property>
            </port>
            <port name="validADV" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[775.0, 505.0]">
                </property>
            </port>
            <port name="dataReceived" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[770.0, 400.0]">
                </property>
            </port>
            <port name="ackReceived" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[775.0, 450.0]">
                </property>
            </port>
            <port name="clock" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{5.0, 625.0}">
                </property>
            </port>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[310.0, 400.0]">
                </property>
            </entity>
            <entity name="Timer" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[278.2431869506836, 637.088623046875]">
                </property>
                <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={253, 133, 934, 634}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{347.0, 429.6015625}">
                </property>
                <property name="SR Director" class="ptolemy.domains.sr.kernel.SRDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{105, 230}">
                    </property>
                </property>
                <port name="clock" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{45.0, 330.0}">
                    </property>
                </port>
                <port name="setTimer" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 475.0]">
                    </property>
                </port>
                <port name="timer" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[635.0, 390.0]">
                    </property>
                </port>
                <port name="reset" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[40.0, 580.0]">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <entity name="Counter" class="ptolemy.actor.lib.Counter">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 330.0]">
                    </property>
                </entity>
                <entity name="Equals" class="ptolemy.actor.lib.logic.Equals">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[400.0, 335.0]">
                    </property>
                </entity>
                <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="settedTimer">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[185.0, 475.0]">
                    </property>
                </entity>
                <entity name="IsPresent" class="ptolemy.actor.lib.logic.IsPresent">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[175.0, 395.0]">
                    </property>
                </entity>
                <entity name="SetVariable2" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="settedTimer">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[540.0, 610.0]">
                    </property>
                </entity>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[290.0, 610.0]">
                    </property>
                </entity>
                <entity name="When" class="ptolemy.domains.sr.lib.When">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[410.0, 610.0]">
                    </property>
                    <property name="_flipPortsVertical" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </entity>
                <entity name="Init" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <property name="firingCountLimit" class="ptolemy.data.expr.Parameter" value="1">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[325.0, 210.0]">
                    </property>
                </entity>
                <entity name="SetVariable3" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="settedTimer">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[445.0, 210.0]">
                    </property>
                </entity>
                <entity name="TrueGate" class="ptolemy.actor.lib.logic.TrueGate">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[550.0, 390.0]">
                    </property>
                </entity>
                <entity name="Merge" class="ptolemy.domains.continuous.lib.ContinuousMerge">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[360.0, 535.0]">
                    </property>
                </entity>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="[105.0, 420.0]">
                    </vertex>
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="[485.0, 390.0]">
                    </vertex>
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation12" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="clock" relation="relation4"/>
                <link port="setTimer" relation="relation5"/>
                <link port="timer" relation="relation2"/>
                <link port="reset" relation="relation11"/>
                <link port="Counter.increment" relation="relation4"/>
                <link port="Counter.output" relation="relation"/>
                <link port="Counter.reset" relation="relation6"/>
                <link port="Equals.input" relation="relation"/>
                <link port="Equals.input" relation="relation3"/>
                <link port="Equals.output" relation="relation8"/>
                <link port="SetVariable.input" relation="relation5"/>
                <link port="SetVariable.output" relation="relation3"/>
                <link port="IsPresent.input" relation="relation5"/>
                <link port="IsPresent.output" relation="relation6"/>
                <link port="SetVariable2.input" relation="relation9"/>
                <link port="Const.output" relation="relation7"/>
                <link port="When.input" relation="relation7"/>
                <link port="When.output" relation="relation9"/>
                <link port="When.control" relation="relation12"/>
                <link port="Init.output" relation="relation10"/>
                <link port="SetVariable3.input" relation="relation10"/>
                <link port="TrueGate.input" relation="relation8"/>
                <link port="TrueGate.output" relation="relation2"/>
                <link port="Merge.input" relation="relation8"/>
                <link port="Merge.input" relation="relation11"/>
                <link port="Merge.output" relation="relation12"/>
            </entity>
            <entity name="Const2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="ADV_wait">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[154.6249771118164, 585.0934753417969]">
                </property>
            </entity>
            <entity name="Const3" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[440.0, 635.0]">
                </property>
            </entity>
            <entity name="Absent" class="ptolemy.domains.sr.lib.Absent">
                <property name="outputType" class="ptolemy.kernel.util.StringAttribute" value="int">
                    <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                        <property name="boolean" class="ptolemy.kernel.util.StringAttribute" value="boolean">
                        </property>
                        <property name="complex" class="ptolemy.kernel.util.StringAttribute" value="complex">
                        </property>
                        <property name="double" class="ptolemy.kernel.util.StringAttribute" value="double">
                        </property>
                        <property name="fix" class="ptolemy.kernel.util.StringAttribute" value="fix">
                        </property>
                        <property name="int" class="ptolemy.kernel.util.StringAttribute" value="int">
                        </property>
                        <property name="long" class="ptolemy.kernel.util.StringAttribute" value="long">
                        </property>
                        <property name="string" class="ptolemy.kernel.util.StringAttribute" value="string">
                        </property>
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[605.0, 405.0]">
                </property>
            </entity>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[160.0, 400.0]">
                </vertex>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[570.0, 450.0]">
                </vertex>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{690.0, 405.0}">
                </vertex>
            </relation>
            <link port="packet" relation="relation4"/>
            <link port="validPacket" relation="relation7"/>
            <link port="ieee154e_startOfFrame" relation="relation3"/>
            <link port="ieee154e_endOfFrame" relation="relation7"/>
            <link port="validADV" relation="relation7"/>
            <link port="dataReceived" relation="relation8"/>
            <link port="ackReceived" relation="relation8"/>
            <link port="clock" relation="relation"/>
            <link port="Const.output" relation="relation3"/>
            <link port="Const.trigger" relation="relation4"/>
            <link port="Timer.clock" relation="relation"/>
            <link port="Timer.setTimer" relation="relation2"/>
            <link port="Timer.timer" relation="relation5"/>
            <link port="Const2.output" relation="relation2"/>
            <link port="Const2.trigger" relation="relation4"/>
            <link port="Const3.output" relation="relation7"/>
            <link port="Const3.trigger" relation="relation5"/>
            <link port="Absent.output" relation="relation8"/>
        </entity>
        <entity name="MicrostepDelay" class="ptolemy.actor.lib.MicrostepDelay">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[650.0, 205.0]">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
        </entity>
        <entity name="ADVpacketGen" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[410.0, 175.0]">
            </property>
            <port name="packetToBeSent" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[670.0, 255.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="clock" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{10.0, 250.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{260, 170}">
                </property>
                <port name="frameType" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="&quot;ADV&quot;">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 110.0]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="packetToBeSent" relation="relation2"/>
            <link port="RecordAssembler.output" relation="relation2"/>
            <link port="RecordAssembler.frameType" relation="relation"/>
            <link port="Const.output" relation="relation"/>
        </entity>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[1040.0, 535.0]">
            </vertex>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="in_channel" relation="relation6"/>
        <link port="tx-rx.isrIeee154eTimer" relation="relation3"/>
        <link port="tx-rx.isValidADV" relation="relation10"/>
        <link port="tx-rx.isValidPacket" relation="relation7"/>
        <link port="tx-rx.ieee154eStartOfFrame" relation="relation8"/>
        <link port="tx-rx.ieee154eEndOfFrame" relation="relation9"/>
        <link port="tx-rx.cellType" relation="relation2"/>
        <link port="tx-rx.isAckReceived" relation="relation12"/>
        <link port="tx-rx.dataReceived" relation="relation11"/>
        <link port="tx-rx.clock" relation="relation"/>
        <link port="tx-rx.setTimer" relation="relation4"/>
        <link port="tx-rx.resetTimer" relation="relation5"/>
        <link port="Schedule.CellType" relation="relation2"/>
        <link port="Clock.clock" relation="relation"/>
        <link port="Timer.clock" relation="relation"/>
        <link port="Timer.setTimer" relation="relation4"/>
        <link port="Timer.timer" relation="relation13"/>
        <link port="Timer.reset" relation="relation5"/>
        <link port="packetProcessor.packet" relation="relation6"/>
        <link port="packetProcessor.validPacket" relation="relation7"/>
        <link port="packetProcessor.ieee154e_startOfFrame" relation="relation8"/>
        <link port="packetProcessor.ieee154e_endOfFrame" relation="relation9"/>
        <link port="packetProcessor.validADV" relation="relation10"/>
        <link port="packetProcessor.dataReceived" relation="relation11"/>
        <link port="packetProcessor.ackReceived" relation="relation12"/>
        <link port="packetProcessor.clock" relation="relation"/>
        <link port="MicrostepDelay.input" relation="relation13"/>
        <link port="MicrostepDelay.output" relation="relation3"/>
    </entity>
    <entity name="GlobalTimeManager" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[775.0, 240.0]">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{80, 45}">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={253, 133, 934, 634}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{340.0, 252.0}">
        </property>
        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Here we check that global time never goes backward">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 190.0]">
            </property>
        </property>
        <port name="timeFailure" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[625.0, 260.0]">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <entity name="Init" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="0">
            </property>
            <property name="firingCountLimit" class="ptolemy.data.expr.Parameter" value="1">
            </property>
            <doc>Create a constant sequence.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[140.0, 110.0]">
            </property>
        </entity>
        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="globalTime">
            </property>
            <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{325, 110}">
            </property>
        </entity>
        <entity name="Discrete TimeDelay" class="ptolemy.actor.lib.TimeDelay">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[255.0, 350.0]">
            </property>
        </entity>
        <entity name="Const" class="ptolemy.actor.lib.Const">
            <property name="value" class="ptolemy.data.expr.Parameter" value="globalTime">
            </property>
            <doc>Create a constant sequence.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[110.0, 350.0]">
            </property>
        </entity>
        <entity name="Comparator" class="ptolemy.actor.lib.logic.Comparator">
            <property name="comparison" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                <property name="style" class="ptolemy.actor.gui.style.ChoiceStyle">
                    <property name="gt" class="ptolemy.kernel.util.StringAttribute" value="&gt;">
                    </property>
                    <property name="ge" class="ptolemy.kernel.util.StringAttribute" value="&gt;=">
                    </property>
                    <property name="lt" class="ptolemy.kernel.util.StringAttribute" value="&lt;">
                    </property>
                    <property name="le" class="ptolemy.kernel.util.StringAttribute" value="&lt;=">
                    </property>
                    <property name="eq" class="ptolemy.kernel.util.StringAttribute" value="==">
                    </property>
                </property>
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="comparison">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[420.0, 260.0]">
            </property>
        </entity>
        <entity name="TrueGate" class="ptolemy.actor.lib.logic.TrueGate">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[515.0, 260.0]">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[205.0, 250.0]">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="timeFailure" relation="relation5"/>
        <link port="Init.output" relation="relation"/>
        <link port="SetVariable.input" relation="relation"/>
        <link port="Discrete TimeDelay.input" relation="relation4"/>
        <link port="Discrete TimeDelay.output" relation="relation3"/>
        <link port="Const.output" relation="relation4"/>
        <link port="Comparator.left" relation="relation4"/>
        <link port="Comparator.right" relation="relation3"/>
        <link port="Comparator.output" relation="relation2"/>
        <link port="TrueGate.input" relation="relation2"/>
        <link port="TrueGate.output" relation="relation5"/>
    </entity>
</entity>
