<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="demo_multihop_nopower" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="10.0.devel">
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 812}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 702]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6415217255605179">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{553.7321740164978, 341.1790232392133}">
    </property>
    <property name="NodeId" class="ptolemy.data.expr.Parameter" value="1">
    </property>
    <property name="Annotation3" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.4,0.4,0.4,1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Authors: Antonio Iannopollo, Ben Zhang">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[635.0, 835.0]">
        </property>
    </property>
    <property name="enableBackwardTypeInference" class="ptolemy.data.expr.Parameter" value="true">
    </property>
    <property name="WirelessDirector" class="ptolemy.domains.wireless.kernel.WirelessDirector">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[625.0, 45.0]">
        </property>
    </property>
    <property name="Annotation5" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="{&quot;ADV&quot;, &quot;TX&quot;, &quot;OFF&quot;, &quot;RX&quot;}">
        </property>
        <property name="_location" class="ptolemy.kernel.util.RelativeLocation" value="[410.0, 270.0]">
        </property>
    </property>
    <property name="initialAddress" class="ptolemy.data.expr.Parameter" value="4">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{330, 5}">
        </property>
    </property>
    <entity name="LinkVisualizer" class="ptolemy.domains.wireless.lib.LinkVisualizer">
        <property name="channelName" class="ptolemy.data.expr.StringParameter" value="channel">
        </property>
        <property name="sleepTime" class="ptolemy.data.expr.Parameter" value="50">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[445.0, 145.0]">
        </property>
    </entity>
    <entity name="channel" class="ptolemy.domains.wireless.lib.LimitedRangeChannel">
        <property name="defaultProperties" class="ptolemy.data.expr.Parameter" value="{range = 200}">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[640.0, 100.0]">
        </property>
    </entity>
    <entity name="root" class="ptolemy.domains.wireless.kernel.WirelessComposite">
        <property name="DEDirector" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="localClock" class="ptolemy.actor.LocalClock">
                <property name="globalTimeResolution" class="ptolemy.actor.parameters.SharedParameter" value="1.0/32768">
                </property>
                <property name="clockRate" class="ptolemy.data.expr.Parameter" value="1.0 + drift">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{85.0, 15.0}">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[500.0, 500.0]">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 812}, maximized=true}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 702]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.7129629629629629">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{835.7532467532473, 229.29870129870125}">
        </property>
        <property name="PORT_TsSlotDuration" class="ptolemy.data.expr.Parameter" value="491">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{640.0, 45.0}">
            </property>
            <property name="style" class="ptolemy.actor.gui.style.HiddenStyle">
            </property>
        </property>
        <property name="PORT_maxRxDataPrepare" class="ptolemy.data.expr.Parameter" value="33">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{640.0, 60.0}">
            </property>
            <property name="style" class="ptolemy.actor.gui.style.HiddenStyle">
            </property>
        </property>
        <property name="PORT_maxRxAckPrepare" class="ptolemy.data.expr.Parameter" value="10">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[845.0, 55.0]">
            </property>
            <property name="style" class="ptolemy.actor.gui.style.HiddenStyle">
            </property>
        </property>
        <property name="PORT_maxTxDataPrepare" class="ptolemy.data.expr.Parameter" value="66">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{640.0, 75.0}">
            </property>
            <property name="style" class="ptolemy.actor.gui.style.HiddenStyle">
            </property>
        </property>
        <property name="PORT_delayRx" class="ptolemy.data.expr.Parameter" value="0">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{640.0, 30.0}">
            </property>
            <property name="style" class="ptolemy.actor.gui.style.HiddenStyle">
            </property>
        </property>
        <property name="PORT_delayTx" class="ptolemy.data.expr.Parameter" value="0">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{640.0, 15.0}">
            </property>
            <property name="style" class="ptolemy.actor.gui.style.HiddenStyle">
            </property>
        </property>
        <property name="PORT_maxTxAckPrepare" class="ptolemy.data.expr.Parameter" value="22">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[845.0, 75.0]">
            </property>
            <property name="style" class="ptolemy.actor.gui.style.HiddenStyle">
            </property>
        </property>
        <property name="nominalClockFrequency" class="ptolemy.data.expr.Parameter" value="1/32000">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{170.0, 30.0}">
            </property>
        </property>
        <property name="drift" class="ptolemy.data.expr.Parameter" value="-8.270681765959319E-7">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{170.0, 15.0}">
            </property>
        </property>
        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Gina board info. &#10;board_info.h file.&#10;">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[830.0, -5.0]">
            </property>
        </property>
        <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
            <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0,0.0,0.2,1.0}">
            </property>
            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="WTF, how could it work for the agile board!!!!">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[635.0, 85.0]">
            </property>
        </property>
        <property name="localAddress" class="ptolemy.data.expr.Parameter" value="2">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[175.0, 55.0]">
            </property>
        </property>
        <property name="networkMaster" class="ptolemy.data.expr.Parameter" value="true">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[170.0, 85.0]">
            </property>
        </property>
        <property name="schedule" class="ptolemy.data.expr.Parameter" value="{&quot;ADV&quot;, &quot;TX&quot;, &quot;OFF&quot;, &quot;RX&quot;}">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[170.0, 120.0]">
            </property>
        </property>
        <port name="wirelessIn" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="input"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="channel">
            </property>
            <property name="insideChannel" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{10.0, 335.0}">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="WEST">
            </property>
        </port>
        <port name="wirelessOut" class="ptolemy.domains.wireless.kernel.WirelessIOPort">
            <property name="output"/>
            <property name="outsideChannel" class="ptolemy.data.expr.StringParameter" value="channel">
            </property>
            <property name="insideChannel" class="ptolemy.data.expr.StringParameter" value="">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="false">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="[1065.0, 475.0]">
            </property>
            <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="EAST">
            </property>
        </port>
        <entity name="PhysicalLayer" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, 335.0}">
            </property>
            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                <property name="localClock" class="ptolemy.actor.LocalClock">
                    <property name="clockRate" class="ptolemy.data.expr.Parameter" value="1.0">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{55.0, 10.0}">
                </property>
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="This actor model the reception of a packet from the radio point of view.&#10;Once a packet is received, the actor wait a certain time before to deliver it to the mac layer.&#10;Moreover, here we can check if the packet is valid or what type it is">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{130.0, -20.0}">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 810}, maximized=true}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 698]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.175602836879433">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{405.94015444015434, 244.00475838561755}">
            </property>
            <port name="toMAC" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{735.0, 145.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="startOfFrame" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{880.0, 205.0}">
                </property>
            </port>
            <port name="endOfFrame" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{965.0, 85.0}">
                </property>
            </port>
            <port name="fromChannel" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{285.0, 80.0}">
                </property>
            </port>
            <port name="fromMAC" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, 215.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="toChannel" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{380.0, 270.0}">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
                <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{605.0, 80.0}">
                </property>
                <port name="startOfFrame" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="fromChannel" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="timerValue" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="endOfFrame" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="toMAC" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="radioOn" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                    <property name="annotation" class="ptolemy.kernel.util.Attribute">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_iconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure><svg><text x="20" y="20" style="font-size:14; font-family:SansSerif; fill:blue">The state machine that models the radio reception behavior</text></svg></configure>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="120.0, 5.0">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.basic.NodeControllerFactory">
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.AnnotationEditorFactory">
                        </property>
                    </property>
                    <property name="_library" class="ptolemy.moml.LibraryAttribute">
                        <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1200, 1894}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[966, 1783]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.5189003500234053">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{424.82622644431785, 597.8519798374543}">
                    </property>
                    <property name="timer" class="ptolemy.data.expr.Parameter" value="35">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[235.0, 140.0]">
                        </property>
                    </property>
                    <property name="payload" class="ptolemy.data.expr.Parameter" value="0">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{260, 105}">
                        </property>
                    </property>
                    <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[730.0, 215.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="fromChannel" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[150.0, 240.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="timerValue" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, 280.0}">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[735.0, 340.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="toMAC" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[735.0, 395.0]">
                        </property>
                    </port>
                    <port name="radioOn" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[150.0, 335.0]">
                        </property>
                    </port>
                    <entity name="idle" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                            <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                            </property>
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[264.4068755071831, 323.87165435669704]">
                        </property>
                    </entity>
                    <entity name="receiveDone" class="ptolemy.domains.modal.kernel.State">
                        <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                            <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                            </property>
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[434.4068755071831, 198.87165435669704]">
                        </property>
                    </entity>
                    <entity name="receiving" class="ptolemy.domains.modal.kernel.State">
                        <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                            <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                            </property>
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[475.0, 385.0]">
                        </property>
                    </entity>
                    <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.4231927549439116">
                        </property>
                        <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                            <display name="default"/>
                        </property>
                    </relation>
                    <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(timer)">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="endOfFrame = true; toMAC = payload">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="payload = 0">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="1.0207283337963708">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.6384444870482355">
                        </property>
                    </relation>
                    <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="radioOn == false">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.578560770104836">
                        </property>
                    </relation>
                    <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="fromChannel_isPresent">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="startOfFrame=true">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="payload = fromChannel; timer = timerValue">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6614019052961146">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.2583100674196512">
                        </property>
                    </relation>
                    <link port="idle.incomingPort" relation="relation4"/>
                    <link port="idle.incomingPort" relation="relation2"/>
                    <link port="idle.outgoingPort" relation="relation"/>
                    <link port="receiveDone.incomingPort" relation="relation3"/>
                    <link port="receiveDone.outgoingPort" relation="relation4"/>
                    <link port="receiving.incomingPort" relation="relation"/>
                    <link port="receiving.outgoingPort" relation="relation3"/>
                    <link port="receiving.outgoingPort" relation="relation2"/>
                </entity>
                <relation name="startOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="fromChannelRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="timerValueRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="endOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="toMACRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="radioOnRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <link port="startOfFrame" relation="startOfFrameRelation"/>
                <link port="fromChannel" relation="fromChannelRelation"/>
                <link port="timerValue" relation="timerValueRelation"/>
                <link port="endOfFrame" relation="endOfFrameRelation"/>
                <link port="toMAC" relation="toMACRelation"/>
                <link port="radioOn" relation="radioOnRelation"/>
                <link port="_Controller.startOfFrame" relation="startOfFrameRelation"/>
                <link port="_Controller.fromChannel" relation="fromChannelRelation"/>
                <link port="_Controller.timerValue" relation="timerValueRelation"/>
                <link port="_Controller.endOfFrame" relation="endOfFrameRelation"/>
                <link port="_Controller.toMAC" relation="toMACRelation"/>
                <link port="_Controller.radioOn" relation="radioOnRelation"/>
            </entity>
            <entity name="RecordDisassembler" class="ptolemy.actor.lib.RecordDisassembler">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{375.0, 60.0}">
                </property>
                <port name="input" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="{payload=general, length=int}">
                    </property>
                </port>
                <port name="payload" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="general">
                    </property>
                </port>
                <port name="length" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                    </property>
                </port>
            </entity>
            <entity name="Merge" class="ptolemy.domains.continuous.lib.ContinuousMerge">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{775.0, 205.0}">
                </property>
            </entity>
            <entity name="Merge2" class="ptolemy.domains.continuous.lib.ContinuousMerge">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{900.0, 85.0}">
                </property>
            </entity>
            <entity name="send" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, 215.0}">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1200, 808}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[966, 698]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.7285019616706159">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{277.54003906250006, 361.19790304654816}">
                </property>
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{65.0, 190.0}">
                    </property>
                </property>
                <port name="MACpayload" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 330.0}">
                    </property>
                </port>
                <port name="phyPayload" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{635.0, 260.0}">
                    </property>
                </port>
                <port name="endOfFrameDelay" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{410.0, 395.0}">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <entity name="Expression" class="ptolemy.actor.lib.Expression">
                    <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="in.length()">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{315.0, 395.0}">
                    </property>
                    <port name="in" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                        </property>
                    </port>
                </entity>
                <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{470.0, 240.0}">
                    </property>
                    <port name="payload" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="length" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="TokenToJSON" class="ptolemy.actor.lib.conversions.json.TokenToJSON">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{170.0, 395.0}">
                    </property>
                </entity>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{100.0, 330.0}">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.in&quot;,x=150.0,y=335.0}, tail={id=&quot;relation3.vertex1&quot;,x=95.0,y=270.0}, points={95.0,335.0} },{ head={id=&quot;relation3.vertex1&quot;,x=100.0,y=330.0}, tail={id=&quot;MACpayload._location&quot;,x=25.0,y=330.0}, points={} },{ head={id=&quot;DisplayTime.input&quot;,x=175.0,y=330.0}, tail={id=&quot;relation3.vertex1&quot;,x=100.0,y=330.0}, points={} },{ head={id=&quot;RecordAssembler.payload&quot;,x=470.0,y=240.0}, tail={id=&quot;relation3.vertex1&quot;,x=100.0,y=330.0}, points={100.0,250.0} },{ head={id=&quot;TokenToJSON.input&quot;,x=170.0,y=395.0}, tail={id=&quot;relation3.vertex1&quot;,x=100.0,y=330.0}, points={100.0,395.0} } }">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{385.0, 395.0}">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;endOfFrameDelay._location&quot;,x=410.0,y=395.0}, tail={id=&quot;relation4.vertex1&quot;,x=385.0,y=395.0}, points={} },{ head={id=&quot;Expression.output&quot;,x=315.0,y=395.0}, tail={id=&quot;relation4.vertex1&quot;,x=385.0,y=395.0}, points={} },{ head={id=&quot;RecordAssembler.length&quot;,x=470.0,y=240.0}, tail={id=&quot;relation4.vertex1&quot;,x=385.0,y=395.0}, points={385.0,270.0} } }">
                    </property>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;phyPayload._location&quot;,x=635.0,y=260.0}, tail={id=&quot;RecordAssembler.output&quot;,x=470.0,y=240.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.in&quot;,x=315.0,y=395.0}, tail={id=&quot;TokenToJSON.output&quot;,x=170.0,y=395.0}, points={} } }">
                    </property>
                </relation>
                <link port="MACpayload" relation="relation3"/>
                <link port="phyPayload" relation="relation"/>
                <link port="endOfFrameDelay" relation="relation4"/>
                <link port="Expression.output" relation="relation4"/>
                <link port="Expression.in" relation="relation5"/>
                <link port="RecordAssembler.output" relation="relation"/>
                <link port="RecordAssembler.payload" relation="relation3"/>
                <link port="RecordAssembler.length" relation="relation4"/>
                <link port="TokenToJSON.input" relation="relation3"/>
                <link port="TokenToJSON.output" relation="relation5"/>
            </entity>
            <entity name="Discrete TimeDelay" class="ptolemy.actor.lib.TimeDelay">
                <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="35.0">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{765.0, 285.0}">
                </property>
            </entity>
            <entity name="Const" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{440.0, 205.0}">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;ModalModel.timerValue&quot;,x=605.0,y=80.0}, tail={id=&quot;RecordDisassembler.length&quot;,x=375.0,y=60.0}, points={505.0,80.0,505.0,90.0} } }">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;fromChannel._location&quot;,x=285.0,y=80.0}, tail={id=&quot;RecordDisassembler.input&quot;,x=375.0,y=60.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;toMAC._location&quot;,x=735.0,y=145.0}, tail={id=&quot;ModalModel.toMAC&quot;,x=605.0,y=80.0}, points={700.0,145.0,700.0,90.0} } }">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;ModalModel.fromChannel&quot;,x=605.0,y=80.0}, tail={id=&quot;RecordDisassembler.payload&quot;,x=375.0,y=60.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;startOfFrame._location&quot;,x=880.0,y=205.0}, tail={id=&quot;Merge.output&quot;,x=775.0,y=205.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;endOfFrame._location&quot;,x=965.0,y=85.0}, tail={id=&quot;Merge2.output&quot;,x=900.0,y=85.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Merge.input&quot;,x=775.0,y=205.0,index=2}, tail={id=&quot;ModalModel.startOfFrame&quot;,x=605.0,y=80.0}, points={715.0,200.0,715.0,70.0} } }">
                </property>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Merge2.input&quot;,x=900.0,y=85.0,index=2}, tail={id=&quot;ModalModel.endOfFrame&quot;,x=605.0,y=80.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{355.0, 205.0}">
                </vertex>
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;relation10.vertex1&quot;,x=355.0,y=205.0}, tail={id=&quot;Const.trigger&quot;,x=440.0,y=205.0}, points={} },{ head={id=&quot;toChannel._location&quot;,x=380.0,y=270.0}, tail={id=&quot;relation10.vertex1&quot;,x=355.0,y=205.0}, points={355.0,270.0} },{ head={id=&quot;send.phyPayload&quot;,x=150.0,y=215.0}, tail={id=&quot;relation10.vertex1&quot;,x=355.0,y=205.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{700.0, 205.0}">
                </vertex>
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;relation11.vertex1&quot;,x=700.0,y=205.0}, tail={id=&quot;Discrete TimeDelay.input&quot;,x=765.0,y=285.0}, points={700.0,285.0} },{ head={id=&quot;Const.output&quot;,x=440.0,y=205.0}, tail={id=&quot;relation11.vertex1&quot;,x=700.0,y=205.0}, points={} },{ head={id=&quot;Merge.input&quot;,x=775.0,y=205.0,index=2}, tail={id=&quot;relation11.vertex1&quot;,x=700.0,y=205.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Merge2.input&quot;,x=900.0,y=85.0,index=2}, tail={id=&quot;Discrete TimeDelay.output&quot;,x=765.0,y=285.0}, points={860.0,85.0,860.0,285.0} } }">
                </property>
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Discrete TimeDelay.delay&quot;,x=765.0,y=285.0}, tail={id=&quot;send.endOfFrameDelay&quot;,x=150.0,y=215.0}, points={765.0,325.0,260.0,325.0,260.0,225.0} } }">
                </property>
            </relation>
            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;fromMAC._location&quot;,x=15.0,y=215.0}, tail={id=&quot;send.MACpayload&quot;,x=150.0,y=215.0}, points={} } }">
                </property>
            </relation>
            <link port="toMAC" relation="relation"/>
            <link port="startOfFrame" relation="relation5"/>
            <link port="endOfFrame" relation="relation6"/>
            <link port="fromChannel" relation="relation2"/>
            <link port="fromMAC" relation="relation13"/>
            <link port="toChannel" relation="relation10"/>
            <link port="ModalModel.startOfFrame" relation="relation7"/>
            <link port="ModalModel.fromChannel" relation="relation3"/>
            <link port="ModalModel.timerValue" relation="relation4"/>
            <link port="ModalModel.endOfFrame" relation="relation8"/>
            <link port="ModalModel.toMAC" relation="relation"/>
            <link port="RecordDisassembler.input" relation="relation2"/>
            <link port="RecordDisassembler.payload" relation="relation3"/>
            <link port="RecordDisassembler.length" relation="relation4"/>
            <link port="Merge.input" relation="relation7"/>
            <link port="Merge.input" relation="relation11"/>
            <link port="Merge.output" relation="relation5"/>
            <link port="Merge2.input" relation="relation8"/>
            <link port="Merge2.input" relation="relation9"/>
            <link port="Merge2.output" relation="relation6"/>
            <link port="send.MACpayload" relation="relation13"/>
            <link port="send.phyPayload" relation="relation10"/>
            <link port="send.endOfFrameDelay" relation="relation12"/>
            <link port="Discrete TimeDelay.input" relation="relation11"/>
            <link port="Discrete TimeDelay.output" relation="relation9"/>
            <link port="Discrete TimeDelay.delay" relation="relation12"/>
            <link port="Const.output" relation="relation11"/>
            <link port="Const.trigger" relation="relation10"/>
        </entity>
        <entity name="MACLayer" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[745.0, 295.0]">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 812}, maximized=true}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 702]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6562790324542402">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{136.91860465116304, 153.88060501453504}">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                <property name="enforceMicrostepSemantics" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-225.0, -235.0}">
                </property>
            </property>
            <property name="TsSlotDuration" class="ptolemy.data.expr.Parameter" value="PORT_TsSlotDuration">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-140.0, -165.0}">
                </property>
            </property>
            <property name="isSync" class="ptolemy.data.expr.Parameter" value="true">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-80.0, -260.0}">
                </property>
            </property>
            <property name="DAGroot" class="ptolemy.data.expr.Parameter" value="networkMaster">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-115.0, -225.0]">
                </property>
            </property>
            <property name="asn" class="ptolemy.data.expr.Parameter" value="261">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-155.0, -260.0}">
                </property>
            </property>
            <property name="nextSlotTimer" class="ptolemy.data.expr.Parameter" value="128151.0">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{555.0, -260.0}">
                </property>
            </property>
            <property name="lastSlotTimer" class="ptolemy.data.expr.Parameter" value="127660.0">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{300.0, -225.0}">
                </property>
            </property>
            <property name="lastCellType" class="ptolemy.data.expr.Parameter" value="&quot;ADV&quot;">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[70.0, -235.0]">
                </property>
            </property>
            <property name="ackRequired" class="ptolemy.data.expr.Parameter" value="false">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{485.0, -105.0}">
                </property>
            </property>
            <property name="lastPacketType" class="ptolemy.data.expr.Parameter" value="&quot;ADV&quot;">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{485.0, -145.0}">
                </property>
            </property>
            <property name="isLastPacketValid" class="ptolemy.data.expr.Parameter" value="true">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{485.0, -50.0}">
                </property>
            </property>
            <property name="lastPacketSender" class="ptolemy.data.expr.Parameter" value="3">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{485.0, -90.0}">
                </property>
            </property>
            <property name="preferredParent" class="ptolemy.data.expr.Parameter" value="0">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{5.0, -195.0}">
                </property>
            </property>
            <property name="ackTimeCorrection" class="ptolemy.data.expr.Parameter" value="-1">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{485.0, -70.0}">
                </property>
            </property>
            <property name="otherASN" class="ptolemy.data.expr.Parameter" value="261">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{485.0, -30.0}">
                </property>
            </property>
            <property name="lastPacketPayload" class="ptolemy.data.expr.Parameter" value="&quot;&quot;">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{485.0, -125.0}">
                </property>
            </property>
            <port name="startOfFrame" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-250.0, -60.0]">
                </property>
            </port>
            <port name="endOfFrame" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-320.0, 45.0]">
                </property>
            </port>
            <port name="fromApplication" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-315.0, 110.0]">
                </property>
            </port>
            <port name="toApplication" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 155.0]">
                </property>
            </port>
            <port name="fromPhysical" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-135.0, 305.0}">
                </property>
            </port>
            <port name="toPhysical" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[355.0, 240.0]">
                </property>
            </port>
            <entity name="cellType" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-290.0, 250.0]">
                </property>
                <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                    <property name="text" class="ptolemy.kernel.util.StringAttribute" value="Once the synchronization is true, the clock will start to fire&#10;and schedules are generated every TsSlotDuration">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{585.0, -230.0}">
                    </property>
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1200, 812}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[966, 702]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.5099644098452203">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{899.3203124999997, 450.66036055177824}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="schedules" class="ptolemy.data.expr.Parameter" value="schedule">
                    <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                        <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                        </property>
                    </property>
                    <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                        <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                    </property>
                    <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, -210.0]">
                    </property>
                </property>
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, -200.0}">
                    </property>
                </property>
                <port name="cellType" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1565.0, -120.0}">
                    </property>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="adjustment" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{-25.0, -15.0}">
                    </property>
                </port>
                <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="asn">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1690.0, -65.0}">
                    </property>
                </entity>
                <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                    <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="asn + 1">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1600.0, -65.0}">
                    </property>
                    <port name="in" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                    </port>
                </entity>
                <entity name="ArrayElement" class="ptolemy.actor.lib.ArrayElement">
                    <property name="index" class="ptolemy.actor.parameters.PortParameter" value="0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1470.0, -5.0}">
                    </property>
                </entity>
                <entity name="readFromSchedules" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="schedules">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1315.0, -15.0}">
                    </property>
                </entity>
                <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                    <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="asn % schedules.length()">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1130.0, -15.0}">
                    </property>
                    <port name="output" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                        </property>
                    </port>
                    <port name="in" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="ResettableTimer" class="ptolemy.actor.lib.ResettableTimer">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{415.0, -5.0}">
                    </property>
                </entity>
                <entity name="Merge" class="ptolemy.domains.continuous.lib.ContinuousMerge">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{175.0, -75.0}">
                    </property>
                </entity>
                <entity name="SingleEvent" class="ptolemy.actor.lib.SingleEvent">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="0">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{70.0, -85.0}">
                    </property>
                </entity>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="TsSlotDuration">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{270.0, 70.0}">
                    </property>
                    <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </entity>
                <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                    <doc>Output the current time.</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{420.0, 125.0}">
                    </property>
                    <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </entity>
                <entity name="SetVariable2" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastSlotTimer">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{300.0, 125.0}">
                    </property>
                    <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                </entity>
                <entity name="Expression" class="ptolemy.actor.lib.Expression">
                    <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="isSync == true">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{850.0, 70.0}">
                    </property>
                    <port name="trigger" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="BooleanSwitch" class="ptolemy.actor.lib.BooleanSwitch">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{955.0, -5.0}">
                    </property>
                </entity>
                <entity name="Discard" class="ptolemy.actor.lib.Discard">
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1130.0, 85.0}">
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                        </property>
                    </port>
                </entity>
                <entity name="SetVariable3" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="nextSlotTimer">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{825.0, -135.0}">
                    </property>
                </entity>
                <entity name="CurrentTime2" class="ptolemy.actor.lib.CurrentTime">
                    <doc>Output the current time.</doc>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{425.0, -75.0}">
                    </property>
                </entity>
                <entity name="Expression4" class="ptolemy.actor.lib.Expression">
                    <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="currentTime + relativeTimer">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{650.0, -135.0}">
                    </property>
                    <port name="relativeTimer" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="currentTime" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="SetVariable4" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastCellType">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1600.0, 140.0}">
                    </property>
                </entity>
                <entity name="resetIEEE154EParameter" class="ptolemy.actor.TypedCompositeActor">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[1721.125, 1.71875]">
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1200, 947}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[966, 837]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{480.0, 584.373046875}">
                    </property>
                    <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[150.0, 260.0]">
                        </property>
                    </property>
                    <port name="trigger" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[60.0, 745.0]">
                        </property>
                    </port>
                    <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="ackRequired">
                        </property>
                        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{361.0, 784.873046875}">
                        </property>
                    </entity>
                    <entity name="Const" class="ptolemy.actor.lib.Const">
                        <property name="value" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <doc>Create a constant sequence.</doc>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{261.0, 784.873046875}">
                        </property>
                    </entity>
                    <entity name="SetVariable2" class="ptolemy.actor.lib.SetVariable">
                        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="otherASN">
                        </property>
                        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[345.0, 685.0]">
                        </property>
                    </entity>
                    <entity name="Const2" class="ptolemy.actor.lib.Const">
                        <property name="value" class="ptolemy.data.expr.Parameter" value="-1">
                        </property>
                        <doc>Create a constant sequence.</doc>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{245.0, 685.0}">
                        </property>
                    </entity>
                    <entity name="SetVariable3" class="ptolemy.actor.lib.SetVariable">
                        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="isLastPacketValid">
                        </property>
                        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, 845.0]">
                        </property>
                    </entity>
                    <entity name="SetVariable4" class="ptolemy.actor.lib.SetVariable">
                        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="ackTimeCorrection">
                        </property>
                        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[380.0, 615.0]">
                        </property>
                    </entity>
                    <entity name="SetVariable5" class="ptolemy.actor.lib.SetVariable">
                        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastPacketSender">
                        </property>
                        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[400.0, 555.0]">
                        </property>
                    </entity>
                    <entity name="SetVariable6" class="ptolemy.actor.lib.SetVariable">
                        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastPacketType">
                        </property>
                        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[395.0, 495.0]">
                        </property>
                    </entity>
                    <entity name="SetVariable7" class="ptolemy.actor.lib.SetVariable">
                        <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastPacketPayload">
                        </property>
                        <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[400.0, 440.0]">
                        </property>
                    </entity>
                    <entity name="Const3" class="ptolemy.actor.lib.Const">
                        <property name="value" class="ptolemy.data.expr.Parameter" value="&quot;&quot;">
                        </property>
                        <doc>Create a constant sequence.</doc>
                        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                            </property>
                            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                            </property>
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[243.245849609375, 498.489990234375]">
                        </property>
                    </entity>
                    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                        </property>
                        <vertex name="vertex1" value="{160.0, 765.0}">
                        </vertex>
                    </relation>
                    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                        </property>
                        <vertex name="vertex1" value="{310.0, 785.0}">
                        </vertex>
                    </relation>
                    <relation name="relation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                        </property>
                        <vertex name="vertex1" value="{295.0, 685.0}">
                        </vertex>
                    </relation>
                    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                        </property>
                        <vertex name="vertex1" value="{320.0, 495.0}">
                        </vertex>
                    </relation>
                    <link port="trigger" relation="relation4"/>
                    <link port="SetVariable.input" relation="relation2"/>
                    <link port="Const.output" relation="relation2"/>
                    <link port="Const.trigger" relation="relation4"/>
                    <link port="SetVariable2.input" relation="relation"/>
                    <link port="Const2.output" relation="relation"/>
                    <link port="Const2.trigger" relation="relation4"/>
                    <link port="SetVariable3.input" relation="relation2"/>
                    <link port="SetVariable4.input" relation="relation"/>
                    <link port="SetVariable5.input" relation="relation"/>
                    <link port="SetVariable6.input" relation="relation5"/>
                    <link port="SetVariable7.input" relation="relation5"/>
                    <link port="Const3.output" relation="relation5"/>
                    <link port="Const3.trigger" relation="relation4"/>
                </entity>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable.input&quot;,x=1690.0,y=-65.0}, tail={id=&quot;Expression2.output&quot;,x=1600.0,y=-65.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="[1540.0, -5.0]">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression2.in&quot;,x=1600.0,y=-65.0}, tail={id=&quot;relation7.vertex1&quot;,x=1540.0,y=-5.0}, points={1540.0,-65.0} },{ head={id=&quot;ArrayElement.output&quot;,x=1470.0,y=-5.0}, tail={id=&quot;relation7.vertex1&quot;,x=1540.0,y=-5.0}, points={} },{ head={id=&quot;DisplayTime.input&quot;,x=1600.0,y=80.0}, tail={id=&quot;relation7.vertex1&quot;,x=1540.0,y=-5.0}, points={1540.0,80.0} },{ head={id=&quot;SetVariable4.input&quot;,x=1600.0,y=140.0}, tail={id=&quot;relation7.vertex1&quot;,x=1540.0,y=-5.0}, points={1540.0,140.0} },{ head={id=&quot;cellType._location&quot;,x=1565.0,y=-120.0}, tail={id=&quot;relation7.vertex1&quot;,x=1540.0,y=-5.0}, points={1540.0,-120.0} },{ head={id=&quot;relation7.vertex1&quot;,x=1540.0,y=-5.0}, tail={id=&quot;.Const2.trigger&quot;,x=1615.0,y=-5.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;ArrayElement.input&quot;,x=1470.0,y=-5.0}, tail={id=&quot;readFromSchedules.output&quot;,x=1315.0,y=-15.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation17" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{1240.0, -15.0}">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;readFromSchedules.trigger&quot;,x=1315.0,y=-15.0}, tail={id=&quot;relation17.vertex1&quot;,x=1240.0,y=-15.0}, points={} },{ head={id=&quot;ArrayElement.index&quot;,x=1470.0,y=-5.0}, tail={id=&quot;relation17.vertex1&quot;,x=1240.0,y=-15.0}, points={1405.0,5.0,1405.0,50.0,1240.0,50.0} },{ head={id=&quot;Expression3.output&quot;,x=1130.0,y=-15.0}, tail={id=&quot;relation17.vertex1&quot;,x=1240.0,y=-15.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Merge.input&quot;,x=175.0,y=-75.0,index=3}, tail={id=&quot;SingleEvent.output&quot;,x=70.0,y=-85.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{760.0, -5.0}">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;ResettableTimer.output&quot;,x=415.0,y=-5.0}, tail={id=&quot;relation3.vertex1&quot;,x=760.0,y=-5.0}, points={} },{ head={id=&quot;Const.trigger&quot;,x=270.0,y=70.0}, tail={id=&quot;relation3.vertex1&quot;,x=760.0,y=-5.0}, points={495.0,70.0,495.0,-5.0} },{ head={id=&quot;Expression.trigger&quot;,x=850.0,y=70.0}, tail={id=&quot;relation3.vertex1&quot;,x=760.0,y=-5.0}, points={760.0,70.0} },{ head={id=&quot;CurrentTime.trigger&quot;,x=420.0,y=125.0}, tail={id=&quot;relation3.vertex1&quot;,x=760.0,y=-5.0}, points={495.0,125.0,495.0,-5.0} },{ head={id=&quot;BooleanSwitch.input&quot;,x=955.0,y=-5.0}, tail={id=&quot;relation3.vertex1&quot;,x=760.0,y=-5.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;CurrentTime.output&quot;,x=420.0,y=125.0}, tail={id=&quot;SetVariable2.input&quot;,x=300.0,y=125.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression3.in&quot;,x=1130.0,y=-15.0}, tail={id=&quot;BooleanSwitch.trueOutput&quot;,x=955.0,y=-5.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation12" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSwitch.falseOutput&quot;,x=955.0,y=-5.0}, tail={id=&quot;Discard.input&quot;,x=1130.0,y=85.0}, points={1030.0,5.0,1030.0,45.0,1130.0,45.0} } }">
                    </property>
                </relation>
                <relation name="relation15" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{365.0, -75.0}">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Merge.output&quot;,x=175.0,y=-75.0}, tail={id=&quot;relation15.vertex1&quot;,x=365.0,y=-75.0}, points={} },{ head={id=&quot;ResettableTimer.input&quot;,x=415.0,y=-5.0}, tail={id=&quot;relation15.vertex1&quot;,x=365.0,y=-75.0}, points={365.0,-5.0} },{ head={id=&quot;CurrentTime2.trigger&quot;,x=425.0,y=-75.0}, tail={id=&quot;relation15.vertex1&quot;,x=365.0,y=-75.0}, points={} },{ head={id=&quot;Expression4.relativeTimer&quot;,x=650.0,y=-135.0}, tail={id=&quot;relation15.vertex1&quot;,x=365.0,y=-75.0}, points={365.0,-145.0} } }">
                    </property>
                </relation>
                <relation name="relation16" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{910.0, 70.0}">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSwitch.control&quot;,x=955.0,y=-5.0}, tail={id=&quot;relation16.vertex1&quot;,x=910.0,y=70.0}, points={955.0,70.0} },{ head={id=&quot;Expression.output&quot;,x=850.0,y=70.0}, tail={id=&quot;relation16.vertex1&quot;,x=910.0,y=70.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{135.0, -15.0}">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Merge.input&quot;,x=175.0,y=-75.0,index=3}, tail={id=&quot;relation11.vertex1&quot;,x=135.0,y=-15.0}, points={135.0,-75.0} },{ head={id=&quot;adjustment._location&quot;,x=-25.0,y=-15.0}, tail={id=&quot;relation11.vertex1&quot;,x=135.0,y=-15.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Merge.input&quot;,x=175.0,y=-75.0,index=3}, tail={id=&quot;Const.output&quot;,x=270.0,y=70.0}, points={120.0,-80.0,120.0,70.0} } }">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;CurrentTime2.output&quot;,x=425.0,y=-75.0}, tail={id=&quot;Expression4.currentTime&quot;,x=650.0,y=-135.0}, points={495.0,-75.0,495.0,-125.0} } }">
                    </property>
                </relation>
                <relation name="relation18" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable3.input&quot;,x=825.0,y=-135.0}, tail={id=&quot;Expression4.output&quot;,x=650.0,y=-135.0}, points={} } }">
                    </property>
                </relation>
                <link port="cellType" relation="relation7"/>
                <link port="adjustment" relation="relation11"/>
                <link port="SetVariable.input" relation="relation6"/>
                <link port="Expression2.output" relation="relation6"/>
                <link port="Expression2.in" relation="relation7"/>
                <link port="ArrayElement.input" relation="relation13"/>
                <link port="ArrayElement.output" relation="relation7"/>
                <link port="ArrayElement.index" relation="relation17"/>
                <link port="readFromSchedules.output" relation="relation13"/>
                <link port="readFromSchedules.trigger" relation="relation17"/>
                <link port="Expression3.output" relation="relation17"/>
                <link port="Expression3.in" relation="relation2"/>
                <link port="ResettableTimer.input" relation="relation15"/>
                <link port="ResettableTimer.output" relation="relation3"/>
                <link port="Merge.input" relation="relation"/>
                <link port="Merge.input" relation="relation4"/>
                <link port="Merge.input" relation="relation11"/>
                <link port="Merge.output" relation="relation15"/>
                <link port="SingleEvent.output" relation="relation"/>
                <link port="Const.output" relation="relation4"/>
                <link port="Const.trigger" relation="relation3"/>
                <link port="CurrentTime.output" relation="relation9"/>
                <link port="CurrentTime.trigger" relation="relation3"/>
                <link port="SetVariable2.input" relation="relation9"/>
                <link port="Expression.output" relation="relation16"/>
                <link port="Expression.trigger" relation="relation3"/>
                <link port="BooleanSwitch.input" relation="relation3"/>
                <link port="BooleanSwitch.control" relation="relation16"/>
                <link port="BooleanSwitch.trueOutput" relation="relation2"/>
                <link port="BooleanSwitch.falseOutput" relation="relation12"/>
                <link port="Discard.input" relation="relation12"/>
                <link port="SetVariable3.input" relation="relation18"/>
                <link port="CurrentTime2.output" relation="relation5"/>
                <link port="CurrentTime2.trigger" relation="relation15"/>
                <link port="Expression4.output" relation="relation18"/>
                <link port="Expression4.relativeTimer" relation="relation15"/>
                <link port="Expression4.currentTime" relation="relation5"/>
                <link port="SetVariable4.input" relation="relation7"/>
                <link port="resetIEEE154EParameter.trigger" relation="relation7"/>
            </entity>
            <entity name="TSCHStateMachine" class="ptolemy.domains.modal.modal.ModalModel">
                <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 175.0}">
                </property>
                <port name="startOfFrame" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="endOfFrame" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="dataToSend" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="cellType" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="toApplication" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="toPhysical" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="fromPhysical" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="syncSchedule" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="powerStatus" class="ptolemy.domains.modal.modal.ModalPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                    <property name="_library" class="ptolemy.moml.LibraryAttribute">
                        <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
                    </property>
                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={120, 26, 1200, 808}, maximized=false}">
                    </property>
                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[966, 697]">
                    </property>
                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.8859607136488633">
                    </property>
                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{-472.001414442945, 175.40259415064105}">
                    </property>
                    <property name="TsTxOffset" class="ptolemy.data.expr.Parameter" value="131">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-625.0, -295.0]">
                        </property>
                    </property>
                    <property name="TsLongGT" class="ptolemy.data.expr.Parameter" value="43">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-625.0, -270.0]">
                        </property>
                    </property>
                    <property name="TsTxAckDelay" class="ptolemy.data.expr.Parameter" value="151">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-625.0, -245.0]">
                        </property>
                    </property>
                    <property name="maxRxDataPrepare" class="ptolemy.data.expr.Parameter" value="PORT_maxRxDataPrepare">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-405.0, -150.0]">
                        </property>
                    </property>
                    <property name="wdAckDuration" class="ptolemy.data.expr.Parameter" value="98">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-625.0, -145.0]">
                        </property>
                    </property>
                    <property name="TsShortGT" class="ptolemy.data.expr.Parameter" value="16">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-625.0, -220.0]">
                        </property>
                    </property>
                    <property name="TsSlotDuration" class="ptolemy.data.expr.Parameter" value="PORT_TsSlotDuration">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-405.0, -225.0]">
                        </property>
                    </property>
                    <property name="maxTxDataPrepare" class="ptolemy.data.expr.Parameter" value="PORT_maxTxDataPrepare">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-405.0, -200.0]">
                        </property>
                    </property>
                    <property name="maxRxAckPrepare" class="ptolemy.data.expr.Parameter" value="PORT_maxRxAckPrepare">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-405.0, -175.0]">
                        </property>
                    </property>
                    <property name="wdDataDuration" class="ptolemy.data.expr.Parameter" value="164">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-625.0, -170.0]">
                        </property>
                    </property>
                    <property name="wdRadioTx" class="ptolemy.data.expr.Parameter" value="33">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-625.0, -195.0]">
                        </property>
                    </property>
                    <property name="delayRx" class="ptolemy.data.expr.Parameter" value="PORT_delayRx">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-405.0, -250.0]">
                        </property>
                    </property>
                    <property name="delayTx" class="ptolemy.data.expr.Parameter" value="PORT_delayTx">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-405.0, -275.0]">
                        </property>
                    </property>
                    <property name="maxTxAckPrepare" class="ptolemy.data.expr.Parameter" value="PORT_maxTxAckPrepare">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-405.0, -300.0]">
                        </property>
                    </property>
                    <property name="lastCapturedTime" class="ptolemy.data.expr.Parameter" value="127791.0">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-910.0, -150.0]">
                        </property>
                    </property>
                    <property name="DESYNCTIMEOUT" class="ptolemy.data.expr.Parameter" value="333">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-910.0, -125.0]">
                        </property>
                    </property>
                    <property name="deSyncTimeout" class="ptolemy.data.expr.Parameter" value="333">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-625.0, -120.0]">
                        </property>
                    </property>
                    <property name="TXRETRIES" class="ptolemy.data.expr.Parameter" value="3">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-405.0, -100.0]">
                        </property>
                    </property>
                    <property name="l2_retriesLeft" class="ptolemy.data.expr.Parameter" value="TXRETRIES">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-405.0, -125.0]">
                        </property>
                    </property>
                    <property name="syncCapturedTime" class="ptolemy.data.expr.Parameter" value="25171.749603271484">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-910.0, -95.0]">
                        </property>
                    </property>
                    <property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 0.0, 0.0, 1.0}">
                        </property>
                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="System configuration">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-895.0, -280.0]">
                        </property>
                    </property>
                    <property name="timeCorrection" class="ptolemy.data.expr.Parameter" value="0">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-625.0, -85.0]">
                        </property>
                    </property>
                    <property name="RESYNCHRONIZATIONGUARD" class="ptolemy.data.expr.Parameter" value="5">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-400.0, -65.0]">
                        </property>
                    </property>
                    <property name="DURATION_tt1" class="ptolemy.data.expr.Parameter" value="TsTxOffset-delayTx-maxTxDataPrepare">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 625.0]">
                        </property>
                    </property>
                    <property name="DURATION_tt2" class="ptolemy.data.expr.Parameter" value="maxTxDataPrepare">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 645.0]">
                        </property>
                    </property>
                    <property name="DURATION_tt3" class="ptolemy.data.expr.Parameter" value="wdRadioTx">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 665.0]">
                        </property>
                    </property>
                    <property name="DURATION_rt8" class="ptolemy.data.expr.Parameter" value="wdAckDuration">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-465.0, 765.0]">
                        </property>
                    </property>
                    <property name="DURATION_rt2" class="ptolemy.data.expr.Parameter" value="maxRxDataPrepare">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-465.0, 645.0]">
                        </property>
                    </property>
                    <property name="DURATION_rt3" class="ptolemy.data.expr.Parameter" value="delayRx + 2 * TsLongGT">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-465.0, 665.0]">
                        </property>
                    </property>
                    <property name="DURATION_rt4" class="ptolemy.data.expr.Parameter" value="wdDataDuration">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-465.0, 685.0]">
                        </property>
                    </property>
                    <property name="DURATION_rt5" class="ptolemy.data.expr.Parameter" value="TsTxAckDelay - delayTx - maxTxAckPrepare">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-465.0, 705.0]">
                        </property>
                    </property>
                    <property name="DURATION_rt6" class="ptolemy.data.expr.Parameter" value="maxTxAckPrepare">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-465.0, 725.0]">
                        </property>
                    </property>
                    <property name="DURATION_rt7" class="ptolemy.data.expr.Parameter" value="wdRadioTx">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-465.0, 745.0]">
                        </property>
                    </property>
                    <property name="DURATION_rt1" class="ptolemy.data.expr.Parameter" value="TsTxOffset-TsLongGT-delayRx-maxRxDataPrepare">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-465.0, 625.0]">
                        </property>
                    </property>
                    <property name="DURATION_tt4" class="ptolemy.data.expr.Parameter" value="wdDataDuration">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 685.0]">
                        </property>
                    </property>
                    <property name="DURATION_tt5" class="ptolemy.data.expr.Parameter" value="TsTxAckDelay-TsShortGT-delayRx-maxRxAckPrepare">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 705.0]">
                        </property>
                    </property>
                    <property name="DURATION_tt6" class="ptolemy.data.expr.Parameter" value="maxRxAckPrepare">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 725.0]">
                        </property>
                    </property>
                    <property name="DURATION_tt7" class="ptolemy.data.expr.Parameter" value="delayRx + 2 * TsShortGT">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 745.0]">
                        </property>
                    </property>
                    <property name="DURATION_tt8" class="ptolemy.data.expr.Parameter" value="wdAckDuration">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 765.0]">
                        </property>
                    </property>
                    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{1.0, 0.0, 0.0, 1.0}">
                        </property>
                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="State machine timer paramters">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-885.0, 590.0]">
                        </property>
                    </property>
                    <property name="Rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{-385.0, 925.0}">
                        </property>
                        <property name="width" class="ptolemy.data.expr.Parameter" value="1090.027247956403">
                        </property>
                        <property name="height" class="ptolemy.data.expr.Parameter" value="215.0">
                        </property>
                        <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </property>
                    <property name="syncCount" class="ptolemy.data.expr.Parameter" value="0">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-905.0, -50.0]">
                        </property>
                    </property>
                    <property name="txDone" class="ptolemy.data.expr.Parameter" value="false">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-885.0, 55.0]">
                        </property>
                    </property>
                    <property name="syncDone" class="ptolemy.data.expr.Parameter" value="false">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{-885.0, 30.0}">
                        </property>
                    </property>
                    <property name="rxDone" class="ptolemy.data.expr.Parameter" value="false">
                        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                        </property>
                        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                            </property>
                        </property>
                        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                        </property>
                        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-885.0, 80.0]">
                        </property>
                    </property>
                    <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 230.0]">
                        </property>
                    </port>
                    <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 280.0]">
                        </property>
                    </port>
                    <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 345.0]">
                        </property>
                    </port>
                    <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-915.0, 405.0]">
                        </property>
                    </port>
                    <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 275.0]">
                        </property>
                    </port>
                    <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[130.0, 335.0]">
                        </property>
                    </port>
                    <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 190.0]">
                        </property>
                    </port>
                    <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 390.0]">
                        </property>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                        <property name="input"/>
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[180.0, 465.0]">
                        </property>
                    </port>
                    <entity name="SLEEP" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                            <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                            </property>
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-380.0, 370.0]">
                        </property>
                    </entity>
                    <entity name="init" class="ptolemy.domains.modal.kernel.State">
                        <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                            <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                            </property>
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-705.0, 360.0]">
                        </property>
                    </entity>
                    <entity name="tx" class="ptolemy.domains.modal.kernel.State">
                        <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="tx_power">
                        </property>
                        <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                            <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                            </property>
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{-160.0, 65.0}">
                        </property>
                    </entity>
                    <entity name="rx" class="ptolemy.domains.modal.kernel.State">
                        <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="rx, rx_power">
                        </property>
                        <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                            <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                            </property>
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[30.0, 420.0]">
                        </property>
                    </entity>
                    <entity name="synchronization" class="ptolemy.domains.modal.kernel.State">
                        <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="synchronization_power">
                        </property>
                        <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                            <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                            </property>
                        </property>
                        <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="{-560.0, 45.0}">
                        </property>
                    </entity>
                    <relation name="relation26" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="annotation" class="ptolemy.data.expr.StringParameter" value="">
                        </property>
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="DAGroot == false">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioSleep">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="isSync = false; lastSlotTimer = 0; nextSlotTimer = 0; asn = 0; deSyncTimeout = 0; syncCount = 0; syncDone = false; txDone = false">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.28152309780100965">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.0278901987943957">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                        <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                    </relation>
                    <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync == true &amp;&amp; deSyncTimeout == 0 &amp;&amp; cellType_isPresent">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="isSync = false">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.8833213246470755">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.7702604388575316">
                        </property>
                        <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                            <display name="default"/>
                        </property>
                    </relation>
                    <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync == true &amp;&amp; deSyncTimeout &gt; 1  &amp;&amp; (cellType == &quot;RX&quot; || (cellType == &quot;RXTX&quot; &amp;&amp; ! dataToSend_isPresent))">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioSleep">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="deSyncTimeout = DAGroot ? deSyncTimeout : (deSyncTimeout - 1)">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.3705050516408707">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.1275592369819878">
                        </property>
                        <property name="preemptive" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                    </relation>
                    <relation name="relation6" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync == false &amp;&amp; DAGroot == false">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioListen">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.031692606414394">
                        </property>
                    </relation>
                    <relation name="relation7" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="syncDone == true">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioSleep">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="syncDone = false">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.8081715854716627">
                        </property>
                        <property name="termination" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                    </relation>
                    <relation name="relation8" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="cellType_isPresent &amp;&amp; deSyncTimeout &gt; 0 &amp;&amp; !DAGroot &amp;&amp; isSync == true">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="deSyncTimeout = deSyncTimeout - 1">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.857845263901231">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.6092245372888805">
                        </property>
                        <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                            <display name="default"/>
                        </property>
                    </relation>
                    <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="txDone == true">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioSleep">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="txDone = false">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.24798272425510548">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.193590514240092">
                        </property>
                        <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="false">
                            <display name="default"/>
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                        <property name="termination" class="ptolemy.data.expr.Parameter" value="false">
                        </property>
                    </relation>
                    <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync == true &amp;&amp; deSyncTimeout &gt; 1 &amp;&amp; (((cellType == &quot;TX&quot; || cellType == &quot;RXTX&quot;) &amp;&amp; dataToSend_isPresent) || (cellType == &quot;ADV&quot;))">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioListen">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="deSyncTimeout = DAGroot ? deSyncTimeout : (deSyncTimeout - 1)">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.953438306493897">
                        </property>
                    </relation>
                    <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="rxDone == true">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioSleep">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="rxDone = false">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.966301320982398">
                        </property>
                    </relation>
                    <relation name="relation9" class="ptolemy.domains.modal.kernel.Transition">
                        <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="DAGroot == true">
                        </property>
                        <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioSleep">
                        </property>
                        <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="isSync = true; lastSlotTimer = 0; nextSlotTimer = 0; asn = 0; deSyncTimeout = DESYNCTIMEOUT; syncCount = 0; syncDone = false; txDone = false">
                        </property>
                        <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                        </property>
                        <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.033612446339749635">
                        </property>
                        <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                        </property>
                    </relation>
                    <link port="SLEEP.incomingPort" relation="relation26"/>
                    <link port="SLEEP.incomingPort" relation="relation"/>
                    <link port="SLEEP.incomingPort" relation="relation7"/>
                    <link port="SLEEP.incomingPort" relation="relation8"/>
                    <link port="SLEEP.incomingPort" relation="relation3"/>
                    <link port="SLEEP.incomingPort" relation="relation5"/>
                    <link port="SLEEP.incomingPort" relation="relation9"/>
                    <link port="SLEEP.outgoingPort" relation="relation"/>
                    <link port="SLEEP.outgoingPort" relation="relation4"/>
                    <link port="SLEEP.outgoingPort" relation="relation6"/>
                    <link port="SLEEP.outgoingPort" relation="relation8"/>
                    <link port="SLEEP.outgoingPort" relation="relation2"/>
                    <link port="init.outgoingPort" relation="relation26"/>
                    <link port="init.outgoingPort" relation="relation9"/>
                    <link port="tx.incomingPort" relation="relation2"/>
                    <link port="tx.outgoingPort" relation="relation3"/>
                    <link port="rx.incomingPort" relation="relation4"/>
                    <link port="rx.outgoingPort" relation="relation5"/>
                    <link port="synchronization.incomingPort" relation="relation6"/>
                    <link port="synchronization.outgoingPort" relation="relation7"/>
                </entity>
                <entity name="rx" class="ptolemy.domains.modal.modal.ModalModel">
                    <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                    </property>
                    <port name="startOfFrame" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 230.0]">
                        </property>
                    </port>
                    <port name="endOfFrame" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 280.0]">
                        </property>
                    </port>
                    <port name="dataToSend" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 345.0]">
                        </property>
                    </port>
                    <port name="cellType" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-915.0, 405.0]">
                        </property>
                    </port>
                    <port name="toApplication" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                    </port>
                    <port name="toPhysical" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                    </port>
                    <port name="fromPhysical" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                    </port>
                    <port name="syncSchedule" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                    </port>
                    <port name="powerStatus" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                    </port>
                    <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                        <property name="_library" class="ptolemy.moml.LibraryAttribute">
                            <configure>
            <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
          </configure>
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 812}, maximized=true}">
                        </property>
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 701]">
                        </property>
                        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.7025110371081443">
                        </property>
                        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{426.9458694812862, 326.7178365308185}">
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-365.0, -140.0]">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-365.0, -100.0]">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-365.0, -60.0]">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-365.0, -20.0]">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[1035.0, 215.0]">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[1035.0, 170.0]">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-365.0, 20.0]">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[1030.0, 270.0]">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[1030.0, 325.0]">
                            </property>
                        </port>
                        <entity name="RXDATAOFFSET" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[205.0, 80.0]">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                        </entity>
                        <entity name="RXDATAPREPARE" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[390.0, 130.0]">
                            </property>
                        </entity>
                        <entity name="RXDATAREADY" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[575.0, 205.0]">
                            </property>
                        </entity>
                        <entity name="SLEEP" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{235.0, 475.0}">
                            </property>
                        </entity>
                        <entity name="RXDATALISTEN" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[480.0, 285.0]">
                            </property>
                        </entity>
                        <entity name="RXDATA" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="RXDATA">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[640.0, 345.0]">
                            </property>
                        </entity>
                        <entity name="TXACKOFFSET_FAIL" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[490.0, 445.0]">
                            </property>
                        </entity>
                        <entity name="TXACKOFFSET_ACK" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{755.0, 545.0}">
                            </property>
                        </entity>
                        <entity name="TXACKOFFSET_OK" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="TXACKOFFSET_OK">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{565.0, 510.0}">
                            </property>
                        </entity>
                        <entity name="TXACKPREPARE" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[680.0, 635.0]">
                            </property>
                        </entity>
                        <entity name="TXACKREADY" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[570.0, 755.0]">
                            </property>
                        </entity>
                        <entity name="TXACKDELAY" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="TXACKDELAY">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 830.0]">
                            </property>
                        </entity>
                        <entity name="TXACK" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[45.0, 840.0]">
                            </property>
                        </entity>
                        <entity name="RXPROC" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="RXPROC">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{-160.0, 770.0}">
                            </property>
                        </entity>
                        <entity name="finale" class="ptolemy.domains.modal.kernel.State">
                            <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{120, 440}">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="enable radio in rx mode">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt1)">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioListen">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.44279109065841504">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.36847684090096516">
                            </property>
                        </relation>
                        <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5915685876479561">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.5582632542266415">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt2)">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioListen">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.556382157183828">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.148805838813646">
                            </property>
                        </relation>
                        <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; startOfFrame_isPresent">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioRx">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5735423795719798">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.1209911235335686">
                            </property>
                        </relation>
                        <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; startOfFrame_isPresent">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.2929539525139218">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.4432389473027726">
                            </property>
                        </relation>
                        <relation name="relation6" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="failure">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt3)">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.8916659513946055">
                            </property>
                        </relation>
                        <relation name="relation7" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="failure">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt4)">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.009691686813832333">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-3.0417138932043017">
                            </property>
                        </relation>
                        <relation name="relation8" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="turn off radio">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; endOfFrame_isPresent &amp;&amp; ! (fromPhysical_isPresent &amp;&amp; isLastPacketValid == true)">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioSleep">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.178128650186005">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.522597382399473">
                            </property>
                        </relation>
                        <relation name="relation9" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="turn off radio">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; endOfFrame_isPresent &amp;&amp; fromPhysical_isPresent &amp;&amp; isLastPacketValid == true &amp;&amp; ackRequired == true">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioSleep">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5121092655775092">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.0427951526782124">
                            </property>
                        </relation>
                        <relation name="relation10" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="do (// synchronize to the received packet iif I'm not a DAGroot and this is my preferred parent) ">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; endOfFrame_isPresent &amp;&amp; fromPhysical_isPresent &amp;&amp; isLastPacketValid == true &amp;&amp; ackRequired == false">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioSleep">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5591490281453362">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4759245433115677">
                            </property>
                        </relation>
                        <relation name="relation11" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="toApplication = lastPacketPayload">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.43231527306666967">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.132550548270773">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <relation name="relation12" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="notify failure">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.1647183802730661">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.020808524548196">
                            </property>
                        </relation>
                        <relation name="relation13" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt5)">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioReady">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5422961282118259">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.8726214108870376">
                            </property>
                        </relation>
                        <relation name="relation14" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="if you are able to take a buffer: calculate time correction and add it to the ack, find the frequency, upload packet, and enable the radio">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4899053971519392">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.1503583148299903">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <relation name="relation15" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="enable radio to transmit (radio_txNow())">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt6)">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioTx">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4319113886071207">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.999825156834616">
                            </property>
                        </relation>
                        <relation name="relation16" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==false &amp;&amp; startOfFrame_isPresent">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.8644600834872358">
                            </property>
                        </relation>
                        <relation name="relation17" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="failure">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt7)">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.1322525631014074">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.8896001496078463">
                            </property>
                        </relation>
                        <relation name="relation18" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; startOfFrame_isPresent">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioTx">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.24937403787656867">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.1014870105980443">
                            </property>
                        </relation>
                        <relation name="relation19" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt8)">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.23758954632120216">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.1028032592941295">
                            </property>
                        </relation>
                        <relation name="relation20" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="synchronize with the packet and notify packet received">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync == true &amp;&amp; endOfFrame_isPresent">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioSleep">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4457727183341103">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.802362209988622">
                            </property>
                        </relation>
                        <relation name="relation21" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="toApplication = lastPacketPayload">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.3905607611300488">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.6665291725469391">
                            </property>
                        </relation>
                        <relation name="relation22" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioSleep">
                            </property>
                            <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="rxDone = true">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.7179441896263183">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <link port="RXDATAOFFSET.outgoingPort" relation="relation"/>
                        <link port="RXDATAPREPARE.incomingPort" relation="relation"/>
                        <link port="RXDATAPREPARE.outgoingPort" relation="relation2"/>
                        <link port="RXDATAREADY.incomingPort" relation="relation2"/>
                        <link port="RXDATAREADY.outgoingPort" relation="relation3"/>
                        <link port="RXDATAREADY.outgoingPort" relation="relation4"/>
                        <link port="SLEEP.incomingPort" relation="relation6"/>
                        <link port="SLEEP.incomingPort" relation="relation7"/>
                        <link port="SLEEP.incomingPort" relation="relation11"/>
                        <link port="SLEEP.incomingPort" relation="relation12"/>
                        <link port="SLEEP.incomingPort" relation="relation16"/>
                        <link port="SLEEP.incomingPort" relation="relation17"/>
                        <link port="SLEEP.incomingPort" relation="relation19"/>
                        <link port="SLEEP.incomingPort" relation="relation21"/>
                        <link port="SLEEP.outgoingPort" relation="relation22"/>
                        <link port="RXDATALISTEN.incomingPort" relation="relation3"/>
                        <link port="RXDATALISTEN.outgoingPort" relation="relation5"/>
                        <link port="RXDATALISTEN.outgoingPort" relation="relation6"/>
                        <link port="RXDATA.incomingPort" relation="relation4"/>
                        <link port="RXDATA.incomingPort" relation="relation5"/>
                        <link port="RXDATA.outgoingPort" relation="relation7"/>
                        <link port="RXDATA.outgoingPort" relation="relation8"/>
                        <link port="RXDATA.outgoingPort" relation="relation9"/>
                        <link port="RXDATA.outgoingPort" relation="relation10"/>
                        <link port="TXACKOFFSET_FAIL.incomingPort" relation="relation8"/>
                        <link port="TXACKOFFSET_FAIL.outgoingPort" relation="relation12"/>
                        <link port="TXACKOFFSET_ACK.incomingPort" relation="relation9"/>
                        <link port="TXACKOFFSET_ACK.outgoingPort" relation="relation13"/>
                        <link port="TXACKOFFSET_OK.incomingPort" relation="relation10"/>
                        <link port="TXACKOFFSET_OK.outgoingPort" relation="relation11"/>
                        <link port="TXACKPREPARE.incomingPort" relation="relation13"/>
                        <link port="TXACKPREPARE.outgoingPort" relation="relation14"/>
                        <link port="TXACKREADY.incomingPort" relation="relation14"/>
                        <link port="TXACKREADY.outgoingPort" relation="relation15"/>
                        <link port="TXACKDELAY.incomingPort" relation="relation15"/>
                        <link port="TXACKDELAY.outgoingPort" relation="relation16"/>
                        <link port="TXACKDELAY.outgoingPort" relation="relation17"/>
                        <link port="TXACKDELAY.outgoingPort" relation="relation18"/>
                        <link port="TXACK.incomingPort" relation="relation18"/>
                        <link port="TXACK.outgoingPort" relation="relation19"/>
                        <link port="TXACK.outgoingPort" relation="relation20"/>
                        <link port="RXPROC.incomingPort" relation="relation20"/>
                        <link port="RXPROC.outgoingPort" relation="relation21"/>
                        <link port="finale.incomingPort" relation="relation22"/>
                    </entity>
                    <entity name="RXDATA" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={253, 133, 934, 634}, maximized=false}">
                        </property>
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
                        </property>
                        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                        </property>
                        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{347.0, 429.384765625}">
                        </property>
                        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                            <property name="iterations" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{215, 235}">
                            </property>
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 280.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 320.0}">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 200.0}">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[585.0, 340.0]">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 375.0]">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 240.0}">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                            </property>
                        </port>
                        <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                            <doc>Output the current time.</doc>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{245.0, 347.384765625}">
                            </property>
                        </entity>
                        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastCapturedTime">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{440.0, 317.384765625}">
                            </property>
                        </entity>
                        <entity name="SetVariable2" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="syncCapturedTime">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{450.0, 437.384765625}">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{350.0, 377.384765625}">
                            </vertex>
                        </relation>
                        <link port="CurrentTime.output" relation="relation"/>
                        <link port="SetVariable.input" relation="relation"/>
                        <link port="SetVariable2.input" relation="relation"/>
                    </entity>
                    <entity name="TXACKOFFSET_OK" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="synchronize here">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{95.0, -20.0}">
                            </property>
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 812}, maximized=true}">
                        </property>
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 702]">
                        </property>
                        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6345249235311973">
                        </property>
                        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{846.5886552204448, 307.8191221272541}">
                        </property>
                        <property name="SR Director" class="ptolemy.domains.sr.kernel.SRDirector">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, 15.0}">
                            </property>
                        </property>
                        <property name="DESYNCTIMEOUT" class="ptolemy.data.expr.Parameter" value="333">
                            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                </property>
                            </property>
                            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                            </property>
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{252.4433568735244, 287.33135321873965}">
                            </property>
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{620.0, 10.0}">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{520.0, 10.0}">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{420.0, 10.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{260.0, 10.0}">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{85.0, 80.0}">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{335.0, 10.0}">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{725.0, 10.0}">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{820.0, 155.0}">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 200.0}">
                            </property>
                        </port>
                        <entity name="Expression" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(syncCapturedTime - lastSlotTimer) - TsTxOffset">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{180.0, 155.0}">
                            </property>
                        </entity>
                        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="deSyncTimeout">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{735.0, 220.0}">
                            </property>
                        </entity>
                        <entity name="Const" class="ptolemy.actor.lib.Const">
                            <property name="value" class="ptolemy.data.expr.Parameter" value="DESYNCTIMEOUT">
                            </property>
                            <doc>Create a constant sequence.</doc>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{575.0, 220.0}">
                            </property>
                        </entity>
                        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="DAGroot == false &amp;&amp; lastPacketSender == preferredParent">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, 220.0}">
                            </property>
                        </entity>
                        <entity name="When" class="ptolemy.domains.sr.lib.When">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 155.0}">
                            </property>
                        </entity>
                        <entity name="CalculateInStateSyncTime" class="ptolemy.actor.TypedCompositeActor">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{550.0, 155.0}">
                            </property>
                            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 808}, maximized=true}">
                            </property>
                            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[966, 837]">
                            </property>
                            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6910010842067221">
                            </property>
                            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{698.7499999999999, 737.4071652719665}">
                            </property>
                            <property name="RESYNCHRONIZATIONGUARD" class="ptolemy.data.expr.Parameter" value="5">
                                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                    </property>
                                </property>
                                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                                </property>
                                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, 145.0}">
                                </property>
                            </property>
                            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[80.0, 175.0]">
                                </property>
                            </property>
                            <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 235.0}">
                                </property>
                            </port>
                            <port name="nextFire" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{1035.0, 255.0}">
                                </property>
                            </port>
                            <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="currentValue &lt; (syncCapturedTime - lastSlotTimer) || nextSlotTimer-currentValue &lt; RESYNCHRONIZATIONGUARD">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[515.0, 525.0]">
                                </property>
                                <port name="currentValue" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                                <doc>Output the current time.</doc>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{175.0, 340.0}">
                                </property>
                            </entity>
                            <entity name="BooleanSelect" class="ptolemy.actor.lib.BooleanSelect">
                                <property name="BooleanSelectIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={17, -12, 815, 518}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                    <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-13.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                        <property name="width" class="ptolemy.data.expr.Parameter" value="35.0">
                                        </property>
                                        <property name="height" class="ptolemy.data.expr.Parameter" value="41.0">
                                        </property>
                                        <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                                        </property>
                                        <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                    </property>
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                    </property>
                                    <property name="annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="T">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, -25.0]">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, 10.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-7.0, 0.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="5.41">
                                        </property>
                                    </property>
                                    <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-5.41">
                                        </property>
                                    </property>
                                    <property name="annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="F">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="{-29.0, 10.0}">
                                        </property>
                                    </property>
                                    <property name="line8" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-14.14">
                                        </property>
                                    </property>
                                    <property name="line9" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, -10.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line6" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-13.0, 20.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,1.0,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-30.0">
                                        </property>
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{845.0, 255.0}">
                                </property>
                                <port name="trueInput" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                                    </property>
                                </port>
                                <port name="falseInput" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                                    </property>
                                </port>
                                <port name="control" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
                                    </property>
                                </port>
                            </entity>
                            <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="asn">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{955.0, 450.0}">
                                </property>
                            </entity>
                            <entity name="Expression5" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="asn + 1">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[750.0, 460.0]">
                                </property>
                                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="BooleanSwitch" class="ptolemy.actor.lib.BooleanSwitch">
                                <property name="BooleanSwitchIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-15.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                        <property name="width" class="ptolemy.data.expr.Parameter" value="33.0">
                                        </property>
                                        <property name="height" class="ptolemy.data.expr.Parameter" value="40.0">
                                        </property>
                                        <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-30.0, 0.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, -10.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-30.0, 0.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line6" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, 10.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                    </property>
                                    <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="14.14">
                                        </property>
                                    </property>
                                    <property name="line8" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line9" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="5.41">
                                        </property>
                                    </property>
                                    <property name="line10" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-5.41">
                                        </property>
                                    </property>
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={5, 136, 815, 518}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                    <property name="annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="T">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, -25.0">
                                        </property>
                                    </property>
                                    <property name="annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="F">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-10.0, 11.0]">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-15.0, 20.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,1.0,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-30.0">
                                        </property>
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{840.0, 460.0}">
                                </property>
                            </entity>
                            <entity name="Discard" class="ptolemy.actor.lib.Discard">
                                <property name="DiscardIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-22.0, 3.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-2.0, -18.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="20.0">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-17.0, 8.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="30.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-12.0, 13.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="20.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-7.0, 18.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 195, 813, 510}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{965.0, 535.0}">
                                </property>
                                <port name="input" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                                    </property>
                                </port>
                            </entity>
                            <entity name="Expression4" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(nextSlotTimer - currentTime) + timeCorrection">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{505.0, 330.0}">
                                </property>
                                <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                                <port name="currentTime" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(nextSlotTimer - currentTime) + TsSlotDuration + timeCorrection">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{520.0, 245.0}">
                                </property>
                                <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                                <port name="currentTime" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{265.0, 235.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;.Expression4.timeCorrection&quot;,x=815.0,y=315.0}, tail={id=&quot;relation5.vertex1&quot;,x=960.0,y=445.0}, points={1730.0,305.0} },{ head={id=&quot;.Expression3.timeCorrection&quot;,x=815.0,y=240.0}, tail={id=&quot;relation5.vertex1&quot;,x=960.0,y=445.0}, points={} },{ head={id=&quot;.Expression4.timeCorrection&quot;,x=815.0,y=315.0}, tail={id=&quot;relation4.vertex1&quot;,x=690.0,y=240.0}, points={690.0,315.0} },{ head={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, tail={id=&quot;Expression3.timeCorrection&quot;,x=520.0,y=245.0}, points={} },{ head={id=&quot;Expression4.timeCorrection&quot;,x=505.0,y=330.0}, tail={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, points={265.0,320.0} },{ head={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, tail={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{805.0, 525.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.control&quot;,x=845.0,y=255.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={845.0,415.0,805.0,415.0} },{ head={id=&quot;BooleanSwitch.control&quot;,x=840.0,y=460.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={840.0,525.0} },{ head={id=&quot;Expression2.output&quot;,x=515.0,y=525.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable.input&quot;,x=955.0,y=450.0}, tail={id=&quot;BooleanSwitch.trueOutput&quot;,x=840.0,y=460.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSwitch.falseOutput&quot;,x=840.0,y=460.0}, tail={id=&quot;Discard.input&quot;,x=965.0,y=535.0}, points={915.0,470.0,915.0,500.0,965.0,500.0} } }">
                                </property>
                            </relation>
                            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{110.0, 235.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;relation11.vertex1&quot;,x=110.0,y=240.0}, tail={id=&quot;relation4.vertex1&quot;,x=690.0,y=240.0}, points={110.0,405.0} },{ head={id=&quot;CurrentTime.trigger&quot;,x=175.0,y=340.0}, tail={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, points={110.0,340.0} },{ head={id=&quot;timeCorrection._location&quot;,x=20.0,y=235.0}, tail={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{1010.0, 255.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable2.input&quot;,x=1520.0,y=505.0}, tail={id=&quot;relation9.vertex1&quot;,x=1165.0,y=250.0}, points={1140.0,335.0} },{ head={id=&quot;nextFire._location&quot;,x=1035.0,y=255.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={} },{ head={id=&quot;BooleanSelect.output&quot;,x=845.0,y=255.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={} },{ head={id=&quot;Expression.relativeTimer&quot;,x=1170.0,y=385.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={1010.0,375.0} } }">
                                </property>
                            </relation>
                            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{250.0, 340.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.currecntTime&quot;,x=1170.0,y=385.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={250.0,395.0} },{ head={id=&quot;CurrentTime.output&quot;,x=175.0,y=340.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={} },{ head={id=&quot;Expression2.currentValue&quot;,x=515.0,y=525.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={250.0,525.0} },{ head={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, tail={id=&quot;Expression4.currentTime&quot;,x=505.0,y=330.0}, points={} },{ head={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, tail={id=&quot;Expression3.currentTime&quot;,x=520.0,y=245.0}, points={250.0,255.0} } }">
                                </property>
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.falseInput&quot;,x=995.0,y=250.0}, tail={id=&quot;.Expression3.output&quot;,x=815.0,y=240.0}, points={800.0,100.0,800.0,155.0} },{ head={id=&quot;BooleanSelect.falseInput&quot;,x=845.0,y=255.0}, tail={id=&quot;Expression4.output&quot;,x=505.0,y=330.0}, points={805.0,265.0,805.0,330.0} } }">
                                </property>
                            </relation>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.trueInput&quot;,x=845.0,y=255.0}, tail={id=&quot;Expression3.output&quot;,x=520.0,y=245.0}, points={} } }">
                                </property>
                            </relation>
                            <link port="timeCorrection" relation="relation11"/>
                            <link port="nextFire" relation="relation9"/>
                            <link port="Expression2.output" relation="relation5"/>
                            <link port="Expression2.currentValue" relation="relation13"/>
                            <link port="CurrentTime.output" relation="relation13"/>
                            <link port="CurrentTime.trigger" relation="relation11"/>
                            <link port="BooleanSelect.trueInput" relation="relation"/>
                            <link port="BooleanSelect.falseInput" relation="relation3"/>
                            <link port="BooleanSelect.control" relation="relation5"/>
                            <link port="BooleanSelect.output" relation="relation9"/>
                            <link port="SetVariable.input" relation="relation6"/>
                            <link port="Expression5.output" relation="relation8"/>
                            <link port="Expression5.trigger" relation="relation5"/>
                            <link port="BooleanSwitch.input" relation="relation8"/>
                            <link port="BooleanSwitch.control" relation="relation5"/>
                            <link port="BooleanSwitch.trueOutput" relation="relation6"/>
                            <link port="BooleanSwitch.falseOutput" relation="relation7"/>
                            <link port="Discard.input" relation="relation7"/>
                            <link port="Expression4.output" relation="relation3"/>
                            <link port="Expression4.timeCorrection" relation="relation4"/>
                            <link port="Expression4.currentTime" relation="relation13"/>
                            <link port="Expression3.output" relation="relation"/>
                            <link port="Expression3.timeCorrection" relation="relation4"/>
                            <link port="Expression3.currentTime" relation="relation13"/>
                            <link relation1="relation4" relation2="relation11"/>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable.input&quot;,x=735.0,y=220.0}, tail={id=&quot;Const.output&quot;,x=575.0,y=220.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=180.0,y=155.0}, tail={id=&quot;When.input&quot;,x=385.0,y=155.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{445.0, 155.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;CalculateInStateSyncTime.timeCorrection&quot;,x=550.0,y=155.0}, tail={id=&quot;relation3.vertex1&quot;,x=445.0,y=155.0}, points={} },{ head={id=&quot;When.output&quot;,x=385.0,y=155.0}, tail={id=&quot;relation3.vertex1&quot;,x=445.0,y=155.0}, points={} },{ head={id=&quot;Const.trigger&quot;,x=575.0,y=220.0}, tail={id=&quot;relation3.vertex1&quot;,x=445.0,y=155.0}, points={445.0,220.0} } }">
                            </property>
                        </relation>
                        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{735.0, 155.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;syncSchedule._location&quot;,x=820.0,y=155.0}, tail={id=&quot;relation4.vertex1&quot;,x=735.0,y=155.0}, points={} },{ head={id=&quot;CalculateInStateSyncTime.nextFire&quot;,x=550.0,y=155.0}, tail={id=&quot;relation4.vertex1&quot;,x=735.0,y=155.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression2.output&quot;,x=150.0,y=220.0}, tail={id=&quot;When.control&quot;,x=385.0,y=155.0}, points={385.0,220.0} } }">
                            </property>
                        </relation>
                        <link port="syncSchedule" relation="relation4"/>
                        <link port="Expression.output" relation="relation2"/>
                        <link port="SetVariable.input" relation="relation"/>
                        <link port="Const.output" relation="relation"/>
                        <link port="Const.trigger" relation="relation3"/>
                        <link port="Expression2.output" relation="relation5"/>
                        <link port="When.input" relation="relation2"/>
                        <link port="When.output" relation="relation3"/>
                        <link port="When.control" relation="relation5"/>
                        <link port="CalculateInStateSyncTime.timeCorrection" relation="relation3"/>
                        <link port="CalculateInStateSyncTime.nextFire" relation="relation4"/>
                    </entity>
                    <entity name="RXPROC" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="synchronize" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="synchronize from ack here">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{90.0, -30.0}">
                            </property>
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 812}, maximized=true}">
                        </property>
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 702]">
                        </property>
                        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                        </property>
                        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{498.41365559895837, 216.37837727864587}">
                        </property>
                        <property name="SR Director" class="ptolemy.domains.sr.kernel.SRDirector">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{10.0, 0.0}">
                            </property>
                        </property>
                        <property name="DESYNCTIMEOUT" class="ptolemy.data.expr.Parameter" value="333">
                            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                </property>
                            </property>
                            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                            </property>
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{66.41365559895837, 300.37837727864587}">
                            </property>
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{680.0, -5.0}">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, -5.0}">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{480.0, -5.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{315.0, -5.0}">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{80.0, 65.0}">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{395.0, -5.0}">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{780.0, -5.0}">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{815.0, 145.0}">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[855.0, 40.0]">
                            </property>
                        </port>
                        <entity name="Expression" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(syncCapturedTime - lastSlotTimer) - TsTxOffset">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{175.0, 145.0}">
                            </property>
                        </entity>
                        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="deSyncTimeout">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{730.0, 205.0}">
                            </property>
                        </entity>
                        <entity name="Const" class="ptolemy.actor.lib.Const">
                            <property name="value" class="ptolemy.data.expr.Parameter" value="DESYNCTIMEOUT">
                            </property>
                            <doc>Create a constant sequence.</doc>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{570.0, 205.0}">
                            </property>
                        </entity>
                        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="DAGroot == false &amp;&amp; lastPacketSender == preferredParent">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 210.0}">
                            </property>
                        </entity>
                        <entity name="When" class="ptolemy.domains.sr.lib.When">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{380.0, 145.0}">
                            </property>
                        </entity>
                        <entity name="CalculateInStateSyncTime" class="ptolemy.actor.TypedCompositeActor">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{545.0, 145.0}">
                            </property>
                            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 808}, maximized=true}">
                            </property>
                            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[966, 837]">
                            </property>
                            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6910010842067221">
                            </property>
                            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{698.7499999999999, 737.4071652719665}">
                            </property>
                            <property name="RESYNCHRONIZATIONGUARD" class="ptolemy.data.expr.Parameter" value="5">
                                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                    </property>
                                </property>
                                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                                </property>
                                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, 145.0}">
                                </property>
                            </property>
                            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[80.0, 175.0]">
                                </property>
                            </property>
                            <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 235.0}">
                                </property>
                            </port>
                            <port name="nextFire" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{1035.0, 255.0}">
                                </property>
                            </port>
                            <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="currentValue &lt; (syncCapturedTime - lastSlotTimer) || nextSlotTimer-currentValue &lt; RESYNCHRONIZATIONGUARD">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[515.0, 525.0]">
                                </property>
                                <port name="currentValue" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                                <doc>Output the current time.</doc>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{175.0, 340.0}">
                                </property>
                            </entity>
                            <entity name="BooleanSelect" class="ptolemy.actor.lib.BooleanSelect">
                                <property name="BooleanSelectIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={17, -12, 815, 518}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                    <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-13.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                        <property name="width" class="ptolemy.data.expr.Parameter" value="35.0">
                                        </property>
                                        <property name="height" class="ptolemy.data.expr.Parameter" value="41.0">
                                        </property>
                                        <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                                        </property>
                                        <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                    </property>
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                    </property>
                                    <property name="annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="T">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, -25.0]">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, 10.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-7.0, 0.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="5.41">
                                        </property>
                                    </property>
                                    <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-5.41">
                                        </property>
                                    </property>
                                    <property name="annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="F">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="{-29.0, 10.0}">
                                        </property>
                                    </property>
                                    <property name="line8" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-14.14">
                                        </property>
                                    </property>
                                    <property name="line9" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, -10.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line6" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-13.0, 20.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,1.0,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-30.0">
                                        </property>
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{845.0, 255.0}">
                                </property>
                                <port name="trueInput" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                                    </property>
                                </port>
                                <port name="falseInput" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                                    </property>
                                </port>
                                <port name="control" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
                                    </property>
                                </port>
                            </entity>
                            <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="asn">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{955.0, 450.0}">
                                </property>
                            </entity>
                            <entity name="Expression5" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="asn + 1">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[750.0, 460.0]">
                                </property>
                                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="BooleanSwitch" class="ptolemy.actor.lib.BooleanSwitch">
                                <property name="BooleanSwitchIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-15.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                        <property name="width" class="ptolemy.data.expr.Parameter" value="33.0">
                                        </property>
                                        <property name="height" class="ptolemy.data.expr.Parameter" value="40.0">
                                        </property>
                                        <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-30.0, 0.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, -10.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-30.0, 0.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line6" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, 10.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                    </property>
                                    <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="14.14">
                                        </property>
                                    </property>
                                    <property name="line8" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line9" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="5.41">
                                        </property>
                                    </property>
                                    <property name="line10" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-5.41">
                                        </property>
                                    </property>
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={5, 136, 815, 518}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                    <property name="annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="T">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, -25.0">
                                        </property>
                                    </property>
                                    <property name="annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="F">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-10.0, 11.0]">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-15.0, 20.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,1.0,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-30.0">
                                        </property>
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{840.0, 460.0}">
                                </property>
                            </entity>
                            <entity name="Discard" class="ptolemy.actor.lib.Discard">
                                <property name="DiscardIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-22.0, 3.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-2.0, -18.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="20.0">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-17.0, 8.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="30.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-12.0, 13.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="20.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-7.0, 18.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 195, 813, 510}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{965.0, 535.0}">
                                </property>
                                <port name="input" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                                    </property>
                                </port>
                            </entity>
                            <entity name="Expression4" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(nextSlotTimer - currentTime) + timeCorrection">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{505.0, 330.0}">
                                </property>
                                <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                                <port name="currentTime" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(nextSlotTimer - currentTime) + TsSlotDuration + timeCorrection">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{520.0, 245.0}">
                                </property>
                                <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                                <port name="currentTime" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{265.0, 235.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;.Expression4.timeCorrection&quot;,x=815.0,y=315.0}, tail={id=&quot;relation5.vertex1&quot;,x=960.0,y=445.0}, points={1730.0,305.0} },{ head={id=&quot;.Expression3.timeCorrection&quot;,x=815.0,y=240.0}, tail={id=&quot;relation5.vertex1&quot;,x=960.0,y=445.0}, points={} },{ head={id=&quot;.Expression4.timeCorrection&quot;,x=815.0,y=315.0}, tail={id=&quot;relation4.vertex1&quot;,x=690.0,y=240.0}, points={690.0,315.0} },{ head={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, tail={id=&quot;Expression3.timeCorrection&quot;,x=520.0,y=245.0}, points={} },{ head={id=&quot;Expression4.timeCorrection&quot;,x=505.0,y=330.0}, tail={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, points={265.0,320.0} },{ head={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, tail={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{805.0, 525.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.control&quot;,x=845.0,y=255.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={845.0,415.0,805.0,415.0} },{ head={id=&quot;BooleanSwitch.control&quot;,x=840.0,y=460.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={840.0,525.0} },{ head={id=&quot;Expression2.output&quot;,x=515.0,y=525.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable.input&quot;,x=955.0,y=450.0}, tail={id=&quot;BooleanSwitch.trueOutput&quot;,x=840.0,y=460.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSwitch.falseOutput&quot;,x=840.0,y=460.0}, tail={id=&quot;Discard.input&quot;,x=965.0,y=535.0}, points={915.0,470.0,915.0,500.0,965.0,500.0} } }">
                                </property>
                            </relation>
                            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{110.0, 235.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;relation11.vertex1&quot;,x=110.0,y=240.0}, tail={id=&quot;relation4.vertex1&quot;,x=690.0,y=240.0}, points={110.0,405.0} },{ head={id=&quot;CurrentTime.trigger&quot;,x=175.0,y=340.0}, tail={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, points={110.0,340.0} },{ head={id=&quot;timeCorrection._location&quot;,x=20.0,y=235.0}, tail={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{1010.0, 255.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable2.input&quot;,x=1520.0,y=505.0}, tail={id=&quot;relation9.vertex1&quot;,x=1165.0,y=250.0}, points={1140.0,335.0} },{ head={id=&quot;nextFire._location&quot;,x=1035.0,y=255.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={} },{ head={id=&quot;BooleanSelect.output&quot;,x=845.0,y=255.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={} },{ head={id=&quot;Expression.relativeTimer&quot;,x=1170.0,y=385.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={1010.0,375.0} } }">
                                </property>
                            </relation>
                            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{250.0, 340.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.currecntTime&quot;,x=1170.0,y=385.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={250.0,395.0} },{ head={id=&quot;CurrentTime.output&quot;,x=175.0,y=340.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={} },{ head={id=&quot;Expression2.currentValue&quot;,x=515.0,y=525.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={250.0,525.0} },{ head={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, tail={id=&quot;Expression4.currentTime&quot;,x=505.0,y=330.0}, points={} },{ head={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, tail={id=&quot;Expression3.currentTime&quot;,x=520.0,y=245.0}, points={250.0,255.0} } }">
                                </property>
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.falseInput&quot;,x=995.0,y=250.0}, tail={id=&quot;.Expression3.output&quot;,x=815.0,y=240.0}, points={800.0,100.0,800.0,155.0} },{ head={id=&quot;BooleanSelect.falseInput&quot;,x=845.0,y=255.0}, tail={id=&quot;Expression4.output&quot;,x=505.0,y=330.0}, points={805.0,265.0,805.0,330.0} } }">
                                </property>
                            </relation>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.trueInput&quot;,x=845.0,y=255.0}, tail={id=&quot;Expression3.output&quot;,x=520.0,y=245.0}, points={} } }">
                                </property>
                            </relation>
                            <link port="timeCorrection" relation="relation11"/>
                            <link port="nextFire" relation="relation9"/>
                            <link port="Expression2.output" relation="relation5"/>
                            <link port="Expression2.currentValue" relation="relation13"/>
                            <link port="CurrentTime.output" relation="relation13"/>
                            <link port="CurrentTime.trigger" relation="relation11"/>
                            <link port="BooleanSelect.trueInput" relation="relation"/>
                            <link port="BooleanSelect.falseInput" relation="relation3"/>
                            <link port="BooleanSelect.control" relation="relation5"/>
                            <link port="BooleanSelect.output" relation="relation9"/>
                            <link port="SetVariable.input" relation="relation6"/>
                            <link port="Expression5.output" relation="relation8"/>
                            <link port="Expression5.trigger" relation="relation5"/>
                            <link port="BooleanSwitch.input" relation="relation8"/>
                            <link port="BooleanSwitch.control" relation="relation5"/>
                            <link port="BooleanSwitch.trueOutput" relation="relation6"/>
                            <link port="BooleanSwitch.falseOutput" relation="relation7"/>
                            <link port="Discard.input" relation="relation7"/>
                            <link port="Expression4.output" relation="relation3"/>
                            <link port="Expression4.timeCorrection" relation="relation4"/>
                            <link port="Expression4.currentTime" relation="relation13"/>
                            <link port="Expression3.output" relation="relation"/>
                            <link port="Expression3.timeCorrection" relation="relation4"/>
                            <link port="Expression3.currentTime" relation="relation13"/>
                            <link relation1="relation4" relation2="relation11"/>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable.input&quot;,x=730.0,y=205.0}, tail={id=&quot;Const.output&quot;,x=570.0,y=205.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=175.0,y=145.0}, tail={id=&quot;When.input&quot;,x=380.0,y=145.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{440.0, 145.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;CalculateInStateSyncTime.timeCorrection&quot;,x=545.0,y=145.0}, tail={id=&quot;relation3.vertex1&quot;,x=440.0,y=145.0}, points={} },{ head={id=&quot;When.output&quot;,x=380.0,y=145.0}, tail={id=&quot;relation3.vertex1&quot;,x=440.0,y=145.0}, points={} },{ head={id=&quot;Const.trigger&quot;,x=570.0,y=205.0}, tail={id=&quot;relation3.vertex1&quot;,x=440.0,y=145.0}, points={440.0,205.0} } }">
                            </property>
                        </relation>
                        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{730.0, 145.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;syncSchedule._location&quot;,x=815.0,y=145.0}, tail={id=&quot;relation4.vertex1&quot;,x=730.0,y=145.0}, points={} },{ head={id=&quot;CalculateInStateSyncTime.nextFire&quot;,x=545.0,y=145.0}, tail={id=&quot;relation4.vertex1&quot;,x=730.0,y=145.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression2.output&quot;,x=145.0,y=210.0}, tail={id=&quot;When.control&quot;,x=380.0,y=145.0}, points={380.0,210.0} } }">
                            </property>
                        </relation>
                        <link port="syncSchedule" relation="relation4"/>
                        <link port="Expression.output" relation="relation2"/>
                        <link port="SetVariable.input" relation="relation"/>
                        <link port="Const.output" relation="relation"/>
                        <link port="Const.trigger" relation="relation3"/>
                        <link port="Expression2.output" relation="relation5"/>
                        <link port="When.input" relation="relation2"/>
                        <link port="When.output" relation="relation3"/>
                        <link port="When.control" relation="relation5"/>
                        <link port="CalculateInStateSyncTime.timeCorrection" relation="relation3"/>
                        <link port="CalculateInStateSyncTime.nextFire" relation="relation4"/>
                    </entity>
                    <entity name="TXACKDELAY" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                            <property name="iterations" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{-65.0, 205.0}">
                            </property>
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 874}, maximized=false}">
                        </property>
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 764]">
                        </property>
                        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.5679231451830703">
                        </property>
                        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{934.959375, 809.2558084239131}">
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{305.0, 200.0}">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{205.0, 200.0}">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 200.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{30.0, 200.0}">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{615.0, 200.0}">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{670.0, 385.0}">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{410.0, 200.0}">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{510.0, 200.0}">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                            </property>
                        </port>
                        <entity name="Expression" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="- ((syncCapturedTime - lastSlotTimer) - TsTxOffset) ">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{45.0, 320.0}">
                            </property>
                        </entity>
                        <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{545.0, 365.0}">
                            </property>
                            <port name="sender" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                            </port>
                            <port name="ackTimeCorrection" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                            </port>
                            <port name="type" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                                </property>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                            </port>
                        </entity>
                        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="&quot;ACK&quot;">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 395.0}">
                            </property>
                            <port name="output" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                                </property>
                            </port>
                        </entity>
                        <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="localAddress">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{380.0, 270.0}">
                            </property>
                            <port name="output" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                            </port>
                        </entity>
                        <entity name="DoubleToInt" class="ptolemy.actor.lib.python.PythonScript">
                            <property name="script" class="ptolemy.kernel.util.StringAttribute" value="# This is a template.&#10;import time&#10;import ptolemy.data&#10;class Main :&#10;  &quot;This actor takes a double value and convert to an int&quot;&#10;  def fire(self) :&#10;    dataToken = self.data.get(0)&#10;    intValue = int(dataToken.doubleValue())&#10;    self.out.broadcast(ptolemy.data.IntToken(intValue))&#10;    return&#10;">
                            </property>
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.TextEditorConfigureFactory">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{275.0, 320.0}">
                            </property>
                            <property name="format" class="ptolemy.data.expr.Parameter" value="&quot;%10.6f&quot;">
                            </property>
                            <port name="data" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                            </port>
                            <port name="out" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                            </port>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;RecordAssembler.type&quot;,x=545.0,y=365.0}, tail={id=&quot;Expression2.output&quot;,x=385.0,y=395.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;RecordAssembler.sender&quot;,x=545.0,y=365.0}, tail={id=&quot;Expression3.output&quot;,x=380.0,y=270.0}, points={455.0,375.0,455.0,270.0} } }">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{440.0, 320.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;DoubleToInt.out&quot;,x=275.0,y=320.0}, tail={id=&quot;relation3.vertex1&quot;,x=440.0,y=320.0}, points={} },{ head={id=&quot;RecordAssembler.ackTimeCorrection&quot;,x=545.0,y=365.0}, tail={id=&quot;relation3.vertex1&quot;,x=440.0,y=320.0}, points={440.0,385.0} } }">
                            </property>
                        </relation>
                        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=45.0,y=320.0}, tail={id=&quot;DoubleToInt.data&quot;,x=275.0,y=320.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;toPhysical._location&quot;,x=670.0,y=385.0}, tail={id=&quot;RecordAssembler.output&quot;,x=545.0,y=365.0}, points={} } }">
                            </property>
                        </relation>
                        <link port="toPhysical" relation="relation5"/>
                        <link port="Expression.output" relation="relation4"/>
                        <link port="RecordAssembler.output" relation="relation5"/>
                        <link port="RecordAssembler.sender" relation="relation2"/>
                        <link port="RecordAssembler.ackTimeCorrection" relation="relation3"/>
                        <link port="RecordAssembler.type" relation="relation"/>
                        <link port="Expression2.output" relation="relation"/>
                        <link port="Expression3.output" relation="relation2"/>
                        <link port="DoubleToInt.data" relation="relation4"/>
                        <link port="DoubleToInt.out" relation="relation3"/>
                    </entity>
                    <relation name="startOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="endOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="dataToSendRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="cellTypeRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="toApplicationRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="toPhysicalRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="fromPhysicalRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="syncScheduleRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="powerStatusRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <link port="startOfFrame" relation="startOfFrameRelation"/>
                    <link port="endOfFrame" relation="endOfFrameRelation"/>
                    <link port="dataToSend" relation="dataToSendRelation"/>
                    <link port="cellType" relation="cellTypeRelation"/>
                    <link port="toApplication" relation="toApplicationRelation"/>
                    <link port="toPhysical" relation="toPhysicalRelation"/>
                    <link port="fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="syncSchedule" relation="syncScheduleRelation"/>
                    <link port="powerStatus" relation="powerStatusRelation"/>
                    <link port="_Controller.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="_Controller.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="_Controller.dataToSend" relation="dataToSendRelation"/>
                    <link port="_Controller.cellType" relation="cellTypeRelation"/>
                    <link port="_Controller.toApplication" relation="toApplicationRelation"/>
                    <link port="_Controller.toPhysical" relation="toPhysicalRelation"/>
                    <link port="_Controller.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="_Controller.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="_Controller.powerStatus" relation="powerStatusRelation"/>
                    <link port="RXDATA.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="RXDATA.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="RXDATA.dataToSend" relation="dataToSendRelation"/>
                    <link port="RXDATA.cellType" relation="cellTypeRelation"/>
                    <link port="RXDATA.toApplication" relation="toApplicationRelation"/>
                    <link port="RXDATA.toPhysical" relation="toPhysicalRelation"/>
                    <link port="RXDATA.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="RXDATA.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="RXDATA.powerStatus" relation="powerStatusRelation"/>
                    <link port="TXACKOFFSET_OK.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="TXACKOFFSET_OK.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="TXACKOFFSET_OK.dataToSend" relation="dataToSendRelation"/>
                    <link port="TXACKOFFSET_OK.cellType" relation="cellTypeRelation"/>
                    <link port="TXACKOFFSET_OK.toApplication" relation="toApplicationRelation"/>
                    <link port="TXACKOFFSET_OK.toPhysical" relation="toPhysicalRelation"/>
                    <link port="TXACKOFFSET_OK.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="TXACKOFFSET_OK.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="TXACKOFFSET_OK.powerStatus" relation="powerStatusRelation"/>
                    <link port="RXPROC.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="RXPROC.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="RXPROC.dataToSend" relation="dataToSendRelation"/>
                    <link port="RXPROC.cellType" relation="cellTypeRelation"/>
                    <link port="RXPROC.toApplication" relation="toApplicationRelation"/>
                    <link port="RXPROC.toPhysical" relation="toPhysicalRelation"/>
                    <link port="RXPROC.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="RXPROC.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="RXPROC.powerStatus" relation="powerStatusRelation"/>
                    <link port="TXACKDELAY.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="TXACKDELAY.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="TXACKDELAY.dataToSend" relation="dataToSendRelation"/>
                    <link port="TXACKDELAY.cellType" relation="cellTypeRelation"/>
                    <link port="TXACKDELAY.toApplication" relation="toApplicationRelation"/>
                    <link port="TXACKDELAY.toPhysical" relation="toPhysicalRelation"/>
                    <link port="TXACKDELAY.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="TXACKDELAY.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="TXACKDELAY.powerStatus" relation="powerStatusRelation"/>
                </entity>
                <entity name="tx_power" class="ptolemy.domains.modal.modal.ModalRefinement">
                    <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                    </property>
                    <port name="startOfFrame" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 230.0]">
                        </property>
                    </port>
                    <port name="endOfFrame" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 280.0]">
                        </property>
                    </port>
                    <port name="dataToSend" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 345.0]">
                        </property>
                    </port>
                    <port name="cellType" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-915.0, 405.0]">
                        </property>
                    </port>
                    <port name="toApplication" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 275.0]">
                        </property>
                    </port>
                    <port name="toPhysical" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[130.0, 335.0]">
                        </property>
                    </port>
                    <port name="fromPhysical" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 190.0]">
                        </property>
                    </port>
                    <port name="syncSchedule" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 390.0]">
                        </property>
                    </port>
                    <port name="powerStatus" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[180.0, 465.0]">
                        </property>
                    </port>
                    <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                        <property name="_library" class="ptolemy.moml.LibraryAttribute">
                            <configure>
            <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
          </configure>
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={253, 132, 934, 635}, maximized=false}">
                        </property>
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
                        </property>
                        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.4676338829377535">
                        </property>
                        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{558.4032569433039, 710.0088263774636}">
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 280.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 320.0}">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[470.0, 185.0]">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[510.0, 185.0]">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 360.0}">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[550.0, 185.0]">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[590.0, 185.0]">
                            </property>
                        </port>
                        <entity name="TXDATAOFFSET" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{430.0, 395.0}">
                            </property>
                        </entity>
                        <entity name="TXDATAPREPARE" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[295.0, 445.0]">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                        </entity>
                        <entity name="TRXDATAREADY" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{165.0, 540.0}">
                            </property>
                        </entity>
                        <entity name="TXDATADELAY" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="ADV_AND_DATA_SEND">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{95.0, 660.0}">
                            </property>
                        </entity>
                        <entity name="SLEEP" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{250.0, 955.0}">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                        </entity>
                        <entity name="TXDATA" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="TXDATA">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{290.0, 705.0}">
                            </property>
                        </entity>
                        <entity name="RXACKOFFSET" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{435.0, 740.0}">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                        </entity>
                        <entity name="RXACKPREPARE" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{605.0, 745.0}">
                            </property>
                        </entity>
                        <entity name="RXACKREADY" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{765.0, 765.0}">
                            </property>
                        </entity>
                        <entity name="RXACKLISTEN" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{725.0, 905.0}">
                            </property>
                        </entity>
                        <entity name="RXACK" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{740.0, 1065.0}">
                            </property>
                        </entity>
                        <entity name="TXPROC" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="TXPROC">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{635.0, 1170.0}">
                            </property>
                        </entity>
                        <entity name="finale" class="ptolemy.domains.modal.kernel.State">
                            <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{70.0, 1005.0}">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_tt1)">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioSleep">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.8200073137026744">
                            </property>
                        </relation>
                        <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.0304752787429745">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_tt2)">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioTx">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.0826610081291177">
                            </property>
                        </relation>
                        <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_tt3) &amp;&amp; ! startOfFrame_isPresent">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.1245600647141225">
                            </property>
                        </relation>
                        <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; startOfFrame_isPresent">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioTx">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.32684834888379294">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.29248325686405047">
                            </property>
                        </relation>
                        <relation name="relation6" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="endOfFrame_isPresent &amp;&amp; isSync==true &amp;&amp; ackRequired == true">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioSleep">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.30680951992670524">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.2500533339398783">
                            </property>
                        </relation>
                        <relation name="relation7" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_tt4) &amp;&amp; isSync==true &amp;&amp; ackRequired == false">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.5300159053561525">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.7557572940680046">
                            </property>
                        </relation>
                        <relation name="relation8" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_tt4) &amp;&amp; isSync == false &amp;&amp; ackRequired == true">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.02284377386905119">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.72792391693531">
                            </property>
                        </relation>
                        <relation name="relation9" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_tt5)">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioToListen">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.41288304907630297">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.001201586040382211">
                            </property>
                        </relation>
                        <relation name="relation10" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="successfully sent a packet; cancel any timer">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="ackRequired == false">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5113771507933784">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.2165425692051333">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <relation name="relation11" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4608519717291257">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.19627325365212855">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <relation name="relation12" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="start listen to the radio">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_tt6)">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioListen">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.6556199387388546">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.7530154209037427">
                            </property>
                        </relation>
                        <relation name="relation13" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="failure= l2_retriesLeft==0 ? true : false">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_tt7)">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5356401869135988">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.0140345738147416">
                            </property>
                        </relation>
                        <relation name="relation14" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; startOfFrame_isPresent">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioRx">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4822322883100551">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4384897245811226">
                            </property>
                        </relation>
                        <relation name="relation15" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="failure = true">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_tt8)">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.48797718849866034">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.9216755421260556">
                            </property>
                        </relation>
                        <relation name="relation16" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; endOfFrame_isPresent">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioSleep">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5281466317801912">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.1638414749745247">
                            </property>
                        </relation>
                        <relation name="relation17" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="take ownership of the packet (? COMPONENT_IEEE802154E) ----packet sent outPacket = true">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="lastPacketType==&quot;ACK&quot; &amp;&amp; isLastPacketValid == true">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4476457388092345">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.606416978883076">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <relation name="relation18" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="take ownership of the packet (? COMPONENT_IEEE802154E)  ---- not clear if this isa failure">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="lastPacketType == &quot;ACK&quot; &amp;&amp; isLastPacketValid == false">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.7860685388174372">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.584971410980595">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <relation name="relation19" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="lastPacketType != &quot;ACK&quot;">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-1.3094925097342838">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.658013174912396">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <relation name="relation20" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync == false &amp;&amp; endOfFrame_isPresent">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.3476768730792226">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.747453992293074">
                            </property>
                        </relation>
                        <relation name="relation21" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioSleep">
                            </property>
                            <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="txDone = true">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.831630868146482">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <link port="TXDATAOFFSET.outgoingPort" relation="relation"/>
                        <link port="TXDATAPREPARE.incomingPort" relation="relation"/>
                        <link port="TXDATAPREPARE.outgoingPort" relation="relation2"/>
                        <link port="TRXDATAREADY.incomingPort" relation="relation2"/>
                        <link port="TRXDATAREADY.outgoingPort" relation="relation3"/>
                        <link port="TXDATADELAY.incomingPort" relation="relation3"/>
                        <link port="TXDATADELAY.outgoingPort" relation="relation4"/>
                        <link port="TXDATADELAY.outgoingPort" relation="relation5"/>
                        <link port="SLEEP.incomingPort" relation="relation4"/>
                        <link port="SLEEP.incomingPort" relation="relation7"/>
                        <link port="SLEEP.incomingPort" relation="relation8"/>
                        <link port="SLEEP.incomingPort" relation="relation10"/>
                        <link port="SLEEP.incomingPort" relation="relation13"/>
                        <link port="SLEEP.incomingPort" relation="relation15"/>
                        <link port="SLEEP.incomingPort" relation="relation17"/>
                        <link port="SLEEP.incomingPort" relation="relation18"/>
                        <link port="SLEEP.incomingPort" relation="relation19"/>
                        <link port="SLEEP.incomingPort" relation="relation20"/>
                        <link port="SLEEP.outgoingPort" relation="relation21"/>
                        <link port="TXDATA.incomingPort" relation="relation5"/>
                        <link port="TXDATA.outgoingPort" relation="relation6"/>
                        <link port="TXDATA.outgoingPort" relation="relation7"/>
                        <link port="TXDATA.outgoingPort" relation="relation8"/>
                        <link port="TXDATA.outgoingPort" relation="relation20"/>
                        <link port="RXACKOFFSET.incomingPort" relation="relation6"/>
                        <link port="RXACKOFFSET.outgoingPort" relation="relation9"/>
                        <link port="RXACKOFFSET.outgoingPort" relation="relation10"/>
                        <link port="RXACKPREPARE.incomingPort" relation="relation9"/>
                        <link port="RXACKPREPARE.outgoingPort" relation="relation11"/>
                        <link port="RXACKREADY.incomingPort" relation="relation11"/>
                        <link port="RXACKREADY.outgoingPort" relation="relation12"/>
                        <link port="RXACKLISTEN.incomingPort" relation="relation12"/>
                        <link port="RXACKLISTEN.outgoingPort" relation="relation13"/>
                        <link port="RXACKLISTEN.outgoingPort" relation="relation14"/>
                        <link port="RXACK.incomingPort" relation="relation14"/>
                        <link port="RXACK.outgoingPort" relation="relation15"/>
                        <link port="RXACK.outgoingPort" relation="relation16"/>
                        <link port="TXPROC.incomingPort" relation="relation16"/>
                        <link port="TXPROC.outgoingPort" relation="relation17"/>
                        <link port="TXPROC.outgoingPort" relation="relation18"/>
                        <link port="TXPROC.outgoingPort" relation="relation19"/>
                        <link port="finale.incomingPort" relation="relation21"/>
                    </entity>
                    <entity name="ADV_AND_DATA_SEND" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="SR Director" class="ptolemy.domains.sr.kernel.SRDirector">
                            <property name="iterations" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{310, 275}">
                            </property>
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 280.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 375.0]">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[1010.0, 555.0]">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[1005.0, 475.0]">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[240.0, 205.0]">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[990.0, 430.0]">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[890.0, 430.0]">
                            </property>
                        </port>
                        <entity name="Expression" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="lastCellType == &quot;ADV&quot;">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[470.0, 560.0]">
                            </property>
                        </entity>
                        <entity name="When" class="ptolemy.domains.sr.lib.When">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{605.1967387354651, 489.384765625}">
                            </property>
                        </entity>
                        <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{435.19673873546515, 469.384765625}">
                            </property>
                            <port name="type" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                                </property>
                            </port>
                            <port name="sender" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                            </port>
                            <port name="asn" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                            </port>
                        </entity>
                        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="localAddress">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{320.19673873546515, 489.384765625}">
                            </property>
                            <port name="output" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                            </port>
                        </entity>
                        <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="asn">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{320.19673873546515, 554.384765625}">
                            </property>
                            <port name="output" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                            </port>
                        </entity>
                        <entity name="Expression4" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="&quot;ADV&quot;">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{330.19673873546515, 434.384765625}">
                            </property>
                            <port name="output" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                                </property>
                            </port>
                        </entity>
                        <entity name="Expression5" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="lastCellType == &quot;TX&quot; || lastCellType == &quot;RXTX&quot;">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{505.0, 791.1106649709302}">
                            </property>
                        </entity>
                        <entity name="When2" class="ptolemy.domains.sr.lib.When">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{710.0, 726.1106649709302}">
                            </property>
                        </entity>
                        <entity name="RecordAssembler2" class="ptolemy.actor.lib.RecordAssembler">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{440.0, 706.1106649709302}">
                            </property>
                            <port name="type" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                                </property>
                            </port>
                            <port name="sender" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                            </port>
                            <port name="ackRequired" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
                                </property>
                            </port>
                            <port name="data" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                                </property>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                            </port>
                        </entity>
                        <entity name="Expression6" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="localAddress">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{255.0, 791.1106649709302}">
                            </property>
                            <port name="output" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                            </port>
                        </entity>
                        <entity name="Expression7" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="true">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[65.0, 730.0]">
                            </property>
                            <port name="output" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
                                </property>
                            </port>
                        </entity>
                        <entity name="Expression8" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="&quot;DATA&quot;">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{265.0, 706.1106649709302}">
                            </property>
                            <port name="output" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                                </property>
                            </port>
                        </entity>
                        <entity name="Expression9" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="lastPacketPayload">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{240.0, 886.1106649709302}">
                            </property>
                            <port name="output" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                                </property>
                            </port>
                        </entity>
                        <entity name="Merge" class="ptolemy.domains.continuous.lib.ContinuousMerge">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{710.1967387354651, 559.384765625}">
                            </property>
                        </entity>
                        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="ackRequired">
                            </property>
                            <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[950.0, 630.0]">
                            </property>
                        </entity>
                        <entity name="Const" class="ptolemy.actor.lib.Const">
                            <property name="value" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <doc>Create a constant sequence.</doc>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[825.0, 635.0]">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                        </relation>
                        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;RecordAssembler.sender&quot;,x=145.0,y=370.0}, tail={id=&quot;Expression3.output&quot;,x=30.0,y=390.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;RecordAssembler.asn&quot;,x=145.0,y=370.0}, tail={id=&quot;Expression4.output&quot;,x=30.0,y=455.0}, points={95.0,400.0,95.0,455.0} } }">
                            </property>
                        </relation>
                        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;RecordAssembler.type&quot;,x=145.0,y=370.0}, tail={id=&quot;Expression5.output&quot;,x=40.0,y=335.0}, points={95.0,380.0,95.0,335.0} } }">
                            </property>
                        </relation>
                        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;When.input&quot;,x=315.0,y=390.0}, tail={id=&quot;RecordAssembler.output&quot;,x=145.0,y=370.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;RecordAssembler.sender&quot;,x=270.0,y=335.0}, tail={id=&quot;Expression2.output&quot;,x=85.0,y=420.0}, points={145.0,345.0,145.0,420.0} } }">
                            </property>
                        </relation>
                        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;RecordAssembler.type&quot;,x=270.0,y=335.0}, tail={id=&quot;Expression4.output&quot;,x=95.0,y=335.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;When.input&quot;,x=540.0,y=355.0}, tail={id=&quot;RecordAssembler.output&quot;,x=270.0,y=335.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;RecordAssembler.data&quot;,x=270.0,y=335.0}, tail={id=&quot;Expression5.output&quot;,x=70.0,y=515.0}, points={175.0,375.0,175.0,515.0} } }">
                            </property>
                        </relation>
                        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;When.control&quot;,x=540.0,y=355.0}, tail={id=&quot;Expression.output&quot;,x=335.0,y=420.0}, points={540.0,420.0} } }">
                            </property>
                        </relation>
                        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                        </relation>
                        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
                        </relation>
                        <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                        </relation>
                        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{710.0, 645.0}">
                            </vertex>
                        </relation>
                        <relation name="relation15" class="ptolemy.actor.TypedIORelation">
                        </relation>
                        <link port="toPhysical" relation="relation12"/>
                        <link port="Expression.output" relation="relation"/>
                        <link port="When.input" relation="relation5"/>
                        <link port="When.output" relation="relation11"/>
                        <link port="When.control" relation="relation"/>
                        <link port="RecordAssembler.output" relation="relation5"/>
                        <link port="RecordAssembler.type" relation="relation4"/>
                        <link port="RecordAssembler.sender" relation="relation2"/>
                        <link port="RecordAssembler.asn" relation="relation3"/>
                        <link port="Expression2.output" relation="relation2"/>
                        <link port="Expression3.output" relation="relation3"/>
                        <link port="Expression4.output" relation="relation4"/>
                        <link port="Expression5.output" relation="relation10"/>
                        <link port="When2.input" relation="relation8"/>
                        <link port="When2.output" relation="relation14"/>
                        <link port="When2.control" relation="relation10"/>
                        <link port="RecordAssembler2.output" relation="relation8"/>
                        <link port="RecordAssembler2.type" relation="relation7"/>
                        <link port="RecordAssembler2.sender" relation="relation6"/>
                        <link port="RecordAssembler2.ackRequired" relation="relation13"/>
                        <link port="RecordAssembler2.data" relation="relation9"/>
                        <link port="Expression6.output" relation="relation6"/>
                        <link port="Expression7.output" relation="relation13"/>
                        <link port="Expression8.output" relation="relation7"/>
                        <link port="Expression9.output" relation="relation9"/>
                        <link port="Merge.input" relation="relation11"/>
                        <link port="Merge.input" relation="relation14"/>
                        <link port="Merge.output" relation="relation12"/>
                        <link port="SetVariable.input" relation="relation15"/>
                        <link port="Const.output" relation="relation15"/>
                        <link port="Const.trigger" relation="relation14"/>
                    </entity>
                    <entity name="TXDATA" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                            <property name="iterations" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{213.0, 197.384765625}">
                            </property>
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 280.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 375.0]">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[505.0, 380.0]">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 200.0}">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 430.0]">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 240.0}">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{480.0, 240.0}">
                            </property>
                        </port>
                        <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                            <doc>Output the current time.</doc>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{250, 310}">
                            </property>
                        </entity>
                        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastCapturedTime">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{400, 315}">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                        </relation>
                        <link port="CurrentTime.output" relation="relation"/>
                        <link port="SetVariable.input" relation="relation"/>
                    </entity>
                    <entity name="TXPROC" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="SR Director" class="ptolemy.domains.sr.kernel.SRDirector">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{35.0, 20.0}">
                            </property>
                        </property>
                        <property name="DESYNCTIMEOUT" class="ptolemy.data.expr.Parameter" value="333">
                            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                </property>
                            </property>
                            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                            </property>
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{694.319682687953, 394.71442847231003}">
                            </property>
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{550.0, 15.0}">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{450.0, 15.0}">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 15.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{190.0, 15.0}">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{865.0, 15.0}">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{270.0, 15.0}">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{655.0, 15.0}">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{1205.0, 140.0}">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{1105.0, 140.0}">
                            </property>
                        </port>
                        <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                            <doc>Output the current time.</doc>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{600.0, 225.0}">
                            </property>
                        </entity>
                        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastCapturedTime">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{730.0, 225.0}">
                            </property>
                        </entity>
                        <entity name="Expression" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="ackTimeCorrection">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{455.0, 140.0}">
                            </property>
                        </entity>
                        <entity name="SetVariable2" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="deSyncTimeout">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{1105.0, 85.0}">
                            </property>
                        </entity>
                        <entity name="Const" class="ptolemy.actor.lib.Const">
                            <property name="value" class="ptolemy.data.expr.Parameter" value="DESYNCTIMEOUT">
                            </property>
                            <doc>Create a constant sequence.</doc>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{935.0, 85.0}">
                            </property>
                        </entity>
                        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="DAGroot == false &amp;&amp; lastPacketSender == preferredParent &amp;&amp; ackTimeCorrection &gt; -1">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{180.0, 225.0}">
                            </property>
                        </entity>
                        <entity name="When" class="ptolemy.domains.sr.lib.When">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{600.0, 140.0}">
                            </property>
                        </entity>
                        <entity name="CalculateInStateSyncTime" class="ptolemy.actor.TypedCompositeActor">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{910.0, 140.0}">
                            </property>
                            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 808}, maximized=true}">
                            </property>
                            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[966, 837]">
                            </property>
                            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6910010842067221">
                            </property>
                            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{698.7499999999999, 737.4071652719665}">
                            </property>
                            <property name="RESYNCHRONIZATIONGUARD" class="ptolemy.data.expr.Parameter" value="5">
                                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                    </property>
                                </property>
                                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                                </property>
                                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, 145.0}">
                                </property>
                            </property>
                            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[80.0, 175.0]">
                                </property>
                            </property>
                            <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 235.0}">
                                </property>
                            </port>
                            <port name="nextFire" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{1035.0, 255.0}">
                                </property>
                            </port>
                            <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="currentValue &lt; (syncCapturedTime - lastSlotTimer) || nextSlotTimer-currentValue &lt; RESYNCHRONIZATIONGUARD">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[515.0, 525.0]">
                                </property>
                                <port name="currentValue" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                                <doc>Output the current time.</doc>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{175.0, 340.0}">
                                </property>
                            </entity>
                            <entity name="BooleanSelect" class="ptolemy.actor.lib.BooleanSelect">
                                <property name="BooleanSelectIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={17, -12, 815, 518}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                    <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-13.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                        <property name="width" class="ptolemy.data.expr.Parameter" value="35.0">
                                        </property>
                                        <property name="height" class="ptolemy.data.expr.Parameter" value="41.0">
                                        </property>
                                        <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                                        </property>
                                        <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                    </property>
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                    </property>
                                    <property name="annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="T">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, -25.0]">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, 10.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-7.0, 0.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="5.41">
                                        </property>
                                    </property>
                                    <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-5.41">
                                        </property>
                                    </property>
                                    <property name="annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="F">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="{-29.0, 10.0}">
                                        </property>
                                    </property>
                                    <property name="line8" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-14.14">
                                        </property>
                                    </property>
                                    <property name="line9" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, -10.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line6" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-13.0, 20.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,1.0,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-30.0">
                                        </property>
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{845.0, 255.0}">
                                </property>
                                <port name="trueInput" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                                    </property>
                                </port>
                                <port name="falseInput" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                                    </property>
                                </port>
                                <port name="control" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
                                    </property>
                                </port>
                            </entity>
                            <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="asn">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{955.0, 450.0}">
                                </property>
                            </entity>
                            <entity name="Expression5" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="asn + 1">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[750.0, 460.0]">
                                </property>
                                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="BooleanSwitch" class="ptolemy.actor.lib.BooleanSwitch">
                                <property name="BooleanSwitchIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-15.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                        <property name="width" class="ptolemy.data.expr.Parameter" value="33.0">
                                        </property>
                                        <property name="height" class="ptolemy.data.expr.Parameter" value="40.0">
                                        </property>
                                        <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-30.0, 0.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, -10.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-30.0, 0.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line6" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, 10.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                    </property>
                                    <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="14.14">
                                        </property>
                                    </property>
                                    <property name="line8" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line9" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="5.41">
                                        </property>
                                    </property>
                                    <property name="line10" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-5.41">
                                        </property>
                                    </property>
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={5, 136, 815, 518}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                    <property name="annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="T">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, -25.0">
                                        </property>
                                    </property>
                                    <property name="annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="F">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-10.0, 11.0]">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-15.0, 20.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,1.0,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-30.0">
                                        </property>
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{840.0, 460.0}">
                                </property>
                            </entity>
                            <entity name="Discard" class="ptolemy.actor.lib.Discard">
                                <property name="DiscardIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-22.0, 3.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-2.0, -18.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="20.0">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-17.0, 8.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="30.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-12.0, 13.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="20.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-7.0, 18.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 195, 813, 510}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{965.0, 535.0}">
                                </property>
                                <port name="input" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                                    </property>
                                </port>
                            </entity>
                            <entity name="Expression4" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(nextSlotTimer - currentTime) + timeCorrection">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{505.0, 330.0}">
                                </property>
                                <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                                <port name="currentTime" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(nextSlotTimer - currentTime) + TsSlotDuration + timeCorrection">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{520.0, 245.0}">
                                </property>
                                <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                                <port name="currentTime" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{265.0, 235.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;.Expression4.timeCorrection&quot;,x=815.0,y=315.0}, tail={id=&quot;relation5.vertex1&quot;,x=960.0,y=445.0}, points={1730.0,305.0} },{ head={id=&quot;.Expression3.timeCorrection&quot;,x=815.0,y=240.0}, tail={id=&quot;relation5.vertex1&quot;,x=960.0,y=445.0}, points={} },{ head={id=&quot;.Expression4.timeCorrection&quot;,x=815.0,y=315.0}, tail={id=&quot;relation4.vertex1&quot;,x=690.0,y=240.0}, points={690.0,315.0} },{ head={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, tail={id=&quot;Expression3.timeCorrection&quot;,x=520.0,y=245.0}, points={} },{ head={id=&quot;Expression4.timeCorrection&quot;,x=505.0,y=330.0}, tail={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, points={265.0,320.0} },{ head={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, tail={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{805.0, 525.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.control&quot;,x=845.0,y=255.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={845.0,415.0,805.0,415.0} },{ head={id=&quot;BooleanSwitch.control&quot;,x=840.0,y=460.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={840.0,525.0} },{ head={id=&quot;Expression2.output&quot;,x=515.0,y=525.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable.input&quot;,x=955.0,y=450.0}, tail={id=&quot;BooleanSwitch.trueOutput&quot;,x=840.0,y=460.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSwitch.falseOutput&quot;,x=840.0,y=460.0}, tail={id=&quot;Discard.input&quot;,x=965.0,y=535.0}, points={915.0,470.0,915.0,500.0,965.0,500.0} } }">
                                </property>
                            </relation>
                            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{110.0, 235.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;relation11.vertex1&quot;,x=110.0,y=240.0}, tail={id=&quot;relation4.vertex1&quot;,x=690.0,y=240.0}, points={110.0,405.0} },{ head={id=&quot;CurrentTime.trigger&quot;,x=175.0,y=340.0}, tail={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, points={110.0,340.0} },{ head={id=&quot;timeCorrection._location&quot;,x=20.0,y=235.0}, tail={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{1010.0, 255.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable2.input&quot;,x=1520.0,y=505.0}, tail={id=&quot;relation9.vertex1&quot;,x=1165.0,y=250.0}, points={1140.0,335.0} },{ head={id=&quot;nextFire._location&quot;,x=1035.0,y=255.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={} },{ head={id=&quot;BooleanSelect.output&quot;,x=845.0,y=255.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={} },{ head={id=&quot;Expression.relativeTimer&quot;,x=1170.0,y=385.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={1010.0,375.0} } }">
                                </property>
                            </relation>
                            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{250.0, 340.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.currecntTime&quot;,x=1170.0,y=385.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={250.0,395.0} },{ head={id=&quot;CurrentTime.output&quot;,x=175.0,y=340.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={} },{ head={id=&quot;Expression2.currentValue&quot;,x=515.0,y=525.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={250.0,525.0} },{ head={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, tail={id=&quot;Expression4.currentTime&quot;,x=505.0,y=330.0}, points={} },{ head={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, tail={id=&quot;Expression3.currentTime&quot;,x=520.0,y=245.0}, points={250.0,255.0} } }">
                                </property>
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.falseInput&quot;,x=995.0,y=250.0}, tail={id=&quot;.Expression3.output&quot;,x=815.0,y=240.0}, points={800.0,100.0,800.0,155.0} },{ head={id=&quot;BooleanSelect.falseInput&quot;,x=845.0,y=255.0}, tail={id=&quot;Expression4.output&quot;,x=505.0,y=330.0}, points={805.0,265.0,805.0,330.0} } }">
                                </property>
                            </relation>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.trueInput&quot;,x=845.0,y=255.0}, tail={id=&quot;Expression3.output&quot;,x=520.0,y=245.0}, points={} } }">
                                </property>
                            </relation>
                            <link port="timeCorrection" relation="relation11"/>
                            <link port="nextFire" relation="relation9"/>
                            <link port="Expression2.output" relation="relation5"/>
                            <link port="Expression2.currentValue" relation="relation13"/>
                            <link port="CurrentTime.output" relation="relation13"/>
                            <link port="CurrentTime.trigger" relation="relation11"/>
                            <link port="BooleanSelect.trueInput" relation="relation"/>
                            <link port="BooleanSelect.falseInput" relation="relation3"/>
                            <link port="BooleanSelect.control" relation="relation5"/>
                            <link port="BooleanSelect.output" relation="relation9"/>
                            <link port="SetVariable.input" relation="relation6"/>
                            <link port="Expression5.output" relation="relation8"/>
                            <link port="Expression5.trigger" relation="relation5"/>
                            <link port="BooleanSwitch.input" relation="relation8"/>
                            <link port="BooleanSwitch.control" relation="relation5"/>
                            <link port="BooleanSwitch.trueOutput" relation="relation6"/>
                            <link port="BooleanSwitch.falseOutput" relation="relation7"/>
                            <link port="Discard.input" relation="relation7"/>
                            <link port="Expression4.output" relation="relation3"/>
                            <link port="Expression4.timeCorrection" relation="relation4"/>
                            <link port="Expression4.currentTime" relation="relation13"/>
                            <link port="Expression3.output" relation="relation"/>
                            <link port="Expression3.timeCorrection" relation="relation4"/>
                            <link port="Expression3.currentTime" relation="relation13"/>
                            <link relation1="relation4" relation2="relation11"/>
                        </entity>
                        <entity name="SetVariable3" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="ackTimeCorrection">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{1115.0, 205.0}">
                            </property>
                        </entity>
                        <entity name="Const2" class="ptolemy.actor.lib.Const">
                            <property name="value" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <doc>Create a constant sequence.</doc>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{935.0, 205.0}">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;CurrentTime.output&quot;,x=600.0,y=225.0}, tail={id=&quot;SetVariable.input&quot;,x=730.0,y=225.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            <vertex name="vertex" value="{110.0, 0.0}">
                            </vertex>
                        </relation>
                        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            <vertex name="vertex" value="{140.0, 0.0}">
                            </vertex>
                        </relation>
                        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable.input&quot;,x=680.0,y=430.0}, tail={id=&quot;Const.output&quot;,x=590.0,y=220.0}, points={} },{ head={id=&quot;SetVariable2.input&quot;,x=1105.0,y=85.0}, tail={id=&quot;Const.output&quot;,x=935.0,y=85.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;.Expression.output&quot;,x=395.0,y=290.0}, tail={id=&quot;When.input&quot;,x=400.0,y=155.0}, points={} },{ head={id=&quot;Expression3.output&quot;,x=455.0,y=140.0}, tail={id=&quot;When.input&quot;,x=600.0,y=140.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{805.0, 140.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;relation11.vertex1&quot;,x=805.0,y=140.0}, tail={id=&quot;Const2.trigger&quot;,x=935.0,y=205.0}, points={805.0,205.0} },{ head={id=&quot;Const.trigger&quot;,x=935.0,y=85.0}, tail={id=&quot;relation11.vertex1&quot;,x=805.0,y=140.0}, points={805.0,85.0} },{ head={id=&quot;When.output&quot;,x=600.0,y=140.0}, tail={id=&quot;relation11.vertex1&quot;,x=805.0,y=140.0}, points={} },{ head={id=&quot;CalculateInStateSyncTime2.timeCorrection&quot;,x=910.0,y=140.0}, tail={id=&quot;relation11.vertex1&quot;,x=805.0,y=140.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{1115.0, 140.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;CalculateInStateSyncTime2.nextFire&quot;,x=910.0,y=140.0}, tail={id=&quot;relation12.vertex1&quot;,x=1115.0,y=140.0}, points={} },{ head={id=&quot;syncSchedule._location&quot;,x=1205.0,y=140.0}, tail={id=&quot;relation12.vertex1&quot;,x=1115.0,y=140.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable.input&quot;,x=680.0,y=430.0}, tail={id=&quot;Const.output&quot;,x=610.0,y=675.0}, points={} },{ head={id=&quot;SetVariable3.input&quot;,x=1115.0,y=205.0}, tail={id=&quot;Const2.output&quot;,x=935.0,y=205.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{535.0, 225.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;relation7.vertex1&quot;,x=535.0,y=225.0}, tail={id=&quot;CurrentTime.trigger&quot;,x=600.0,y=225.0}, points={} },{ head={id=&quot;When.control&quot;,x=600.0,y=140.0}, tail={id=&quot;relation7.vertex1&quot;,x=535.0,y=225.0}, points={600.0,180.0,535.0,180.0} },{ head={id=&quot;Expression4.output&quot;,x=180.0,y=225.0}, tail={id=&quot;relation7.vertex1&quot;,x=535.0,y=225.0}, points={} } }">
                            </property>
                        </relation>
                        <link port="syncSchedule" relation="relation7"/>
                        <link port="CurrentTime.output" relation="relation"/>
                        <link port="CurrentTime.trigger" relation="relation9"/>
                        <link port="SetVariable.input" relation="relation"/>
                        <link port="Expression.output" relation="relation5"/>
                        <link port="SetVariable2.input" relation="relation4"/>
                        <link port="Const.output" relation="relation4"/>
                        <link port="Const.trigger" relation="relation6"/>
                        <link port="Expression2.output" relation="relation9"/>
                        <link port="When.input" relation="relation5"/>
                        <link port="When.output" relation="relation6"/>
                        <link port="When.control" relation="relation9"/>
                        <link port="CalculateInStateSyncTime.timeCorrection" relation="relation6"/>
                        <link port="CalculateInStateSyncTime.nextFire" relation="relation7"/>
                        <link port="SetVariable3.input" relation="relation8"/>
                        <link port="Const2.output" relation="relation8"/>
                        <link port="Const2.trigger" relation="relation6"/>
                    </entity>
                    <relation name="startOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="endOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="dataToSendRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="cellTypeRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="toApplicationRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="toPhysicalRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="fromPhysicalRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="syncScheduleRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="powerStatusRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <link port="startOfFrame" relation="startOfFrameRelation"/>
                    <link port="endOfFrame" relation="endOfFrameRelation"/>
                    <link port="dataToSend" relation="dataToSendRelation"/>
                    <link port="cellType" relation="cellTypeRelation"/>
                    <link port="toApplication" relation="toApplicationRelation"/>
                    <link port="toPhysical" relation="toPhysicalRelation"/>
                    <link port="fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="syncSchedule" relation="syncScheduleRelation"/>
                    <link port="powerStatus" relation="powerStatusRelation"/>
                    <link port="_Controller.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="_Controller.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="_Controller.dataToSend" relation="dataToSendRelation"/>
                    <link port="_Controller.cellType" relation="cellTypeRelation"/>
                    <link port="_Controller.toApplication" relation="toApplicationRelation"/>
                    <link port="_Controller.toPhysical" relation="toPhysicalRelation"/>
                    <link port="_Controller.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="_Controller.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="_Controller.powerStatus" relation="powerStatusRelation"/>
                    <link port="ADV_AND_DATA_SEND.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="ADV_AND_DATA_SEND.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="ADV_AND_DATA_SEND.dataToSend" relation="dataToSendRelation"/>
                    <link port="ADV_AND_DATA_SEND.cellType" relation="cellTypeRelation"/>
                    <link port="ADV_AND_DATA_SEND.toApplication" relation="toApplicationRelation"/>
                    <link port="ADV_AND_DATA_SEND.toPhysical" relation="toPhysicalRelation"/>
                    <link port="ADV_AND_DATA_SEND.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="ADV_AND_DATA_SEND.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="ADV_AND_DATA_SEND.powerStatus" relation="powerStatusRelation"/>
                    <link port="TXDATA.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="TXDATA.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="TXDATA.dataToSend" relation="dataToSendRelation"/>
                    <link port="TXDATA.cellType" relation="cellTypeRelation"/>
                    <link port="TXDATA.toApplication" relation="toApplicationRelation"/>
                    <link port="TXDATA.toPhysical" relation="toPhysicalRelation"/>
                    <link port="TXDATA.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="TXDATA.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="TXDATA.powerStatus" relation="powerStatusRelation"/>
                    <link port="TXPROC.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="TXPROC.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="TXPROC.dataToSend" relation="dataToSendRelation"/>
                    <link port="TXPROC.cellType" relation="cellTypeRelation"/>
                    <link port="TXPROC.toApplication" relation="toApplicationRelation"/>
                    <link port="TXPROC.toPhysical" relation="toPhysicalRelation"/>
                    <link port="TXPROC.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="TXPROC.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="TXPROC.powerStatus" relation="powerStatusRelation"/>
                </entity>
                <entity name="synchronization_power" class="ptolemy.domains.modal.modal.ModalRefinement">
                    <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                    </property>
                    <port name="startOfFrame" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 230.0]">
                        </property>
                    </port>
                    <port name="endOfFrame" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 280.0]">
                        </property>
                    </port>
                    <port name="dataToSend" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 345.0]">
                        </property>
                    </port>
                    <port name="cellType" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-915.0, 405.0]">
                        </property>
                    </port>
                    <port name="toApplication" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 275.0]">
                        </property>
                    </port>
                    <port name="toPhysical" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[130.0, 335.0]">
                        </property>
                    </port>
                    <port name="fromPhysical" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 190.0]">
                        </property>
                    </port>
                    <port name="syncSchedule" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 390.0]">
                        </property>
                    </port>
                    <port name="powerStatus" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[180.0, 465.0]">
                        </property>
                    </port>
                    <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                        <property name="_library" class="ptolemy.moml.LibraryAttribute">
                            <configure>
            <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
          </configure>
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={253, 132, 934, 635}, maximized=false}">
                        </property>
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
                        </property>
                        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.9400544959128065">
                        </property>
                        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{374.0, 450.7731714221014}">
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 280.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 320.0}">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[485.0, 215.0]">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[525.0, 215.0]">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 360.0}">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[565.0, 215.0]">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[605.0, 215.0]">
                            </property>
                        </port>
                        <entity name="SYNCLISTEN" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[95.0, 520.0]">
                            </property>
                        </entity>
                        <entity name="SYNCRX" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="SYNCRX">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{320.0, 540.0}">
                            </property>
                        </entity>
                        <entity name="SYNCPROC" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="SYNCPROC">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{555.0, 565.0}">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                        </entity>
                        <entity name="SLEEP" class="ptolemy.domains.modal.kernel.State">
                            <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{710.0, 560.0}">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="startOfFrame_isPresent">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioRx">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.04080422741631338">
                            </property>
                        </relation>
                        <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="true">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioSleep">
                            </property>
                            <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="isSync = true; syncDone = true">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6887294392808244">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.08996928425716806">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="endOfFrame_isPresent">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioSleep">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.2257046848241643">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                        </relation>
                        <link port="SYNCLISTEN.outgoingPort" relation="relation"/>
                        <link port="SYNCRX.incomingPort" relation="relation"/>
                        <link port="SYNCRX.outgoingPort" relation="relation3"/>
                        <link port="SYNCPROC.incomingPort" relation="relation3"/>
                        <link port="SYNCPROC.outgoingPort" relation="relation2"/>
                        <link port="SLEEP.incomingPort" relation="relation2"/>
                    </entity>
                    <entity name="SYNCRX" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                            <property name="iterations" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-95.0, 365.0]">
                            </property>
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-155.0, 525.0]">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-160.0, 610.0]">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 320.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 280.0}">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 240.0}">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 280.0}">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 200.0}">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[605.0, 215.0]">
                            </property>
                        </port>
                        <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                            <doc>Output the current time.</doc>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{-45, 565}">
                            </property>
                        </entity>
                        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastCapturedTime">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[150.0, 535.0]">
                            </property>
                        </entity>
                        <entity name="SetVariable2" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="syncCapturedTime">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 655.0]">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{60.0, 595.0}">
                            </vertex>
                        </relation>
                        <link port="CurrentTime.output" relation="relation"/>
                        <link port="SetVariable.input" relation="relation"/>
                        <link port="SetVariable2.input" relation="relation"/>
                    </entity>
                    <entity name="SYNCPROC" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="SR Director" class="ptolemy.domains.sr.kernel.SRDirector">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{70.0, 170.0}">
                            </property>
                        </property>
                        <property name="DESYNCTIMEOUT" class="ptolemy.data.expr.Parameter" value="333">
                            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                </property>
                            </property>
                            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                            </property>
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{142.0920502092049, 430.00259054654816}">
                            </property>
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{525.0, 165.0}">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{425.0, 165.0}">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{330.0, 165.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{165.0, 165.0}">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{735.0, 165.0}">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{245.0, 165.0}">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{630.0, 165.0}">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{1155.0, 245.0}">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 200.0}">
                            </property>
                        </port>
                        <entity name="Expression" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(syncCapturedTime - lastSlotTimer) - TsTxOffset">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{170.0, 245.0}">
                            </property>
                        </entity>
                        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="deSyncTimeout">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{675.0, 310.0}">
                            </property>
                        </entity>
                        <entity name="Const" class="ptolemy.actor.lib.Const">
                            <property name="value" class="ptolemy.data.expr.Parameter" value="DESYNCTIMEOUT">
                            </property>
                            <doc>Create a constant sequence.</doc>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{540.0, 310.0}">
                            </property>
                        </entity>
                        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="DAGroot == false">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{260.0, 310.0}">
                            </property>
                        </entity>
                        <entity name="When" class="ptolemy.domains.sr.lib.When">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{380.0, 245.0}">
                            </property>
                        </entity>
                        <entity name="CalculateInStateSyncTime" class="ptolemy.actor.TypedCompositeActor">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{1005.0, 245.0}">
                            </property>
                            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 810}, maximized=true}">
                            </property>
                            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 700]">
                            </property>
                            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6910010842067221">
                            </property>
                            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{872.4110878661087, 638.2756276150628}">
                            </property>
                            <property name="RESYNCHRONIZATIONGUARD" class="ptolemy.data.expr.Parameter" value="5">
                                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                    </property>
                                </property>
                                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                                </property>
                                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, 145.0}">
                                </property>
                            </property>
                            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[80.0, 175.0]">
                                </property>
                            </property>
                            <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 235.0}">
                                </property>
                            </port>
                            <port name="nextFire" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{1035.0, 255.0}">
                                </property>
                            </port>
                            <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="currentValue &lt; (syncCapturedTime - lastSlotTimer) || nextSlotTimer-currentValue &lt; RESYNCHRONIZATIONGUARD">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[515.0, 525.0]">
                                </property>
                                <port name="currentValue" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                                <doc>Output the current time.</doc>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{175.0, 340.0}">
                                </property>
                            </entity>
                            <entity name="BooleanSelect" class="ptolemy.actor.lib.BooleanSelect">
                                <property name="BooleanSelectIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={17, -12, 815, 518}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                    <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-13.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                        <property name="width" class="ptolemy.data.expr.Parameter" value="35.0">
                                        </property>
                                        <property name="height" class="ptolemy.data.expr.Parameter" value="41.0">
                                        </property>
                                        <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                                        </property>
                                        <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                    </property>
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                    </property>
                                    <property name="annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="T">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, -25.0]">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, 10.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-7.0, 0.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="5.41">
                                        </property>
                                    </property>
                                    <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-5.41">
                                        </property>
                                    </property>
                                    <property name="annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="F">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="{-29.0, 10.0}">
                                        </property>
                                    </property>
                                    <property name="line8" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-14.14">
                                        </property>
                                    </property>
                                    <property name="line9" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, -10.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line6" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-13.0, 20.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,1.0,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-30.0">
                                        </property>
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{845.0, 255.0}">
                                </property>
                                <port name="trueInput" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                                    </property>
                                </port>
                                <port name="falseInput" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                                    </property>
                                </port>
                                <port name="control" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
                                    </property>
                                </port>
                            </entity>
                            <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="asn">
                                </property>
                                <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{955.0, 450.0}">
                                </property>
                                <port name="input" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                    </property>
                                </port>
                            </entity>
                            <entity name="Expression5" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="asn + 1">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[750.0, 460.0]">
                                </property>
                                <port name="output" class="ptolemy.actor.TypedIOPort">
                                    <property name="output"/>
                                    <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                    </property>
                                </port>
                                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="BooleanSwitch" class="ptolemy.actor.lib.BooleanSwitch">
                                <property name="BooleanSwitchIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-15.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                        <property name="width" class="ptolemy.data.expr.Parameter" value="33.0">
                                        </property>
                                        <property name="height" class="ptolemy.data.expr.Parameter" value="40.0">
                                        </property>
                                        <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-30.0, 0.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, -10.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-30.0, 0.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line6" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, 10.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                    </property>
                                    <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="14.14">
                                        </property>
                                    </property>
                                    <property name="line8" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line9" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="5.41">
                                        </property>
                                    </property>
                                    <property name="line10" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-5.41">
                                        </property>
                                    </property>
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={5, 136, 815, 518}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                    <property name="annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="T">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, -25.0">
                                        </property>
                                    </property>
                                    <property name="annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="F">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-10.0, 11.0]">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-15.0, 20.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,1.0,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-30.0">
                                        </property>
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{840.0, 460.0}">
                                </property>
                            </entity>
                            <entity name="Discard" class="ptolemy.actor.lib.Discard">
                                <property name="DiscardIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-22.0, 3.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-2.0, -18.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="20.0">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-17.0, 8.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="30.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-12.0, 13.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="20.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-7.0, 18.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 195, 813, 510}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{965.0, 535.0}">
                                </property>
                                <port name="input" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                                    </property>
                                </port>
                            </entity>
                            <entity name="Expression4" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(nextSlotTimer - currentTime) + timeCorrection">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{505.0, 330.0}">
                                </property>
                                <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                                <port name="currentTime" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(nextSlotTimer - currentTime) + TsSlotDuration + timeCorrection">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{520.0, 245.0}">
                                </property>
                                <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                                <port name="currentTime" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{265.0, 235.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;.Expression4.timeCorrection&quot;,x=815.0,y=315.0}, tail={id=&quot;relation5.vertex1&quot;,x=960.0,y=445.0}, points={1730.0,305.0} },{ head={id=&quot;.Expression3.timeCorrection&quot;,x=815.0,y=240.0}, tail={id=&quot;relation5.vertex1&quot;,x=960.0,y=445.0}, points={} },{ head={id=&quot;.Expression4.timeCorrection&quot;,x=815.0,y=315.0}, tail={id=&quot;relation4.vertex1&quot;,x=690.0,y=240.0}, points={690.0,315.0} },{ head={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, tail={id=&quot;Expression3.timeCorrection&quot;,x=520.0,y=245.0}, points={} },{ head={id=&quot;Expression4.timeCorrection&quot;,x=505.0,y=330.0}, tail={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, points={265.0,320.0} },{ head={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, tail={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{805.0, 525.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.control&quot;,x=845.0,y=255.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={845.0,415.0,805.0,415.0} },{ head={id=&quot;BooleanSwitch.control&quot;,x=840.0,y=460.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={840.0,525.0} },{ head={id=&quot;Expression2.output&quot;,x=515.0,y=525.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable.input&quot;,x=955.0,y=450.0}, tail={id=&quot;BooleanSwitch.trueOutput&quot;,x=840.0,y=460.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSwitch.falseOutput&quot;,x=840.0,y=460.0}, tail={id=&quot;Discard.input&quot;,x=965.0,y=535.0}, points={915.0,470.0,915.0,500.0,965.0,500.0} } }">
                                </property>
                            </relation>
                            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{110.0, 235.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;relation11.vertex1&quot;,x=110.0,y=240.0}, tail={id=&quot;relation4.vertex1&quot;,x=690.0,y=240.0}, points={110.0,405.0} },{ head={id=&quot;CurrentTime.trigger&quot;,x=175.0,y=340.0}, tail={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, points={110.0,340.0} },{ head={id=&quot;timeCorrection._location&quot;,x=20.0,y=235.0}, tail={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{1010.0, 255.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable2.input&quot;,x=1520.0,y=505.0}, tail={id=&quot;relation9.vertex1&quot;,x=1165.0,y=250.0}, points={1140.0,335.0} },{ head={id=&quot;nextFire._location&quot;,x=1035.0,y=255.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={} },{ head={id=&quot;BooleanSelect.output&quot;,x=845.0,y=255.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={} },{ head={id=&quot;Expression.relativeTimer&quot;,x=1170.0,y=385.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={1010.0,375.0} } }">
                                </property>
                            </relation>
                            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{250.0, 340.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.currecntTime&quot;,x=1170.0,y=385.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={250.0,395.0} },{ head={id=&quot;CurrentTime.output&quot;,x=175.0,y=340.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={} },{ head={id=&quot;Expression2.currentValue&quot;,x=515.0,y=525.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={250.0,525.0} },{ head={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, tail={id=&quot;Expression4.currentTime&quot;,x=505.0,y=330.0}, points={} },{ head={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, tail={id=&quot;Expression3.currentTime&quot;,x=520.0,y=245.0}, points={250.0,255.0} } }">
                                </property>
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.falseInput&quot;,x=995.0,y=250.0}, tail={id=&quot;.Expression3.output&quot;,x=815.0,y=240.0}, points={800.0,100.0,800.0,155.0} },{ head={id=&quot;BooleanSelect.falseInput&quot;,x=845.0,y=255.0}, tail={id=&quot;Expression4.output&quot;,x=505.0,y=330.0}, points={805.0,265.0,805.0,330.0} } }">
                                </property>
                            </relation>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.trueInput&quot;,x=845.0,y=255.0}, tail={id=&quot;Expression3.output&quot;,x=520.0,y=245.0}, points={} } }">
                                </property>
                            </relation>
                            <link port="timeCorrection" relation="relation11"/>
                            <link port="nextFire" relation="relation9"/>
                            <link port="Expression2.output" relation="relation5"/>
                            <link port="Expression2.currentValue" relation="relation13"/>
                            <link port="CurrentTime.output" relation="relation13"/>
                            <link port="CurrentTime.trigger" relation="relation11"/>
                            <link port="BooleanSelect.trueInput" relation="relation"/>
                            <link port="BooleanSelect.falseInput" relation="relation3"/>
                            <link port="BooleanSelect.control" relation="relation5"/>
                            <link port="BooleanSelect.output" relation="relation9"/>
                            <link port="SetVariable.input" relation="relation6"/>
                            <link port="Expression5.output" relation="relation8"/>
                            <link port="Expression5.trigger" relation="relation5"/>
                            <link port="BooleanSwitch.input" relation="relation8"/>
                            <link port="BooleanSwitch.control" relation="relation5"/>
                            <link port="BooleanSwitch.trueOutput" relation="relation6"/>
                            <link port="BooleanSwitch.falseOutput" relation="relation7"/>
                            <link port="Discard.input" relation="relation7"/>
                            <link port="Expression4.output" relation="relation3"/>
                            <link port="Expression4.timeCorrection" relation="relation4"/>
                            <link port="Expression4.currentTime" relation="relation13"/>
                            <link port="Expression3.output" relation="relation"/>
                            <link port="Expression3.timeCorrection" relation="relation4"/>
                            <link port="Expression3.currentTime" relation="relation13"/>
                            <link relation1="relation4" relation2="relation11"/>
                        </entity>
                        <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="lastPacketSender">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{540.0, 355.0}">
                            </property>
                            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                            </port>
                        </entity>
                        <entity name="SetVariable2" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="preferredParent">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{675.0, 355.0}">
                            </property>
                        </entity>
                        <entity name="SetVariable3" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="asn">
                            </property>
                            <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{665.0, 410.0}">
                            </property>
                        </entity>
                        <entity name="Expression4" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="otherASN">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{540.0, 410.0}">
                            </property>
                            <port name="trigger" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                            </port>
                        </entity>
                        <entity name="When2" class="ptolemy.domains.sr.lib.When">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{865.0, 245.0}">
                            </property>
                        </entity>
                        <entity name="IsPresent" class="ptolemy.actor.lib.logic.IsPresent">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{775.0, 410.0}">
                            </property>
                            <port name="input" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="multiport"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                            </port>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable.input&quot;,x=675.0,y=310.0}, tail={id=&quot;Const.output&quot;,x=540.0,y=310.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=170.0,y=245.0}, tail={id=&quot;When.input&quot;,x=380.0,y=245.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{440.0, 245.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Const.trigger&quot;,x=540.0,y=310.0}, tail={id=&quot;relation5.vertex1&quot;,x=440.0,y=245.0}, points={440.0,310.0} },{ head={id=&quot;Expression4.trigger&quot;,x=540.0,y=410.0}, tail={id=&quot;relation5.vertex1&quot;,x=440.0,y=245.0}, points={440.0,410.0} },{ head={id=&quot;When2.input&quot;,x=865.0,y=245.0}, tail={id=&quot;relation5.vertex1&quot;,x=440.0,y=245.0}, points={} },{ head={id=&quot;Expression3.trigger&quot;,x=540.0,y=355.0}, tail={id=&quot;relation5.vertex1&quot;,x=440.0,y=245.0}, points={440.0,355.0} },{ head={id=&quot;When.output&quot;,x=380.0,y=245.0}, tail={id=&quot;relation5.vertex1&quot;,x=440.0,y=245.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{1125.0, 245.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;syncSchedule._location&quot;,x=1155.0,y=245.0}, tail={id=&quot;relation6.vertex1&quot;,x=1125.0,y=245.0}, points={} },{ head={id=&quot;CalculateInStateSyncTime.nextFire&quot;,x=1005.0,y=245.0}, tail={id=&quot;relation6.vertex1&quot;,x=1125.0,y=245.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression2.output&quot;,x=260.0,y=310.0}, tail={id=&quot;When.control&quot;,x=380.0,y=245.0}, points={380.0,310.0} } }">
                            </property>
                        </relation>
                        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression3.output&quot;,x=540.0,y=355.0}, tail={id=&quot;SetVariable2.input&quot;,x=675.0,y=355.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable3.input&quot;,x=665.0,y=410.0}, tail={id=&quot;Expression4.output&quot;,x=540.0,y=410.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable3.output&quot;,x=665.0,y=410.0}, tail={id=&quot;IsPresent.input&quot;,x=775.0,y=410.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;When2.control&quot;,x=865.0,y=245.0}, tail={id=&quot;IsPresent.output&quot;,x=775.0,y=410.0}, points={865.0,410.0} } }">
                            </property>
                        </relation>
                        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;CalculateInStateSyncTime.timeCorrection&quot;,x=1005.0,y=245.0}, tail={id=&quot;When2.output&quot;,x=865.0,y=245.0}, points={} } }">
                            </property>
                        </relation>
                        <link port="syncSchedule" relation="relation4"/>
                        <link port="Expression.output" relation="relation2"/>
                        <link port="SetVariable.input" relation="relation"/>
                        <link port="Const.output" relation="relation"/>
                        <link port="Const.trigger" relation="relation3"/>
                        <link port="Expression2.output" relation="relation5"/>
                        <link port="When.input" relation="relation2"/>
                        <link port="When.output" relation="relation3"/>
                        <link port="When.control" relation="relation5"/>
                        <link port="CalculateInStateSyncTime.timeCorrection" relation="relation10"/>
                        <link port="CalculateInStateSyncTime.nextFire" relation="relation4"/>
                        <link port="Expression3.output" relation="relation6"/>
                        <link port="Expression3.trigger" relation="relation3"/>
                        <link port="SetVariable2.input" relation="relation6"/>
                        <link port="SetVariable3.input" relation="relation7"/>
                        <link port="SetVariable3.output" relation="relation8"/>
                        <link port="Expression4.output" relation="relation7"/>
                        <link port="Expression4.trigger" relation="relation3"/>
                        <link port="When2.input" relation="relation3"/>
                        <link port="When2.output" relation="relation10"/>
                        <link port="When2.control" relation="relation9"/>
                        <link port="IsPresent.input" relation="relation8"/>
                        <link port="IsPresent.output" relation="relation9"/>
                    </entity>
                    <relation name="startOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="endOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="dataToSendRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="cellTypeRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="toApplicationRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="toPhysicalRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="fromPhysicalRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="syncScheduleRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="powerStatusRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <link port="startOfFrame" relation="startOfFrameRelation"/>
                    <link port="endOfFrame" relation="endOfFrameRelation"/>
                    <link port="dataToSend" relation="dataToSendRelation"/>
                    <link port="cellType" relation="cellTypeRelation"/>
                    <link port="toApplication" relation="toApplicationRelation"/>
                    <link port="toPhysical" relation="toPhysicalRelation"/>
                    <link port="fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="syncSchedule" relation="syncScheduleRelation"/>
                    <link port="powerStatus" relation="powerStatusRelation"/>
                    <link port="_Controller.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="_Controller.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="_Controller.dataToSend" relation="dataToSendRelation"/>
                    <link port="_Controller.cellType" relation="cellTypeRelation"/>
                    <link port="_Controller.toApplication" relation="toApplicationRelation"/>
                    <link port="_Controller.toPhysical" relation="toPhysicalRelation"/>
                    <link port="_Controller.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="_Controller.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="_Controller.powerStatus" relation="powerStatusRelation"/>
                    <link port="SYNCRX.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="SYNCRX.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="SYNCRX.dataToSend" relation="dataToSendRelation"/>
                    <link port="SYNCRX.cellType" relation="cellTypeRelation"/>
                    <link port="SYNCRX.toApplication" relation="toApplicationRelation"/>
                    <link port="SYNCRX.toPhysical" relation="toPhysicalRelation"/>
                    <link port="SYNCRX.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="SYNCRX.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="SYNCRX.powerStatus" relation="powerStatusRelation"/>
                    <link port="SYNCPROC.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="SYNCPROC.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="SYNCPROC.dataToSend" relation="dataToSendRelation"/>
                    <link port="SYNCPROC.cellType" relation="cellTypeRelation"/>
                    <link port="SYNCPROC.toApplication" relation="toApplicationRelation"/>
                    <link port="SYNCPROC.toPhysical" relation="toPhysicalRelation"/>
                    <link port="SYNCPROC.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="SYNCPROC.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="SYNCPROC.powerStatus" relation="powerStatusRelation"/>
                </entity>
                <entity name="rx_power" class="ptolemy.domains.modal.modal.ModalRefinement">
                    <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
                    </property>
                    <port name="startOfFrame" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 230.0]">
                        </property>
                    </port>
                    <port name="endOfFrame" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 280.0]">
                        </property>
                    </port>
                    <port name="dataToSend" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-920.0, 345.0]">
                        </property>
                    </port>
                    <port name="cellType" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-915.0, 405.0]">
                        </property>
                    </port>
                    <port name="toApplication" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 275.0]">
                        </property>
                    </port>
                    <port name="toPhysical" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[130.0, 335.0]">
                        </property>
                    </port>
                    <port name="fromPhysical" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="input"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[145.0, 190.0]">
                        </property>
                    </port>
                    <port name="syncSchedule" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[135.0, 390.0]">
                        </property>
                    </port>
                    <port name="powerStatus" class="ptolemy.domains.modal.modal.ModalRefinementPort">
                        <property name="output"/>
                        <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                        </property>
                        <property name="_location" class="ptolemy.kernel.util.Location" value="[180.0, 465.0]">
                        </property>
                    </port>
                    <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
                        <property name="_library" class="ptolemy.moml.LibraryAttribute">
                            <configure>
            <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
          </configure>
                        </property>
                        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={253, 132, 934, 635}, maximized=false}">
                        </property>
                        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
                        </property>
                        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.5120000000000001">
                        </property>
                        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{476.5380637945131, 530.2889466751452}">
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-150.0, -130.0]">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-150.0, -90.0]">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-150.0, -50.0]">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-150.0, -10.0]">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[835.0, -25.0]">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[875.0, -25.0]">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[-150.0, 30.0]">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[915.0, -25.0]">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[985.0, -20.0]">
                            </property>
                        </port>
                        <entity name="RXDATAOFFSET" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{215.0, 90.0}">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                        </entity>
                        <entity name="RXDATAPREPARE" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{400.0, 140.0}">
                            </property>
                        </entity>
                        <entity name="RXDATAREADY" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{585.0, 215.0}">
                            </property>
                        </entity>
                        <entity name="SLEEP" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{245.0, 485.0}">
                            </property>
                        </entity>
                        <entity name="RXDATALISTEN" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{490.0, 295.0}">
                            </property>
                        </entity>
                        <entity name="RXDATA" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="RXDATA">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{650.0, 355.0}">
                            </property>
                        </entity>
                        <entity name="TXACKOFFSET_FAIL" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{500.0, 455.0}">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                        </entity>
                        <entity name="TXACKOFFSET_ACK" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{765.0, 555.0}">
                            </property>
                        </entity>
                        <entity name="TXACKOFFSET_OK" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="TXACKOFFSET_OK">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{575.0, 520.0}">
                            </property>
                        </entity>
                        <entity name="TXACKPREPARE" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{690.0, 645.0}">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                        </entity>
                        <entity name="TXACKREADY" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 765.0}">
                            </property>
                        </entity>
                        <entity name="TXACKDELAY" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="TXACKDELAY">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{360.0, 840.0}">
                            </property>
                        </entity>
                        <entity name="TXACK" class="ptolemy.domains.modal.kernel.State">
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{55.0, 850.0}">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                        </entity>
                        <entity name="RXPROC" class="ptolemy.domains.modal.kernel.State">
                            <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="RXPROC">
                            </property>
                            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                            </property>
                            <property name="StateIcon" class="ptolemy.vergil.modal.StateIcon">
                                <property name="spacing" class="ptolemy.data.expr.Parameter" value="isFinalState ? 3.0 : 0.0">
                                </property>
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{-150.0, 780.0}">
                            </property>
                        </entity>
                        <entity name="finale" class="ptolemy.domains.modal.kernel.State">
                            <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{130.0, 450.0}">
                            </property>
                            <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="enable radio in rx mode">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt1)">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioListen">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.44279109065841504">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.36847684090096516">
                            </property>
                        </relation>
                        <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5915685876479561">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.5582632542266415">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt2)">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioListen">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.556382157183828">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.148805838813646">
                            </property>
                        </relation>
                        <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; startOfFrame_isPresent">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioRx">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5735423795719798">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.1209911235335686">
                            </property>
                        </relation>
                        <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; startOfFrame_isPresent">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.2929539525139218">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.4432389473027726">
                            </property>
                        </relation>
                        <relation name="relation6" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="failure">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt3)">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.8916659513946055">
                            </property>
                        </relation>
                        <relation name="relation7" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="failure">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt4)">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.009691686813832333">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-3.0417138932043017">
                            </property>
                        </relation>
                        <relation name="relation8" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="turn off radio">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; endOfFrame_isPresent &amp;&amp; ! (fromPhysical_isPresent &amp;&amp; isLastPacketValid == true)">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioSleep">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.178128650186005">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.522597382399473">
                            </property>
                        </relation>
                        <relation name="relation9" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="turn off radio">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; endOfFrame_isPresent &amp;&amp; fromPhysical_isPresent &amp;&amp; isLastPacketValid == true &amp;&amp; ackRequired == true">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioSleep">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5121092655775092">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.0427951526782124">
                            </property>
                        </relation>
                        <relation name="relation10" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="do (// synchronize to the received packet iif I'm not a DAGroot and this is my preferred parent) ">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; endOfFrame_isPresent &amp;&amp; fromPhysical_isPresent &amp;&amp; isLastPacketValid == true &amp;&amp; ackRequired == false">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioSleep">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5591490281453362">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.4759245433115677">
                            </property>
                        </relation>
                        <relation name="relation11" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="toApplication = lastPacketPayload">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.43231527306666967">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.132550548270773">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <relation name="relation12" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="notify failure">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.1647183802730661">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.020808524548196">
                            </property>
                        </relation>
                        <relation name="relation13" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt5)">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioReady">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.5422961282118259">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.8726214108870376">
                            </property>
                        </relation>
                        <relation name="relation14" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="if you are able to take a buffer: calculate time correction and add it to the ack, find the frequency, upload packet, and enable the radio">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4899053971519392">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.1503583148299903">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <relation name="relation15" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="enable radio to transmit (radio_txNow())">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt6)">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioTx">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4319113886071207">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.999825156834616">
                            </property>
                        </relation>
                        <relation name="relation16" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==false &amp;&amp; startOfFrame_isPresent">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.8644600834872358">
                            </property>
                        </relation>
                        <relation name="relation17" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="failure">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt7)">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.1322525631014074">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.8896001496078463">
                            </property>
                        </relation>
                        <relation name="relation18" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync==true &amp;&amp; startOfFrame_isPresent">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioTx">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.24937403787656867">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.1014870105980443">
                            </property>
                        </relation>
                        <relation name="relation19" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="timeout(DURATION_rt8)">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.23758954632120216">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.1028032592941295">
                            </property>
                        </relation>
                        <relation name="relation20" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="annotation" class="ptolemy.data.expr.StringParameter" value="synchronize with the packet and notify packet received">
                            </property>
                            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isSync == true &amp;&amp; endOfFrame_isPresent">
                            </property>
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microActive + radioSleep">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.4457727183341103">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.802362209988622">
                            </property>
                        </relation>
                        <relation name="relation21" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="toApplication = lastPacketPayload">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.3905607611300488">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.6665291725469391">
                            </property>
                        </relation>
                        <relation name="relation22" class="ptolemy.domains.modal.kernel.Transition">
                            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="powerStatus = microSleep + radioSleep">
                            </property>
                            <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="rxDone = true">
                            </property>
                            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                            </property>
                            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.7179441896263183">
                            </property>
                            <property name="immediate" class="ptolemy.data.expr.Parameter" value="true">
                            </property>
                        </relation>
                        <link port="RXDATAOFFSET.outgoingPort" relation="relation"/>
                        <link port="RXDATAPREPARE.incomingPort" relation="relation"/>
                        <link port="RXDATAPREPARE.outgoingPort" relation="relation2"/>
                        <link port="RXDATAREADY.incomingPort" relation="relation2"/>
                        <link port="RXDATAREADY.outgoingPort" relation="relation3"/>
                        <link port="RXDATAREADY.outgoingPort" relation="relation4"/>
                        <link port="SLEEP.incomingPort" relation="relation6"/>
                        <link port="SLEEP.incomingPort" relation="relation7"/>
                        <link port="SLEEP.incomingPort" relation="relation11"/>
                        <link port="SLEEP.incomingPort" relation="relation12"/>
                        <link port="SLEEP.incomingPort" relation="relation16"/>
                        <link port="SLEEP.incomingPort" relation="relation17"/>
                        <link port="SLEEP.incomingPort" relation="relation19"/>
                        <link port="SLEEP.incomingPort" relation="relation21"/>
                        <link port="SLEEP.outgoingPort" relation="relation22"/>
                        <link port="RXDATALISTEN.incomingPort" relation="relation3"/>
                        <link port="RXDATALISTEN.outgoingPort" relation="relation5"/>
                        <link port="RXDATALISTEN.outgoingPort" relation="relation6"/>
                        <link port="RXDATA.incomingPort" relation="relation4"/>
                        <link port="RXDATA.incomingPort" relation="relation5"/>
                        <link port="RXDATA.outgoingPort" relation="relation7"/>
                        <link port="RXDATA.outgoingPort" relation="relation8"/>
                        <link port="RXDATA.outgoingPort" relation="relation9"/>
                        <link port="RXDATA.outgoingPort" relation="relation10"/>
                        <link port="TXACKOFFSET_FAIL.incomingPort" relation="relation8"/>
                        <link port="TXACKOFFSET_FAIL.outgoingPort" relation="relation12"/>
                        <link port="TXACKOFFSET_ACK.incomingPort" relation="relation9"/>
                        <link port="TXACKOFFSET_ACK.outgoingPort" relation="relation13"/>
                        <link port="TXACKOFFSET_OK.incomingPort" relation="relation10"/>
                        <link port="TXACKOFFSET_OK.outgoingPort" relation="relation11"/>
                        <link port="TXACKPREPARE.incomingPort" relation="relation13"/>
                        <link port="TXACKPREPARE.outgoingPort" relation="relation14"/>
                        <link port="TXACKREADY.incomingPort" relation="relation14"/>
                        <link port="TXACKREADY.outgoingPort" relation="relation15"/>
                        <link port="TXACKDELAY.incomingPort" relation="relation15"/>
                        <link port="TXACKDELAY.outgoingPort" relation="relation16"/>
                        <link port="TXACKDELAY.outgoingPort" relation="relation17"/>
                        <link port="TXACKDELAY.outgoingPort" relation="relation18"/>
                        <link port="TXACK.incomingPort" relation="relation18"/>
                        <link port="TXACK.outgoingPort" relation="relation19"/>
                        <link port="TXACK.outgoingPort" relation="relation20"/>
                        <link port="RXPROC.incomingPort" relation="relation20"/>
                        <link port="RXPROC.outgoingPort" relation="relation21"/>
                        <link port="finale.incomingPort" relation="relation22"/>
                    </entity>
                    <entity name="RXDATA" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                            <property name="iterations" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{215, 235}">
                            </property>
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 240.0}">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 280.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 320.0}">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 200.0}">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[585.0, 340.0]">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 375.0]">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 240.0}">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[575.0, 195.0]">
                            </property>
                        </port>
                        <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                            <doc>Output the current time.</doc>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{245.0, 347.384765625}">
                            </property>
                        </entity>
                        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastCapturedTime">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{440.0, 317.384765625}">
                            </property>
                        </entity>
                        <entity name="SetVariable2" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="syncCapturedTime">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{450.0, 437.384765625}">
                            </property>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{350.0, 377.384765625}">
                            </vertex>
                        </relation>
                        <link port="CurrentTime.output" relation="relation"/>
                        <link port="SetVariable.input" relation="relation"/>
                        <link port="SetVariable2.input" relation="relation"/>
                    </entity>
                    <entity name="TXACKOFFSET_OK" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="synchronize here">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{95.0, -20.0}">
                            </property>
                        </property>
                        <property name="SR Director" class="ptolemy.domains.sr.kernel.SRDirector">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{15.0, 15.0}">
                            </property>
                        </property>
                        <property name="DESYNCTIMEOUT" class="ptolemy.data.expr.Parameter" value="333">
                            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                </property>
                            </property>
                            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                            </property>
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{252.4433568735244, 287.33135321873965}">
                            </property>
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{620.0, 10.0}">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{520.0, 10.0}">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{420.0, 10.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{260.0, 10.0}">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{85.0, 80.0}">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{335.0, 10.0}">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{725.0, 10.0}">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{820.0, 155.0}">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 200.0}">
                            </property>
                        </port>
                        <entity name="Expression" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(syncCapturedTime - lastSlotTimer) - TsTxOffset">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{180.0, 155.0}">
                            </property>
                        </entity>
                        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="deSyncTimeout">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{735.0, 220.0}">
                            </property>
                        </entity>
                        <entity name="Const" class="ptolemy.actor.lib.Const">
                            <property name="value" class="ptolemy.data.expr.Parameter" value="DESYNCTIMEOUT">
                            </property>
                            <doc>Create a constant sequence.</doc>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{575.0, 220.0}">
                            </property>
                        </entity>
                        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="DAGroot == false &amp;&amp; lastPacketSender == preferredParent">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, 220.0}">
                            </property>
                        </entity>
                        <entity name="When" class="ptolemy.domains.sr.lib.When">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 155.0}">
                            </property>
                        </entity>
                        <entity name="CalculateInStateSyncTime" class="ptolemy.actor.TypedCompositeActor">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{550.0, 155.0}">
                            </property>
                            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 808}, maximized=true}">
                            </property>
                            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[966, 837]">
                            </property>
                            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6910010842067221">
                            </property>
                            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{698.7499999999999, 737.4071652719665}">
                            </property>
                            <property name="RESYNCHRONIZATIONGUARD" class="ptolemy.data.expr.Parameter" value="5">
                                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                    </property>
                                </property>
                                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                                </property>
                                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, 145.0}">
                                </property>
                            </property>
                            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[80.0, 175.0]">
                                </property>
                            </property>
                            <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 235.0}">
                                </property>
                            </port>
                            <port name="nextFire" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{1035.0, 255.0}">
                                </property>
                            </port>
                            <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="currentValue &lt; (syncCapturedTime - lastSlotTimer) || nextSlotTimer-currentValue &lt; RESYNCHRONIZATIONGUARD">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[515.0, 525.0]">
                                </property>
                                <port name="currentValue" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                                <doc>Output the current time.</doc>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{175.0, 340.0}">
                                </property>
                            </entity>
                            <entity name="BooleanSelect" class="ptolemy.actor.lib.BooleanSelect">
                                <property name="BooleanSelectIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={17, -12, 815, 518}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                    <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-13.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                        <property name="width" class="ptolemy.data.expr.Parameter" value="35.0">
                                        </property>
                                        <property name="height" class="ptolemy.data.expr.Parameter" value="41.0">
                                        </property>
                                        <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                                        </property>
                                        <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                    </property>
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                    </property>
                                    <property name="annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="T">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, -25.0]">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, 10.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-7.0, 0.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="5.41">
                                        </property>
                                    </property>
                                    <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-5.41">
                                        </property>
                                    </property>
                                    <property name="annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="F">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="{-29.0, 10.0}">
                                        </property>
                                    </property>
                                    <property name="line8" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-14.14">
                                        </property>
                                    </property>
                                    <property name="line9" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, -10.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line6" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-13.0, 20.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,1.0,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-30.0">
                                        </property>
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{845.0, 255.0}">
                                </property>
                                <port name="trueInput" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                                    </property>
                                </port>
                                <port name="falseInput" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                                    </property>
                                </port>
                                <port name="control" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
                                    </property>
                                </port>
                            </entity>
                            <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="asn">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{955.0, 450.0}">
                                </property>
                            </entity>
                            <entity name="Expression5" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="asn + 1">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[750.0, 460.0]">
                                </property>
                                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="BooleanSwitch" class="ptolemy.actor.lib.BooleanSwitch">
                                <property name="BooleanSwitchIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-15.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                        <property name="width" class="ptolemy.data.expr.Parameter" value="33.0">
                                        </property>
                                        <property name="height" class="ptolemy.data.expr.Parameter" value="40.0">
                                        </property>
                                        <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-30.0, 0.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, -10.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-30.0, 0.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line6" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, 10.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                    </property>
                                    <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="14.14">
                                        </property>
                                    </property>
                                    <property name="line8" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line9" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="5.41">
                                        </property>
                                    </property>
                                    <property name="line10" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-5.41">
                                        </property>
                                    </property>
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={5, 136, 815, 518}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                    <property name="annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="T">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, -25.0">
                                        </property>
                                    </property>
                                    <property name="annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="F">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-10.0, 11.0]">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-15.0, 20.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,1.0,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-30.0">
                                        </property>
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{840.0, 460.0}">
                                </property>
                            </entity>
                            <entity name="Discard" class="ptolemy.actor.lib.Discard">
                                <property name="DiscardIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-22.0, 3.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-2.0, -18.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="20.0">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-17.0, 8.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="30.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-12.0, 13.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="20.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-7.0, 18.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 195, 813, 510}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{965.0, 535.0}">
                                </property>
                                <port name="input" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                                    </property>
                                </port>
                            </entity>
                            <entity name="Expression4" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(nextSlotTimer - currentTime) + timeCorrection">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{505.0, 330.0}">
                                </property>
                                <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                                <port name="currentTime" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(nextSlotTimer - currentTime) + TsSlotDuration + timeCorrection">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{520.0, 245.0}">
                                </property>
                                <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                                <port name="currentTime" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{265.0, 235.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;.Expression4.timeCorrection&quot;,x=815.0,y=315.0}, tail={id=&quot;relation5.vertex1&quot;,x=960.0,y=445.0}, points={1730.0,305.0} },{ head={id=&quot;.Expression3.timeCorrection&quot;,x=815.0,y=240.0}, tail={id=&quot;relation5.vertex1&quot;,x=960.0,y=445.0}, points={} },{ head={id=&quot;.Expression4.timeCorrection&quot;,x=815.0,y=315.0}, tail={id=&quot;relation4.vertex1&quot;,x=690.0,y=240.0}, points={690.0,315.0} },{ head={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, tail={id=&quot;Expression3.timeCorrection&quot;,x=520.0,y=245.0}, points={} },{ head={id=&quot;Expression4.timeCorrection&quot;,x=505.0,y=330.0}, tail={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, points={265.0,320.0} },{ head={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, tail={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{805.0, 525.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.control&quot;,x=845.0,y=255.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={845.0,415.0,805.0,415.0} },{ head={id=&quot;BooleanSwitch.control&quot;,x=840.0,y=460.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={840.0,525.0} },{ head={id=&quot;Expression2.output&quot;,x=515.0,y=525.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable.input&quot;,x=955.0,y=450.0}, tail={id=&quot;BooleanSwitch.trueOutput&quot;,x=840.0,y=460.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSwitch.falseOutput&quot;,x=840.0,y=460.0}, tail={id=&quot;Discard.input&quot;,x=965.0,y=535.0}, points={915.0,470.0,915.0,500.0,965.0,500.0} } }">
                                </property>
                            </relation>
                            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{110.0, 235.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;relation11.vertex1&quot;,x=110.0,y=240.0}, tail={id=&quot;relation4.vertex1&quot;,x=690.0,y=240.0}, points={110.0,405.0} },{ head={id=&quot;CurrentTime.trigger&quot;,x=175.0,y=340.0}, tail={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, points={110.0,340.0} },{ head={id=&quot;timeCorrection._location&quot;,x=20.0,y=235.0}, tail={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{1010.0, 255.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable2.input&quot;,x=1520.0,y=505.0}, tail={id=&quot;relation9.vertex1&quot;,x=1165.0,y=250.0}, points={1140.0,335.0} },{ head={id=&quot;nextFire._location&quot;,x=1035.0,y=255.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={} },{ head={id=&quot;BooleanSelect.output&quot;,x=845.0,y=255.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={} },{ head={id=&quot;Expression.relativeTimer&quot;,x=1170.0,y=385.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={1010.0,375.0} } }">
                                </property>
                            </relation>
                            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{250.0, 340.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.currecntTime&quot;,x=1170.0,y=385.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={250.0,395.0} },{ head={id=&quot;CurrentTime.output&quot;,x=175.0,y=340.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={} },{ head={id=&quot;Expression2.currentValue&quot;,x=515.0,y=525.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={250.0,525.0} },{ head={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, tail={id=&quot;Expression4.currentTime&quot;,x=505.0,y=330.0}, points={} },{ head={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, tail={id=&quot;Expression3.currentTime&quot;,x=520.0,y=245.0}, points={250.0,255.0} } }">
                                </property>
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.falseInput&quot;,x=995.0,y=250.0}, tail={id=&quot;.Expression3.output&quot;,x=815.0,y=240.0}, points={800.0,100.0,800.0,155.0} },{ head={id=&quot;BooleanSelect.falseInput&quot;,x=845.0,y=255.0}, tail={id=&quot;Expression4.output&quot;,x=505.0,y=330.0}, points={805.0,265.0,805.0,330.0} } }">
                                </property>
                            </relation>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.trueInput&quot;,x=845.0,y=255.0}, tail={id=&quot;Expression3.output&quot;,x=520.0,y=245.0}, points={} } }">
                                </property>
                            </relation>
                            <link port="timeCorrection" relation="relation11"/>
                            <link port="nextFire" relation="relation9"/>
                            <link port="Expression2.output" relation="relation5"/>
                            <link port="Expression2.currentValue" relation="relation13"/>
                            <link port="CurrentTime.output" relation="relation13"/>
                            <link port="CurrentTime.trigger" relation="relation11"/>
                            <link port="BooleanSelect.trueInput" relation="relation"/>
                            <link port="BooleanSelect.falseInput" relation="relation3"/>
                            <link port="BooleanSelect.control" relation="relation5"/>
                            <link port="BooleanSelect.output" relation="relation9"/>
                            <link port="SetVariable.input" relation="relation6"/>
                            <link port="Expression5.output" relation="relation8"/>
                            <link port="Expression5.trigger" relation="relation5"/>
                            <link port="BooleanSwitch.input" relation="relation8"/>
                            <link port="BooleanSwitch.control" relation="relation5"/>
                            <link port="BooleanSwitch.trueOutput" relation="relation6"/>
                            <link port="BooleanSwitch.falseOutput" relation="relation7"/>
                            <link port="Discard.input" relation="relation7"/>
                            <link port="Expression4.output" relation="relation3"/>
                            <link port="Expression4.timeCorrection" relation="relation4"/>
                            <link port="Expression4.currentTime" relation="relation13"/>
                            <link port="Expression3.output" relation="relation"/>
                            <link port="Expression3.timeCorrection" relation="relation4"/>
                            <link port="Expression3.currentTime" relation="relation13"/>
                            <link relation1="relation4" relation2="relation11"/>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable.input&quot;,x=735.0,y=220.0}, tail={id=&quot;Const.output&quot;,x=575.0,y=220.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=180.0,y=155.0}, tail={id=&quot;When.input&quot;,x=385.0,y=155.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{445.0, 155.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;CalculateInStateSyncTime.timeCorrection&quot;,x=550.0,y=155.0}, tail={id=&quot;relation3.vertex1&quot;,x=445.0,y=155.0}, points={} },{ head={id=&quot;When.output&quot;,x=385.0,y=155.0}, tail={id=&quot;relation3.vertex1&quot;,x=445.0,y=155.0}, points={} },{ head={id=&quot;Const.trigger&quot;,x=575.0,y=220.0}, tail={id=&quot;relation3.vertex1&quot;,x=445.0,y=155.0}, points={445.0,220.0} } }">
                            </property>
                        </relation>
                        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{735.0, 155.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;syncSchedule._location&quot;,x=820.0,y=155.0}, tail={id=&quot;relation4.vertex1&quot;,x=735.0,y=155.0}, points={} },{ head={id=&quot;CalculateInStateSyncTime.nextFire&quot;,x=550.0,y=155.0}, tail={id=&quot;relation4.vertex1&quot;,x=735.0,y=155.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression2.output&quot;,x=150.0,y=220.0}, tail={id=&quot;When.control&quot;,x=385.0,y=155.0}, points={385.0,220.0} } }">
                            </property>
                        </relation>
                        <link port="syncSchedule" relation="relation4"/>
                        <link port="Expression.output" relation="relation2"/>
                        <link port="SetVariable.input" relation="relation"/>
                        <link port="Const.output" relation="relation"/>
                        <link port="Const.trigger" relation="relation3"/>
                        <link port="Expression2.output" relation="relation5"/>
                        <link port="When.input" relation="relation2"/>
                        <link port="When.output" relation="relation3"/>
                        <link port="When.control" relation="relation5"/>
                        <link port="CalculateInStateSyncTime.timeCorrection" relation="relation3"/>
                        <link port="CalculateInStateSyncTime.nextFire" relation="relation4"/>
                    </entity>
                    <entity name="TXACKDELAY" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                            <property name="iterations" class="ptolemy.data.expr.Parameter" value="1">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{-65.0, 205.0}">
                            </property>
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{305.0, 200.0}">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{205.0, 200.0}">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 200.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{30.0, 200.0}">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{615.0, 200.0}">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{670.0, 385.0}">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{410.0, 200.0}">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{510.0, 200.0}">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[575.0, 195.0]">
                            </property>
                        </port>
                        <entity name="Expression" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="- ((syncCapturedTime - lastSlotTimer) - TsTxOffset) ">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{45.0, 320.0}">
                            </property>
                        </entity>
                        <entity name="RecordAssembler" class="ptolemy.actor.lib.RecordAssembler">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{545.0, 365.0}">
                            </property>
                            <port name="sender" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                            </port>
                            <port name="ackTimeCorrection" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                            </port>
                            <port name="type" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                                </property>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                            </port>
                        </entity>
                        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="&quot;ACK&quot;">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 395.0}">
                            </property>
                            <port name="output" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                                </property>
                            </port>
                        </entity>
                        <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="localAddress">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{380.0, 270.0}">
                            </property>
                            <port name="output" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                            </port>
                        </entity>
                        <entity name="DoubleToInt" class="ptolemy.actor.lib.python.PythonScript">
                            <property name="script" class="ptolemy.kernel.util.StringAttribute" value="# This is a template.&#10;import time&#10;import ptolemy.data&#10;class Main :&#10;  &quot;This actor takes a double value and convert to an int&quot;&#10;  def fire(self) :&#10;    dataToken = self.data.get(0)&#10;    intValue = int(dataToken.doubleValue())&#10;    self.out.broadcast(ptolemy.data.IntToken(intValue))&#10;    return&#10;">
                            </property>
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.TextEditorConfigureFactory">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{275.0, 320.0}">
                            </property>
                            <property name="format" class="ptolemy.data.expr.Parameter" value="&quot;%10.6f&quot;">
                            </property>
                            <port name="data" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                            </port>
                            <port name="out" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                                </property>
                            </port>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;RecordAssembler.type&quot;,x=545.0,y=365.0}, tail={id=&quot;Expression2.output&quot;,x=385.0,y=395.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;RecordAssembler.sender&quot;,x=545.0,y=365.0}, tail={id=&quot;Expression3.output&quot;,x=380.0,y=270.0}, points={455.0,375.0,455.0,270.0} } }">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{440.0, 320.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;DoubleToInt.out&quot;,x=275.0,y=320.0}, tail={id=&quot;relation3.vertex1&quot;,x=440.0,y=320.0}, points={} },{ head={id=&quot;RecordAssembler.ackTimeCorrection&quot;,x=545.0,y=365.0}, tail={id=&quot;relation3.vertex1&quot;,x=440.0,y=320.0}, points={440.0,385.0} } }">
                            </property>
                        </relation>
                        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=45.0,y=320.0}, tail={id=&quot;DoubleToInt.data&quot;,x=275.0,y=320.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;toPhysical._location&quot;,x=670.0,y=385.0}, tail={id=&quot;RecordAssembler.output&quot;,x=545.0,y=365.0}, points={} } }">
                            </property>
                        </relation>
                        <link port="toPhysical" relation="relation5"/>
                        <link port="Expression.output" relation="relation4"/>
                        <link port="RecordAssembler.output" relation="relation5"/>
                        <link port="RecordAssembler.sender" relation="relation2"/>
                        <link port="RecordAssembler.ackTimeCorrection" relation="relation3"/>
                        <link port="RecordAssembler.type" relation="relation"/>
                        <link port="Expression2.output" relation="relation"/>
                        <link port="Expression3.output" relation="relation2"/>
                        <link port="DoubleToInt.data" relation="relation4"/>
                        <link port="DoubleToInt.out" relation="relation3"/>
                    </entity>
                    <entity name="RXPROC" class="ptolemy.domains.modal.modal.Refinement">
                        <property name="synchronize" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                            <property name="text" class="ptolemy.kernel.util.StringAttribute" value="synchronize from ack here">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{90.0, -30.0}">
                            </property>
                        </property>
                        <property name="SR Director" class="ptolemy.domains.sr.kernel.SRDirector">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{10.0, 0.0}">
                            </property>
                        </property>
                        <property name="DESYNCTIMEOUT" class="ptolemy.data.expr.Parameter" value="333">
                            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                </property>
                            </property>
                            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                            </property>
                            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{66.41365559895837, 300.37837727864587}">
                            </property>
                        </property>
                        <port name="startOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{680.0, -5.0}">
                            </property>
                        </port>
                        <port name="endOfFrame" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, -5.0}">
                            </property>
                        </port>
                        <port name="dataToSend" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{480.0, -5.0}">
                            </property>
                        </port>
                        <port name="cellType" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{315.0, -5.0}">
                            </property>
                        </port>
                        <port name="toApplication" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{80.0, 65.0}">
                            </property>
                        </port>
                        <port name="toPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{395.0, -5.0}">
                            </property>
                        </port>
                        <port name="fromPhysical" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="input"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{780.0, -5.0}">
                            </property>
                        </port>
                        <port name="syncSchedule" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{815.0, 145.0}">
                            </property>
                        </port>
                        <port name="powerStatus" class="ptolemy.domains.modal.modal.RefinementPort">
                            <property name="output"/>
                            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="[855.0, 40.0]">
                            </property>
                        </port>
                        <entity name="Expression" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(syncCapturedTime - lastSlotTimer) - TsTxOffset">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{175.0, 145.0}">
                            </property>
                        </entity>
                        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="deSyncTimeout">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{730.0, 205.0}">
                            </property>
                        </entity>
                        <entity name="Const" class="ptolemy.actor.lib.Const">
                            <property name="value" class="ptolemy.data.expr.Parameter" value="DESYNCTIMEOUT">
                            </property>
                            <doc>Create a constant sequence.</doc>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{570.0, 205.0}">
                            </property>
                        </entity>
                        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="DAGroot == false &amp;&amp; lastPacketSender == preferredParent">
                            </property>
                            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                </property>
                                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                </property>
                                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                </property>
                            </property>
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 210.0}">
                            </property>
                        </entity>
                        <entity name="When" class="ptolemy.domains.sr.lib.When">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{380.0, 145.0}">
                            </property>
                        </entity>
                        <entity name="CalculateInStateSyncTime" class="ptolemy.actor.TypedCompositeActor">
                            <property name="_location" class="ptolemy.kernel.util.Location" value="{545.0, 145.0}">
                            </property>
                            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 808}, maximized=true}">
                            </property>
                            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[966, 837]">
                            </property>
                            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6910010842067221">
                            </property>
                            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{698.7499999999999, 737.4071652719665}">
                            </property>
                            <property name="RESYNCHRONIZATIONGUARD" class="ptolemy.data.expr.Parameter" value="5">
                                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                                    </property>
                                </property>
                                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                                </property>
                                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, 145.0}">
                                </property>
                            </property>
                            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[80.0, 175.0]">
                                </property>
                            </property>
                            <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                <property name="input"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 235.0}">
                                </property>
                            </port>
                            <port name="nextFire" class="ptolemy.actor.TypedIOPort">
                                <property name="output"/>
                                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{1035.0, 255.0}">
                                </property>
                            </port>
                            <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="currentValue &lt; (syncCapturedTime - lastSlotTimer) || nextSlotTimer-currentValue &lt; RESYNCHRONIZATIONGUARD">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[515.0, 525.0]">
                                </property>
                                <port name="currentValue" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="CurrentTime" class="ptolemy.actor.lib.CurrentTime">
                                <doc>Output the current time.</doc>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{175.0, 340.0}">
                                </property>
                            </entity>
                            <entity name="BooleanSelect" class="ptolemy.actor.lib.BooleanSelect">
                                <property name="BooleanSelectIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={17, -12, 815, 518}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                    <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-13.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                        <property name="width" class="ptolemy.data.expr.Parameter" value="35.0">
                                        </property>
                                        <property name="height" class="ptolemy.data.expr.Parameter" value="41.0">
                                        </property>
                                        <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                                        </property>
                                        <property name="fillColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                    </property>
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                    </property>
                                    <property name="annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="T">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, -25.0]">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, 10.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-7.0, 0.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="5.41">
                                        </property>
                                    </property>
                                    <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-5.41">
                                        </property>
                                    </property>
                                    <property name="annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="F">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="{-29.0, 10.0}">
                                        </property>
                                    </property>
                                    <property name="line8" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-8.0, 0.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="-14.14">
                                        </property>
                                    </property>
                                    <property name="line9" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-29.0, -10.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line6" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-13.0, 20.0]">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,1.0,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-30.0">
                                        </property>
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{845.0, 255.0}">
                                </property>
                                <port name="trueInput" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                                    </property>
                                </port>
                                <port name="falseInput" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="0">
                                    </property>
                                </port>
                                <port name="control" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
                                    </property>
                                </port>
                            </entity>
                            <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="asn">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{955.0, 450.0}">
                                </property>
                            </entity>
                            <entity name="Expression5" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="asn + 1">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="[750.0, 460.0]">
                                </property>
                                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="BooleanSwitch" class="ptolemy.actor.lib.BooleanSwitch">
                                <property name="BooleanSwitchIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="rectangle" class="ptolemy.vergil.kernel.attributes.RectangleAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-15.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="none">
                                        </property>
                                        <property name="width" class="ptolemy.data.expr.Parameter" value="33.0">
                                        </property>
                                        <property name="height" class="ptolemy.data.expr.Parameter" value="40.0">
                                        </property>
                                        <property name="centered" class="ptolemy.data.expr.Parameter" value="true">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-30.0, 0.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, -10.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-30.0, 0.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line6" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, 10.0">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-10.0">
                                        </property>
                                    </property>
                                    <property name="line7" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="14.14">
                                        </property>
                                    </property>
                                    <property name="line8" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                    </property>
                                    <property name="line9" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="5.41">
                                        </property>
                                    </property>
                                    <property name="line10" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-20.0, 0.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.6,0.6,0.6,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="13.07">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-5.41">
                                        </property>
                                    </property>
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={5, 136, 815, 518}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                    <property name="annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="T">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-10.0, -25.0">
                                        </property>
                                    </property>
                                    <property name="annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                                        <property name="textSize" class="ptolemy.data.expr.Parameter" value="10">
                                        </property>
                                        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="F">
                                        </property>
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-10.0, 11.0]">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="-15.0, 20.0">
                                        </property>
                                        <property name="lineColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0,0.0,1.0,1.0}">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="-30.0">
                                        </property>
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{840.0, 460.0}">
                                </property>
                            </entity>
                            <entity name="Discard" class="ptolemy.actor.lib.Discard">
                                <property name="DiscardIcon" class="ptolemy.vergil.icon.EditorIcon">
                                    <property name="line" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-22.0, 3.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="40.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line2" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-2.0, -18.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="20.0">
                                        </property>
                                    </property>
                                    <property name="line3" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-17.0, 8.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="30.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line4" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-12.0, 13.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="20.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="line5" class="ptolemy.vergil.kernel.attributes.LineAttribute">
                                        <property name="_location" class="ptolemy.kernel.util.Location" value="[-7.0, 18.0]">
                                        </property>
                                        <property name="x" class="ptolemy.data.expr.Parameter" value="10.0">
                                        </property>
                                        <property name="y" class="ptolemy.data.expr.Parameter" value="0.0">
                                        </property>
                                    </property>
                                    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 195, 813, 510}, maximized=false}">
                                    </property>
                                    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[600, 400]">
                                    </property>
                                    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="4.0">
                                    </property>
                                    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{0.0, 0.0}">
                                    </property>
                                </property>
                                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{965.0, 535.0}">
                                </property>
                                <port name="input" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="multiport"/>
                                    <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                                    </property>
                                </port>
                            </entity>
                            <entity name="Expression4" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(nextSlotTimer - currentTime) + timeCorrection">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{505.0, 330.0}">
                                </property>
                                <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                                <port name="currentTime" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(nextSlotTimer - currentTime) + TsSlotDuration + timeCorrection">
                                </property>
                                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                                    </property>
                                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                                    </property>
                                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                                    </property>
                                </property>
                                <property name="_location" class="ptolemy.kernel.util.Location" value="{520.0, 245.0}">
                                </property>
                                <port name="timeCorrection" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                                <port name="currentTime" class="ptolemy.actor.TypedIOPort">
                                    <property name="input"/>
                                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                                    </property>
                                </port>
                            </entity>
                            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{265.0, 235.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;.Expression4.timeCorrection&quot;,x=815.0,y=315.0}, tail={id=&quot;relation5.vertex1&quot;,x=960.0,y=445.0}, points={1730.0,305.0} },{ head={id=&quot;.Expression3.timeCorrection&quot;,x=815.0,y=240.0}, tail={id=&quot;relation5.vertex1&quot;,x=960.0,y=445.0}, points={} },{ head={id=&quot;.Expression4.timeCorrection&quot;,x=815.0,y=315.0}, tail={id=&quot;relation4.vertex1&quot;,x=690.0,y=240.0}, points={690.0,315.0} },{ head={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, tail={id=&quot;Expression3.timeCorrection&quot;,x=520.0,y=245.0}, points={} },{ head={id=&quot;Expression4.timeCorrection&quot;,x=505.0,y=330.0}, tail={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, points={265.0,320.0} },{ head={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, tail={id=&quot;relation4.vertex1&quot;,x=265.0,y=235.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{805.0, 525.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.control&quot;,x=845.0,y=255.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={845.0,415.0,805.0,415.0} },{ head={id=&quot;BooleanSwitch.control&quot;,x=840.0,y=460.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={840.0,525.0} },{ head={id=&quot;Expression2.output&quot;,x=515.0,y=525.0}, tail={id=&quot;relation5.vertex1&quot;,x=805.0,y=525.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable.input&quot;,x=955.0,y=450.0}, tail={id=&quot;BooleanSwitch.trueOutput&quot;,x=840.0,y=460.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSwitch.falseOutput&quot;,x=840.0,y=460.0}, tail={id=&quot;Discard.input&quot;,x=965.0,y=535.0}, points={915.0,470.0,915.0,500.0,965.0,500.0} } }">
                                </property>
                            </relation>
                            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                            </relation>
                            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{110.0, 235.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;relation11.vertex1&quot;,x=110.0,y=240.0}, tail={id=&quot;relation4.vertex1&quot;,x=690.0,y=240.0}, points={110.0,405.0} },{ head={id=&quot;CurrentTime.trigger&quot;,x=175.0,y=340.0}, tail={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, points={110.0,340.0} },{ head={id=&quot;timeCorrection._location&quot;,x=20.0,y=235.0}, tail={id=&quot;relation11.vertex1&quot;,x=110.0,y=235.0}, points={} } }">
                                </property>
                            </relation>
                            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{1010.0, 255.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable2.input&quot;,x=1520.0,y=505.0}, tail={id=&quot;relation9.vertex1&quot;,x=1165.0,y=250.0}, points={1140.0,335.0} },{ head={id=&quot;nextFire._location&quot;,x=1035.0,y=255.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={} },{ head={id=&quot;BooleanSelect.output&quot;,x=845.0,y=255.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={} },{ head={id=&quot;Expression.relativeTimer&quot;,x=1170.0,y=385.0}, tail={id=&quot;relation9.vertex1&quot;,x=1010.0,y=255.0}, points={1010.0,375.0} } }">
                                </property>
                            </relation>
                            <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                                </property>
                                <vertex name="vertex1" value="{250.0, 340.0}">
                                </vertex>
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.currecntTime&quot;,x=1170.0,y=385.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={250.0,395.0} },{ head={id=&quot;CurrentTime.output&quot;,x=175.0,y=340.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={} },{ head={id=&quot;Expression2.currentValue&quot;,x=515.0,y=525.0}, tail={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, points={250.0,525.0} },{ head={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, tail={id=&quot;Expression4.currentTime&quot;,x=505.0,y=330.0}, points={} },{ head={id=&quot;relation13.vertex1&quot;,x=250.0,y=340.0}, tail={id=&quot;Expression3.currentTime&quot;,x=520.0,y=245.0}, points={250.0,255.0} } }">
                                </property>
                            </relation>
                            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.falseInput&quot;,x=995.0,y=250.0}, tail={id=&quot;.Expression3.output&quot;,x=815.0,y=240.0}, points={800.0,100.0,800.0,155.0} },{ head={id=&quot;BooleanSelect.falseInput&quot;,x=845.0,y=255.0}, tail={id=&quot;Expression4.output&quot;,x=505.0,y=330.0}, points={805.0,265.0,805.0,330.0} } }">
                                </property>
                            </relation>
                            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSelect.trueInput&quot;,x=845.0,y=255.0}, tail={id=&quot;Expression3.output&quot;,x=520.0,y=245.0}, points={} } }">
                                </property>
                            </relation>
                            <link port="timeCorrection" relation="relation11"/>
                            <link port="nextFire" relation="relation9"/>
                            <link port="Expression2.output" relation="relation5"/>
                            <link port="Expression2.currentValue" relation="relation13"/>
                            <link port="CurrentTime.output" relation="relation13"/>
                            <link port="CurrentTime.trigger" relation="relation11"/>
                            <link port="BooleanSelect.trueInput" relation="relation"/>
                            <link port="BooleanSelect.falseInput" relation="relation3"/>
                            <link port="BooleanSelect.control" relation="relation5"/>
                            <link port="BooleanSelect.output" relation="relation9"/>
                            <link port="SetVariable.input" relation="relation6"/>
                            <link port="Expression5.output" relation="relation8"/>
                            <link port="Expression5.trigger" relation="relation5"/>
                            <link port="BooleanSwitch.input" relation="relation8"/>
                            <link port="BooleanSwitch.control" relation="relation5"/>
                            <link port="BooleanSwitch.trueOutput" relation="relation6"/>
                            <link port="BooleanSwitch.falseOutput" relation="relation7"/>
                            <link port="Discard.input" relation="relation7"/>
                            <link port="Expression4.output" relation="relation3"/>
                            <link port="Expression4.timeCorrection" relation="relation4"/>
                            <link port="Expression4.currentTime" relation="relation13"/>
                            <link port="Expression3.output" relation="relation"/>
                            <link port="Expression3.timeCorrection" relation="relation4"/>
                            <link port="Expression3.currentTime" relation="relation13"/>
                            <link relation1="relation4" relation2="relation11"/>
                        </entity>
                        <relation name="relation" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;SetVariable.input&quot;,x=730.0,y=205.0}, tail={id=&quot;Const.output&quot;,x=570.0,y=205.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=175.0,y=145.0}, tail={id=&quot;When.input&quot;,x=380.0,y=145.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{440.0, 145.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;CalculateInStateSyncTime.timeCorrection&quot;,x=545.0,y=145.0}, tail={id=&quot;relation3.vertex1&quot;,x=440.0,y=145.0}, points={} },{ head={id=&quot;When.output&quot;,x=380.0,y=145.0}, tail={id=&quot;relation3.vertex1&quot;,x=440.0,y=145.0}, points={} },{ head={id=&quot;Const.trigger&quot;,x=570.0,y=205.0}, tail={id=&quot;relation3.vertex1&quot;,x=440.0,y=145.0}, points={440.0,205.0} } }">
                            </property>
                        </relation>
                        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                            </property>
                            <vertex name="vertex1" value="{730.0, 145.0}">
                            </vertex>
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;syncSchedule._location&quot;,x=815.0,y=145.0}, tail={id=&quot;relation4.vertex1&quot;,x=730.0,y=145.0}, points={} },{ head={id=&quot;CalculateInStateSyncTime.nextFire&quot;,x=545.0,y=145.0}, tail={id=&quot;relation4.vertex1&quot;,x=730.0,y=145.0}, points={} } }">
                            </property>
                        </relation>
                        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                            <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression2.output&quot;,x=145.0,y=210.0}, tail={id=&quot;When.control&quot;,x=380.0,y=145.0}, points={380.0,210.0} } }">
                            </property>
                        </relation>
                        <link port="syncSchedule" relation="relation4"/>
                        <link port="Expression.output" relation="relation2"/>
                        <link port="SetVariable.input" relation="relation"/>
                        <link port="Const.output" relation="relation"/>
                        <link port="Const.trigger" relation="relation3"/>
                        <link port="Expression2.output" relation="relation5"/>
                        <link port="When.input" relation="relation2"/>
                        <link port="When.output" relation="relation3"/>
                        <link port="When.control" relation="relation5"/>
                        <link port="CalculateInStateSyncTime.timeCorrection" relation="relation3"/>
                        <link port="CalculateInStateSyncTime.nextFire" relation="relation4"/>
                    </entity>
                    <relation name="startOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="endOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="dataToSendRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="cellTypeRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="toApplicationRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="toPhysicalRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="fromPhysicalRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="syncScheduleRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <relation name="powerStatusRelation" class="ptolemy.actor.TypedIORelation">
                        <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                        </property>
                    </relation>
                    <link port="startOfFrame" relation="startOfFrameRelation"/>
                    <link port="endOfFrame" relation="endOfFrameRelation"/>
                    <link port="dataToSend" relation="dataToSendRelation"/>
                    <link port="cellType" relation="cellTypeRelation"/>
                    <link port="toApplication" relation="toApplicationRelation"/>
                    <link port="toPhysical" relation="toPhysicalRelation"/>
                    <link port="fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="syncSchedule" relation="syncScheduleRelation"/>
                    <link port="powerStatus" relation="powerStatusRelation"/>
                    <link port="_Controller.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="_Controller.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="_Controller.dataToSend" relation="dataToSendRelation"/>
                    <link port="_Controller.cellType" relation="cellTypeRelation"/>
                    <link port="_Controller.toApplication" relation="toApplicationRelation"/>
                    <link port="_Controller.toPhysical" relation="toPhysicalRelation"/>
                    <link port="_Controller.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="_Controller.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="_Controller.powerStatus" relation="powerStatusRelation"/>
                    <link port="RXDATA.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="RXDATA.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="RXDATA.dataToSend" relation="dataToSendRelation"/>
                    <link port="RXDATA.cellType" relation="cellTypeRelation"/>
                    <link port="RXDATA.toApplication" relation="toApplicationRelation"/>
                    <link port="RXDATA.toPhysical" relation="toPhysicalRelation"/>
                    <link port="RXDATA.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="RXDATA.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="RXDATA.powerStatus" relation="powerStatusRelation"/>
                    <link port="TXACKOFFSET_OK.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="TXACKOFFSET_OK.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="TXACKOFFSET_OK.dataToSend" relation="dataToSendRelation"/>
                    <link port="TXACKOFFSET_OK.cellType" relation="cellTypeRelation"/>
                    <link port="TXACKOFFSET_OK.toApplication" relation="toApplicationRelation"/>
                    <link port="TXACKOFFSET_OK.toPhysical" relation="toPhysicalRelation"/>
                    <link port="TXACKOFFSET_OK.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="TXACKOFFSET_OK.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="TXACKOFFSET_OK.powerStatus" relation="powerStatusRelation"/>
                    <link port="TXACKDELAY.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="TXACKDELAY.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="TXACKDELAY.dataToSend" relation="dataToSendRelation"/>
                    <link port="TXACKDELAY.cellType" relation="cellTypeRelation"/>
                    <link port="TXACKDELAY.toApplication" relation="toApplicationRelation"/>
                    <link port="TXACKDELAY.toPhysical" relation="toPhysicalRelation"/>
                    <link port="TXACKDELAY.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="TXACKDELAY.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="TXACKDELAY.powerStatus" relation="powerStatusRelation"/>
                    <link port="RXPROC.startOfFrame" relation="startOfFrameRelation"/>
                    <link port="RXPROC.endOfFrame" relation="endOfFrameRelation"/>
                    <link port="RXPROC.dataToSend" relation="dataToSendRelation"/>
                    <link port="RXPROC.cellType" relation="cellTypeRelation"/>
                    <link port="RXPROC.toApplication" relation="toApplicationRelation"/>
                    <link port="RXPROC.toPhysical" relation="toPhysicalRelation"/>
                    <link port="RXPROC.fromPhysical" relation="fromPhysicalRelation"/>
                    <link port="RXPROC.syncSchedule" relation="syncScheduleRelation"/>
                    <link port="RXPROC.powerStatus" relation="powerStatusRelation"/>
                </entity>
                <relation name="startOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="endOfFrameRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="dataToSendRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="cellTypeRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="toApplicationRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="toPhysicalRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="fromPhysicalRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="syncScheduleRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <relation name="powerStatusRelation" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
                    </property>
                </relation>
                <link port="startOfFrame" relation="startOfFrameRelation"/>
                <link port="endOfFrame" relation="endOfFrameRelation"/>
                <link port="dataToSend" relation="dataToSendRelation"/>
                <link port="cellType" relation="cellTypeRelation"/>
                <link port="toApplication" relation="toApplicationRelation"/>
                <link port="toPhysical" relation="toPhysicalRelation"/>
                <link port="fromPhysical" relation="fromPhysicalRelation"/>
                <link port="syncSchedule" relation="syncScheduleRelation"/>
                <link port="powerStatus" relation="powerStatusRelation"/>
                <link port="_Controller.startOfFrame" relation="startOfFrameRelation"/>
                <link port="_Controller.endOfFrame" relation="endOfFrameRelation"/>
                <link port="_Controller.dataToSend" relation="dataToSendRelation"/>
                <link port="_Controller.cellType" relation="cellTypeRelation"/>
                <link port="_Controller.toApplication" relation="toApplicationRelation"/>
                <link port="_Controller.toPhysical" relation="toPhysicalRelation"/>
                <link port="_Controller.fromPhysical" relation="fromPhysicalRelation"/>
                <link port="_Controller.syncSchedule" relation="syncScheduleRelation"/>
                <link port="_Controller.powerStatus" relation="powerStatusRelation"/>
                <link port="rx.startOfFrame" relation="startOfFrameRelation"/>
                <link port="rx.endOfFrame" relation="endOfFrameRelation"/>
                <link port="rx.dataToSend" relation="dataToSendRelation"/>
                <link port="rx.cellType" relation="cellTypeRelation"/>
                <link port="rx.toApplication" relation="toApplicationRelation"/>
                <link port="rx.toPhysical" relation="toPhysicalRelation"/>
                <link port="rx.fromPhysical" relation="fromPhysicalRelation"/>
                <link port="rx.syncSchedule" relation="syncScheduleRelation"/>
                <link port="tx_power.startOfFrame" relation="startOfFrameRelation"/>
                <link port="tx_power.endOfFrame" relation="endOfFrameRelation"/>
                <link port="tx_power.dataToSend" relation="dataToSendRelation"/>
                <link port="tx_power.cellType" relation="cellTypeRelation"/>
                <link port="tx_power.toApplication" relation="toApplicationRelation"/>
                <link port="tx_power.toPhysical" relation="toPhysicalRelation"/>
                <link port="tx_power.fromPhysical" relation="fromPhysicalRelation"/>
                <link port="tx_power.syncSchedule" relation="syncScheduleRelation"/>
                <link port="tx_power.powerStatus" relation="powerStatusRelation"/>
                <link port="synchronization_power.startOfFrame" relation="startOfFrameRelation"/>
                <link port="synchronization_power.endOfFrame" relation="endOfFrameRelation"/>
                <link port="synchronization_power.dataToSend" relation="dataToSendRelation"/>
                <link port="synchronization_power.cellType" relation="cellTypeRelation"/>
                <link port="synchronization_power.toApplication" relation="toApplicationRelation"/>
                <link port="synchronization_power.toPhysical" relation="toPhysicalRelation"/>
                <link port="synchronization_power.fromPhysical" relation="fromPhysicalRelation"/>
                <link port="synchronization_power.syncSchedule" relation="syncScheduleRelation"/>
                <link port="synchronization_power.powerStatus" relation="powerStatusRelation"/>
                <link port="rx_power.startOfFrame" relation="startOfFrameRelation"/>
                <link port="rx_power.endOfFrame" relation="endOfFrameRelation"/>
                <link port="rx_power.dataToSend" relation="dataToSendRelation"/>
                <link port="rx_power.cellType" relation="cellTypeRelation"/>
                <link port="rx_power.toApplication" relation="toApplicationRelation"/>
                <link port="rx_power.toPhysical" relation="toPhysicalRelation"/>
                <link port="rx_power.fromPhysical" relation="fromPhysicalRelation"/>
                <link port="rx_power.syncSchedule" relation="syncScheduleRelation"/>
                <link port="rx_power.powerStatus" relation="powerStatusRelation"/>
            </entity>
            <entity name="MicrostepDelay2" class="ptolemy.actor.lib.MicrostepDelay">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-145.0, 375.0}">
                </property>
                <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
                </property>
            </entity>
            <entity name="PacketProcessor" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{105.0, 305.0}">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 810}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 768]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6606772633033863">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{887.1317991631802, 945.5482969403766}">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="false">
                </property>
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{80, 510}">
                    </property>
                </property>
                <port name="inPacket" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{-5.0, 675.0}">
                    </property>
                </port>
                <entity name="RecordDisassembler3" class="ptolemy.actor.lib.RecordDisassembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{285.0, 730.0}">
                    </property>
                    <port name="type" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                        </property>
                    </port>
                </entity>
                <entity name="Expression" class="ptolemy.actor.lib.Expression">
                    <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="in == &quot;ADV&quot; ? 0 : (in == &quot;DATA&quot; ? 1 : (in == &quot;ACK&quot; ? 2 : -1))">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{610.0, 750.0}">
                    </property>
                    <port name="in" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="ADV" class="ptolemy.actor.lib.RecordDisassembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1150.0, 495.0}">
                    </property>
                    <port name="sender" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                        </property>
                    </port>
                    <port name="type" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_type" class="ptolemy.actor.TypeAttribute" value="string">
                        </property>
                    </port>
                    <port name="asn" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                        <property name="_type" class="ptolemy.actor.TypeAttribute" value="int">
                        </property>
                    </port>
                </entity>
                <entity name="Switch" class="ptolemy.actor.lib.Switch">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{830.0, 675.0}">
                    </property>
                </entity>
                <entity name="DATA" class="ptolemy.actor.lib.RecordDisassembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1135.0, 660.0}">
                    </property>
                    <port name="sender" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="type" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="ackRequired" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="data" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="SetVariable3" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastPacketType">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1280.0, 515.0}">
                    </property>
                </entity>
                <entity name="setVariable" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastPacketSender">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1290.0, 620.0}">
                    </property>
                </entity>
                <entity name="setVariable2" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="ackRequired">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[1280.0, 705.0]">
                    </property>
                </entity>
                <entity name="setVariable4" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastPacketSender">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1290.0, 460.0}">
                    </property>
                </entity>
                <entity name="setVariable5" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastPacketSender">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1290.0, 785.0}">
                    </property>
                </entity>
                <entity name="SetVariable4" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="otherASN">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1265.0, 575.0}">
                    </property>
                </entity>
                <entity name="SetVariable5" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastPacketType">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[1280.0, 665.0]">
                    </property>
                </entity>
                <entity name="ACK" class="ptolemy.actor.lib.RecordDisassembler">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1120.0, 825.0}">
                    </property>
                    <port name="sender" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="ackTimeCorrection" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                    <port name="type" class="ptolemy.actor.TypedIOPort">
                        <property name="output"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="SetVariable6" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="ackTimeCorrection">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1295.0, 845.0}">
                    </property>
                </entity>
                <entity name="SetVariable7" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastPacketType">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1280.0, 900.0}">
                    </property>
                </entity>
                <entity name="JSONToToken" class="ptolemy.actor.lib.conversions.json.JSONToToken">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{185.0, 750.0}">
                    </property>
                </entity>
                <entity name="TokenToJSON" class="ptolemy.actor.lib.conversions.json.TokenToJSON">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{85.0, 750.0}">
                    </property>
                </entity>
                <entity name="JSONToToken2" class="ptolemy.actor.lib.conversions.json.JSONToToken">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1025.0, 515.0}">
                    </property>
                </entity>
                <entity name="TokenToJSON2" class="ptolemy.actor.lib.conversions.json.TokenToJSON">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{915.0, 515.0}">
                    </property>
                </entity>
                <entity name="JSONToToken3" class="ptolemy.actor.lib.conversions.json.JSONToToken">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1025.0, 680.0}">
                    </property>
                </entity>
                <entity name="TokenToJSON3" class="ptolemy.actor.lib.conversions.json.TokenToJSON">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{915.0, 680.0}">
                    </property>
                </entity>
                <entity name="JSONToToken4" class="ptolemy.actor.lib.conversions.json.JSONToToken">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1025.0, 845.0}">
                    </property>
                </entity>
                <entity name="TokenToJSON4" class="ptolemy.actor.lib.conversions.json.TokenToJSON">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{915.0, 845.0}">
                    </property>
                </entity>
                <entity name="setVariable3" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastPacketPayload">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{1290.0, 745.0}">
                    </property>
                </entity>
                <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="isLastPacketValid">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[530.0, 615.0]">
                    </property>
                </entity>
                <entity name="Const" class="ptolemy.actor.lib.Const">
                    <property name="value" class="ptolemy.data.expr.Parameter" value="true">
                    </property>
                    <doc>Create a constant sequence.</doc>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="[345.0, 620.0]">
                    </property>
                </entity>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{255.0, 750.0}">
                    </vertex>
                </relation>
                <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation11" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation12" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation13" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation16" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation17" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation18" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation19" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation20" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="[50.0, 675.0]">
                    </vertex>
                </relation>
                <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation14" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation15" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation21" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation22" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation23" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation24" class="ptolemy.actor.TypedIORelation">
                </relation>
                <relation name="relation25" class="ptolemy.actor.TypedIORelation">
                </relation>
                <link port="inPacket" relation="relation10"/>
                <link port="RecordDisassembler3.input" relation="relation6"/>
                <link port="RecordDisassembler3.type" relation="relation5"/>
                <link port="Expression.output" relation="relation"/>
                <link port="Expression.in" relation="relation5"/>
                <link port="ADV.input" relation="relation7"/>
                <link port="ADV.sender" relation="relation8"/>
                <link port="ADV.type" relation="relation17"/>
                <link port="ADV.asn" relation="relation12"/>
                <link port="Switch.input" relation="relation10"/>
                <link port="Switch.output" relation="relation4"/>
                <link port="Switch.output" relation="relation14"/>
                <link port="Switch.output" relation="relation23"/>
                <link port="Switch.control" relation="relation"/>
                <link port="DATA.input" relation="relation15"/>
                <link port="DATA.sender" relation="relation16"/>
                <link port="DATA.type" relation="relation11"/>
                <link port="DATA.ackRequired" relation="relation13"/>
                <link port="DATA.data" relation="relation24"/>
                <link port="SetVariable3.input" relation="relation17"/>
                <link port="setVariable.input" relation="relation16"/>
                <link port="setVariable2.input" relation="relation13"/>
                <link port="setVariable4.input" relation="relation8"/>
                <link port="setVariable5.input" relation="relation18"/>
                <link port="SetVariable4.input" relation="relation12"/>
                <link port="SetVariable5.input" relation="relation11"/>
                <link port="ACK.input" relation="relation22"/>
                <link port="ACK.sender" relation="relation18"/>
                <link port="ACK.ackTimeCorrection" relation="relation20"/>
                <link port="ACK.type" relation="relation19"/>
                <link port="SetVariable6.input" relation="relation20"/>
                <link port="SetVariable7.input" relation="relation19"/>
                <link port="JSONToToken.input" relation="relation2"/>
                <link port="JSONToToken.output" relation="relation6"/>
                <link port="TokenToJSON.input" relation="relation10"/>
                <link port="TokenToJSON.output" relation="relation2"/>
                <link port="JSONToToken2.input" relation="relation3"/>
                <link port="JSONToToken2.output" relation="relation7"/>
                <link port="TokenToJSON2.input" relation="relation4"/>
                <link port="TokenToJSON2.output" relation="relation3"/>
                <link port="JSONToToken3.input" relation="relation9"/>
                <link port="JSONToToken3.output" relation="relation15"/>
                <link port="TokenToJSON3.input" relation="relation14"/>
                <link port="TokenToJSON3.output" relation="relation9"/>
                <link port="JSONToToken4.input" relation="relation21"/>
                <link port="JSONToToken4.output" relation="relation22"/>
                <link port="TokenToJSON4.input" relation="relation23"/>
                <link port="TokenToJSON4.output" relation="relation21"/>
                <link port="setVariable3.input" relation="relation24"/>
                <link port="SetVariable.input" relation="relation25"/>
                <link port="Const.output" relation="relation25"/>
                <link port="Const.trigger" relation="relation10"/>
            </entity>
            <entity name="packetQueueManager" class="ptolemy.actor.TypedCompositeActor">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-165.0, 120.0]">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 874}, maximized=false}">
                </property>
                <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 524]">
                </property>
                <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
                </property>
                <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{706.0697674418607, 389.13512899709303}">
                </property>
                <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{60.0, 215.0}">
                    </property>
                </property>
                <port name="packetIn" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{380.0, 290.0}">
                    </property>
                </port>
                <port name="next" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 430.0}">
                    </property>
                </port>
                <port name="packetOut" class="ptolemy.actor.TypedIOPort">
                    <property name="output"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{725.0, 465.0}">
                    </property>
                </port>
                <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                    <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="lastPacketPayload">
                    </property>
                    <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{775.0, 420.0}">
                    </property>
                </entity>
                <entity name="Queue" class="ptolemy.domains.de.lib.Queue">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{570.0, 360.0}">
                    </property>
                </entity>
                <entity name="Expression" class="ptolemy.actor.lib.Expression">
                    <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="cellType == &quot;TX&quot; || cellType == &quot;RXTX&quot;">
                    </property>
                    <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                        <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                        </property>
                        <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                        </property>
                        <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                        </property>
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{225.0, 495.0}">
                    </property>
                    <port name="cellType" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                        </property>
                    </port>
                </entity>
                <entity name="BooleanSwitch" class="ptolemy.actor.lib.BooleanSwitch">
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{455.0, 430.0}">
                    </property>
                </entity>
                <entity name="Discard" class="ptolemy.actor.lib.Discard">
                    <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                    <property name="_location" class="ptolemy.kernel.util.Location" value="{570.0, 505.0}">
                    </property>
                    <port name="input" class="ptolemy.actor.TypedIOPort">
                        <property name="input"/>
                        <property name="multiport"/>
                        <property name="_cardinal" class="ptolemy.kernel.util.StringAttribute" value="NORTH">
                        </property>
                    </port>
                </entity>
                <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{700.0, 360.0}">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;packetOut._location&quot;,x=725.0,y=465.0}, tail={id=&quot;relation4.vertex1&quot;,x=700.0,y=360.0}, points={700.0,465.0} },{ head={id=&quot;.DisplayTime2.input&quot;,x=775.0,y=360.0}, tail={id=&quot;relation4.vertex1&quot;,x=700.0,y=360.0}, points={} },{ head={id=&quot;SetVariable.input&quot;,x=775.0,y=420.0}, tail={id=&quot;relation4.vertex1&quot;,x=700.0,y=360.0}, points={700.0,420.0} },{ head={id=&quot;Queue.output&quot;,x=570.0,y=360.0}, tail={id=&quot;relation4.vertex1&quot;,x=700.0,y=360.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{530.0, 290.0}">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;.DisplayTime.input&quot;,x=650.0,y=290.0}, tail={id=&quot;relation7.vertex1&quot;,x=530.0,y=290.0}, points={} },{ head={id=&quot;packetIn._location&quot;,x=380.0,y=290.0}, tail={id=&quot;relation7.vertex1&quot;,x=530.0,y=290.0}, points={} },{ head={id=&quot;Queue.input&quot;,x=570.0,y=360.0}, tail={id=&quot;relation7.vertex1&quot;,x=530.0,y=290.0}, points={530.0,360.0} } }">
                    </property>
                </relation>
                <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{55.0, 430.0}">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.cellType&quot;,x=225.0,y=495.0}, tail={id=&quot;relation8.vertex1&quot;,x=55.0,y=430.0}, points={55.0,495.0} },{ head={id=&quot;next._location&quot;,x=20.0,y=430.0}, tail={id=&quot;relation8.vertex1&quot;,x=55.0,y=430.0}, points={} },{ head={id=&quot;BooleanSwitch.input&quot;,x=455.0,y=430.0}, tail={id=&quot;relation8.vertex1&quot;,x=55.0,y=430.0}, points={} } }">
                    </property>
                </relation>
                <relation name="relation" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;BooleanSwitch.falseOutput&quot;,x=455.0,y=430.0}, tail={id=&quot;Discard.input&quot;,x=570.0,y=505.0}, points={530.0,440.0,530.0,470.0,570.0,470.0} } }">
                    </property>
                </relation>
                <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Queue.trigger&quot;,x=570.0,y=360.0}, tail={id=&quot;BooleanSwitch.trueOutput&quot;,x=455.0,y=430.0}, points={560.0,420.0} } }">
                    </property>
                </relation>
                <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                    <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                    </property>
                    <vertex name="vertex1" value="{395.0, 495.0}">
                    </vertex>
                    <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=225.0,y=495.0}, tail={id=&quot;relation6.vertex1&quot;,x=395.0,y=495.0}, points={} },{ head={id=&quot;BooleanSwitch.control&quot;,x=455.0,y=430.0}, tail={id=&quot;relation6.vertex1&quot;,x=395.0,y=495.0}, points={455.0,495.0} } }">
                    </property>
                </relation>
                <link port="packetIn" relation="relation7"/>
                <link port="next" relation="relation8"/>
                <link port="packetOut" relation="relation4"/>
                <link port="SetVariable.input" relation="relation4"/>
                <link port="Queue.input" relation="relation7"/>
                <link port="Queue.output" relation="relation4"/>
                <link port="Queue.trigger" relation="relation5"/>
                <link port="Expression.output" relation="relation6"/>
                <link port="Expression.cellType" relation="relation8"/>
                <link port="BooleanSwitch.input" relation="relation8"/>
                <link port="BooleanSwitch.control" relation="relation6"/>
                <link port="BooleanSwitch.trueOutput" relation="relation5"/>
                <link port="BooleanSwitch.falseOutput" relation="relation"/>
                <link port="Discard.input" relation="relation"/>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation12" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[-125.0, 250.0]">
                </vertex>
            </relation>
            <relation name="relation14" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{-195.0, 315.0}">
                </vertex>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="[20.0, 305.0]">
                </vertex>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="startOfFrame" relation="relation"/>
            <link port="endOfFrame" relation="relation2"/>
            <link port="fromApplication" relation="relation4"/>
            <link port="toApplication" relation="relation5"/>
            <link port="fromPhysical" relation="relation7"/>
            <link port="toPhysical" relation="relation8"/>
            <link port="cellType.cellType" relation="relation12"/>
            <link port="cellType.adjustment" relation="relation14"/>
            <link port="TSCHStateMachine.startOfFrame" relation="relation"/>
            <link port="TSCHStateMachine.endOfFrame" relation="relation2"/>
            <link port="TSCHStateMachine.dataToSend" relation="relation3"/>
            <link port="TSCHStateMachine.cellType" relation="relation12"/>
            <link port="TSCHStateMachine.toApplication" relation="relation5"/>
            <link port="TSCHStateMachine.toPhysical" relation="relation8"/>
            <link port="TSCHStateMachine.fromPhysical" relation="relation7"/>
            <link port="TSCHStateMachine.syncSchedule" relation="relation6"/>
            <link port="MicrostepDelay2.input" relation="relation6"/>
            <link port="MicrostepDelay2.output" relation="relation14"/>
            <link port="PacketProcessor.inPacket" relation="relation7"/>
            <link port="packetQueueManager.packetIn" relation="relation4"/>
            <link port="packetQueueManager.next" relation="relation12"/>
            <link port="packetQueueManager.packetOut" relation="relation3"/>
        </entity>
        <entity name="MicrostepDelay" class="ptolemy.actor.lib.MicrostepDelay">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[275.0, 545.0]">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
        </entity>
        <entity name="MicrostepDelay2" class="ptolemy.actor.lib.MicrostepDelay">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[1025.0, 355.0]">
            </property>
            <property name="_flipPortsHorizontal" class="ptolemy.data.expr.Parameter" value="true">
            </property>
        </entity>
        <entity name="AppLayer" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{960.0, 260.0}">
            </property>
            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{55.0, 15.0}">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1200, 874}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[966, 764]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.000000000000004">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{433.09180595930013, 208.47497274708752}">
            </property>
            <port name="fromMAC" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[130.0, 60.0]">
                </property>
            </port>
            <port name="toMAC" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{600.0, 160.0}">
                </property>
            </port>
            <entity name="Merge" class="ptolemy.domains.continuous.lib.ContinuousMerge">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{550.0, 160.0}">
                </property>
            </entity>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;toMAC._location&quot;,x=600.0,y=160.0}, tail={id=&quot;Merge.output&quot;,x=550.0,y=160.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="fromMAC" relation="relation2"/>
            <link port="toMAC" relation="relation4"/>
            <link port="Merge.input" relation="relation2"/>
            <link port="Merge.output" relation="relation4"/>
        </entity>
        <entity name="NodeParameterAutomation" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[60.0, -85.0]">
            </property>
            <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-195.0, 40.0}">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 22, 1440, 812}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1206, 702]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{-117.74651162790701, 142.95373364825582}">
            </property>
            <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
                <property name="text" class="ptolemy.kernel.util.StringAttribute" value="thread safe?">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-595.0, 195.0]">
                </property>
            </property>
            <port name="location" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[325.0, 260.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="Expression" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="localAddress % 3">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-35.0, 275.0}">
                </property>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="Select" class="ptolemy.actor.lib.Select">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 160.0}">
                </property>
            </entity>
            <entity name="schedule_1" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="{&quot;ADV&quot;, &quot;OFF&quot;, &quot;RX&quot;, &quot;TX&quot;}">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-35.0, 105.0}">
                </property>
            </entity>
            <entity name="schedule_2" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="{&quot;ADV&quot;, &quot;RX&quot;, &quot;TX&quot;, &quot;OFF&quot;}">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-35.0, 155.0}">
                </property>
            </entity>
            <entity name="schedule_3" class="ptolemy.actor.lib.Const">
                <property name="value" class="ptolemy.data.expr.Parameter" value="{&quot;ADV&quot;, &quot;TX&quot;, &quot;OFF&quot;, &quot;RX&quot;}">
                </property>
                <doc>Create a constant sequence.</doc>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-35.0, 230.0}">
                </property>
            </entity>
            <entity name="Gaussian" class="ptolemy.actor.lib.Gaussian">
                <property name="standardDeviation" class="ptolemy.actor.parameters.PortParameter" value="1E-5">
                </property>
                <doc>Create a sequence of gaussian random variables</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-15.0, 345.0}">
                </property>
            </entity>
            <entity name="setDrift" class="ptolemy.actor.lib.SetVariable">
                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="drift">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{100.0, 345.0}">
                </property>
            </entity>
            <entity name="setSchedule" class="ptolemy.actor.lib.SetVariable">
                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="schedule">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{190.0, 160.0}">
                </property>
            </entity>
            <entity name="SingleEvent" class="ptolemy.actor.lib.SingleEvent">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-575.0, 355.0]">
                </property>
            </entity>
            <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="initialAddress">
                </property>
                <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-270.0, 245.0]">
                </property>
            </entity>
            <entity name="SetVariable2" class="ptolemy.actor.lib.SetVariable">
                <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="localAddress">
                </property>
                <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-310.0, 295.0]">
                </property>
            </entity>
            <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="initialAddress">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-450.0, 355.0]">
                </property>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="initialAddress+1">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-400.0, 245.0]">
                </property>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="Expression4" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="[100.0 + localAddress*200, 500.0]">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[-5.0, 425.0]">
                </property>
                <port name="trigger" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=-35.0,y=275.0}, tail={id=&quot;Select.control&quot;,x=110.0,y=160.0}, points={110.0,275.0} } }">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Select.input&quot;,x=110.0,y=160.0,index=3}, tail={id=&quot;schedule_1.output&quot;,x=-35.0,y=105.0}, points={60.0,150.0,60.0,105.0} } }">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Select.input&quot;,x=110.0,y=160.0,index=3}, tail={id=&quot;schedule_2.output&quot;,x=-35.0,y=155.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Select.input&quot;,x=110.0,y=160.0,index=3}, tail={id=&quot;schedule_3.output&quot;,x=-35.0,y=230.0}, points={60.0,160.0,60.0,230.0} } }">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Gaussian.output&quot;,x=-15.0,y=345.0}, tail={id=&quot;setDrift.input&quot;,x=100.0,y=345.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;Select.output&quot;,x=110.0,y=160.0}, tail={id=&quot;setSchedule.input&quot;,x=190.0,y=160.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{-155.0, 335.0}">
                </vertex>
                <property name="_layoutHint" class="ptolemy.vergil.basic.layout.kieler.LayoutHint" value="{ { head={id=&quot;schedule_3.trigger&quot;,x=-35.0,y=230.0}, tail={id=&quot;relation7.vertex1&quot;,x=-155.0,y=335.0}, points={-155.0,230.0} },{ head={id=&quot;Expression.trigger&quot;,x=-35.0,y=275.0}, tail={id=&quot;relation7.vertex1&quot;,x=-155.0,y=335.0}, points={-155.0,275.0} },{ head={id=&quot;Gaussian.trigger&quot;,x=-15.0,y=345.0}, tail={id=&quot;relation7.vertex1&quot;,x=-155.0,y=335.0}, points={} },{ head={id=&quot;schedule_2.trigger&quot;,x=-35.0,y=155.0}, tail={id=&quot;relation7.vertex1&quot;,x=-155.0,y=335.0}, points={-155.0,155.0} },{ head={id=&quot;schedule_1.trigger&quot;,x=-35.0,y=105.0}, tail={id=&quot;relation7.vertex1&quot;,x=-155.0,y=335.0}, points={-155.0,105.0} } }">
                </property>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
                </property>
                <vertex name="vertex1" value="{-425.0, 300.0}">
                </vertex>
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            </relation>
            <relation name="relation11" class="ptolemy.actor.TypedIORelation">
            </relation>
            <link port="location" relation="relation11"/>
            <link port="Expression.output" relation="relation"/>
            <link port="Expression.trigger" relation="relation7"/>
            <link port="Select.input" relation="relation2"/>
            <link port="Select.input" relation="relation3"/>
            <link port="Select.input" relation="relation4"/>
            <link port="Select.output" relation="relation6"/>
            <link port="Select.control" relation="relation"/>
            <link port="schedule_1.output" relation="relation2"/>
            <link port="schedule_1.trigger" relation="relation7"/>
            <link port="schedule_2.output" relation="relation3"/>
            <link port="schedule_2.trigger" relation="relation7"/>
            <link port="schedule_3.output" relation="relation4"/>
            <link port="schedule_3.trigger" relation="relation7"/>
            <link port="Gaussian.output" relation="relation5"/>
            <link port="Gaussian.trigger" relation="relation7"/>
            <link port="setDrift.input" relation="relation5"/>
            <link port="setSchedule.input" relation="relation6"/>
            <link port="SingleEvent.output" relation="relation8"/>
            <link port="SetVariable.input" relation="relation9"/>
            <link port="SetVariable2.input" relation="relation10"/>
            <link port="SetVariable2.output" relation="relation7"/>
            <link port="Expression2.output" relation="relation10"/>
            <link port="Expression2.trigger" relation="relation8"/>
            <link port="Expression3.output" relation="relation9"/>
            <link port="Expression3.trigger" relation="relation10"/>
            <link port="Expression4.output" relation="relation11"/>
            <link port="Expression4.trigger" relation="relation7"/>
        </entity>
        <entity name="SetVariable" class="ptolemy.actor.lib.SetVariable">
            <property name="variableName" class="ptolemy.kernel.util.StringAttribute" value="_location">
            </property>
            <property name="delayed" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="variableName">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="40">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{227.22956798833422, -78.01373764770835}">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[365.0, 420.0]">
            </vertex>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[325.0, 335.0]">
            </vertex>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{325.0, 240.0}">
            </vertex>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="[485.0, 545.0]">
            </vertex>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation14" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{610.0, 405.0}">
            </vertex>
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        </relation>
        <link port="wirelessIn" relation="relation"/>
        <link port="wirelessOut" relation="relation14"/>
        <link port="PhysicalLayer.toMAC" relation="relation5"/>
        <link port="PhysicalLayer.startOfFrame" relation="relation9"/>
        <link port="PhysicalLayer.endOfFrame" relation="relation3"/>
        <link port="PhysicalLayer.fromChannel" relation="relation"/>
        <link port="PhysicalLayer.fromMAC" relation="relation7"/>
        <link port="PhysicalLayer.toChannel" relation="relation14"/>
        <link port="MACLayer.startOfFrame" relation="relation9"/>
        <link port="MACLayer.endOfFrame" relation="relation3"/>
        <link port="MACLayer.fromApplication" relation="relation12"/>
        <link port="MACLayer.toApplication" relation="relation10"/>
        <link port="MACLayer.fromPhysical" relation="relation5"/>
        <link port="MACLayer.toPhysical" relation="relation2"/>
        <link port="MicrostepDelay.input" relation="relation2"/>
        <link port="MicrostepDelay.output" relation="relation7"/>
        <link port="MicrostepDelay2.input" relation="relation11"/>
        <link port="MicrostepDelay2.output" relation="relation12"/>
        <link port="AppLayer.fromMAC" relation="relation10"/>
        <link port="AppLayer.toMAC" relation="relation11"/>
        <link port="NodeParameterAutomation.location" relation="relation6"/>
        <link port="SetVariable.input" relation="relation6"/>
    </entity>
</entity>
